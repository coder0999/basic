(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function xS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sp={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function Tx(){if(CT)return hu;CT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return hu.Fragment=t,hu.jsx=n,hu.jsxs=n,hu}var xT;function Ex(){return xT||(xT=1,sp.exports=Tx()),sp.exports}var B=Ex(),rp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function Ax(){if(IT)return Ct;IT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function N(M,st,ut){this.props=M,this.context=st,this.refs=L,this.updater=ut||R}N.prototype.isReactComponent={},N.prototype.setState=function(M,st){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,st,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=N.prototype;function q(M,st,ut){this.props=M,this.context=st,this.refs=L,this.updater=ut||R}var $=q.prototype=new F;$.constructor=q,I($,N.prototype),$.isPureReactComponent=!0;var lt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function V(M,st,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:e,type:M,key:st,ref:ut!==void 0?ut:null,props:Dt}}function w(M,st){return V(M.type,st,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function P(M){var st={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return st[ut]})}var k=/\/+/g;function z(M,st){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):st.toString(36)}function D(){}function Ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(st){M.status==="pending"&&(M.status="fulfilled",M.value=st)},function(st){M.status==="pending"&&(M.status="rejected",M.reason=st)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,st,ut,at,yt){var Dt=typeof M;(Dt==="undefined"||Dt==="boolean")&&(M=null);var bt=!1;if(M===null)bt=!0;else switch(Dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(M.$$typeof){case e:case t:bt=!0;break;case y:return bt=M._init,ne(bt(M._payload),st,ut,at,yt)}}if(bt)return yt=yt(M),bt=at===""?"."+z(M,0):at,lt(yt)?(ut="",bt!=null&&(ut=bt.replace(k,"$&/")+"/"),ne(yt,st,ut,"",function(ri){return ri})):yt!=null&&(C(yt)&&(yt=w(yt,ut+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(k,"$&/")+"/")+bt)),st.push(yt)),1;bt=0;var Le=at===""?".":at+":";if(lt(M))for(var Jt=0;Jt<M.length;Jt++)at=M[Jt],Dt=Le+z(at,Jt),bt+=ne(at,st,ut,Dt,yt);else if(Jt=A(M),typeof Jt=="function")for(M=Jt.call(M),Jt=0;!(at=M.next()).done;)at=at.value,Dt=Le+z(at,Jt++),bt+=ne(at,st,ut,Dt,yt);else if(Dt==="object"){if(typeof M.then=="function")return ne(Ee(M),st,ut,at,yt);throw st=String(M),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return bt}function W(M,st,ut){if(M==null)return M;var at=[],yt=0;return ne(M,at,"","",function(Dt){return st.call(ut,Dt,yt++)}),at}function rt(M){if(M._status===-1){var st=M._result;st=st(),st.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=st)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function xt(){}return Ct.Children={map:W,forEach:function(M,st,ut){W(M,function(){st.apply(this,arguments)},ut)},count:function(M){var st=0;return W(M,function(){st++}),st},toArray:function(M){return W(M,function(st){return st})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ct.Component=N,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=q,Ct.StrictMode=s,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return it.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cloneElement=function(M,st,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=I({},M.props),yt=M.key,Dt=void 0;if(st!=null)for(bt in st.ref!==void 0&&(Dt=void 0),st.key!==void 0&&(yt=""+st.key),st)!dt.call(st,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&st.ref===void 0||(at[bt]=st[bt]);var bt=arguments.length-2;if(bt===1)at.children=ut;else if(1<bt){for(var Le=Array(bt),Jt=0;Jt<bt;Jt++)Le[Jt]=arguments[Jt+2];at.children=Le}return V(M.type,yt,void 0,void 0,Dt,at)},Ct.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ct.createElement=function(M,st,ut){var at,yt={},Dt=null;if(st!=null)for(at in st.key!==void 0&&(Dt=""+st.key),st)dt.call(st,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=st[at]);var bt=arguments.length-2;if(bt===1)yt.children=ut;else if(1<bt){for(var Le=Array(bt),Jt=0;Jt<bt;Jt++)Le[Jt]=arguments[Jt+2];yt.children=Le}if(M&&M.defaultProps)for(at in bt=M.defaultProps,bt)yt[at]===void 0&&(yt[at]=bt[at]);return V(M,Dt,void 0,void 0,null,yt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:d,render:M}},Ct.isValidElement=C,Ct.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:rt}},Ct.memo=function(M,st){return{$$typeof:p,type:M,compare:st===void 0?null:st}},Ct.startTransition=function(M){var st=it.T,ut={};it.T=ut;try{var at=M(),yt=it.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,ht)}catch(Dt){ht(Dt)}finally{it.T=st}},Ct.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Ct.use=function(M){return it.H.use(M)},Ct.useActionState=function(M,st,ut){return it.H.useActionState(M,st,ut)},Ct.useCallback=function(M,st){return it.H.useCallback(M,st)},Ct.useContext=function(M){return it.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,st){return it.H.useDeferredValue(M,st)},Ct.useEffect=function(M,st,ut){var at=it.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,st)},Ct.useId=function(){return it.H.useId()},Ct.useImperativeHandle=function(M,st,ut){return it.H.useImperativeHandle(M,st,ut)},Ct.useInsertionEffect=function(M,st){return it.H.useInsertionEffect(M,st)},Ct.useLayoutEffect=function(M,st){return it.H.useLayoutEffect(M,st)},Ct.useMemo=function(M,st){return it.H.useMemo(M,st)},Ct.useOptimistic=function(M,st){return it.H.useOptimistic(M,st)},Ct.useReducer=function(M,st,ut){return it.H.useReducer(M,st,ut)},Ct.useRef=function(M){return it.H.useRef(M)},Ct.useState=function(M){return it.H.useState(M)},Ct.useSyncExternalStore=function(M,st,ut){return it.H.useSyncExternalStore(M,st,ut)},Ct.useTransition=function(){return it.H.useTransition()},Ct.version="19.1.1",Ct}var DT;function Og(){return DT||(DT=1,rp.exports=Ax()),rp.exports}var U=Og();const Sx=xS(U);var ap={exports:{}},fu={},op={exports:{}},lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function bx(){return VT||(VT=1,(function(e){function t(W,rt){var ht=W.length;W.push(rt);t:for(;0<ht;){var xt=ht-1>>>1,M=W[xt];if(0<a(M,rt))W[xt]=rt,W[ht]=M,ht=xt;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var rt=W[0],ht=W.pop();if(ht!==rt){W[0]=ht;t:for(var xt=0,M=W.length,st=M>>>1;xt<st;){var ut=2*(xt+1)-1,at=W[ut],yt=ut+1,Dt=W[yt];if(0>a(at,ht))yt<M&&0>a(Dt,at)?(W[xt]=Dt,W[yt]=ht,xt=yt):(W[xt]=at,W[ut]=ht,xt=ut);else if(yt<M&&0>a(Dt,ht))W[xt]=Dt,W[yt]=ht,xt=yt;else break t}}return rt}function a(W,rt){var ht=W.sortIndex-rt.sortIndex;return ht!==0?ht:W.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,A=3,R=!1,I=!1,L=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function lt(W){for(var rt=n(p);rt!==null;){if(rt.callback===null)s(p);else if(rt.startTime<=W)s(p),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(p)}}function it(W){if(L=!1,lt(W),!I)if(n(m)!==null)I=!0,dt||(dt=!0,z());else{var rt=n(p);rt!==null&&ne(it,rt.startTime-W)}}var dt=!1,V=-1,w=5,C=-1;function P(){return N?!0:!(e.unstable_now()-C<w)}function k(){if(N=!1,dt){var W=e.unstable_now();C=W;var rt=!0;try{t:{I=!1,L&&(L=!1,q(V),V=-1),R=!0;var ht=A;try{e:{for(lt(W),T=n(m);T!==null&&!(T.expirationTime>W&&P());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,A=T.priorityLevel;var M=xt(T.expirationTime<=W);if(W=e.unstable_now(),typeof M=="function"){T.callback=M,lt(W),rt=!0;break e}T===n(m)&&s(m),lt(W)}else s(m);T=n(m)}if(T!==null)rt=!0;else{var st=n(p);st!==null&&ne(it,st.startTime-W),rt=!1}}break t}finally{T=null,A=ht,R=!1}rt=void 0}}finally{rt?z():dt=!1}}}var z;if(typeof $=="function")z=function(){$(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ee=D.port2;D.port1.onmessage=k,z=function(){Ee.postMessage(null)}}else z=function(){F(k,0)};function ne(W,rt){V=F(function(){W(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_next=function(W){switch(A){case 1:case 2:case 3:var rt=3;break;default:rt=A}var ht=A;A=rt;try{return W()}finally{A=ht}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ht=A;A=W;try{return rt()}finally{A=ht}},e.unstable_scheduleCallback=function(W,rt,ht){var xt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,W={id:y++,callback:rt,priorityLevel:W,startTime:ht,expirationTime:M,sortIndex:-1},ht>xt?(W.sortIndex=ht,t(p,W),n(m)===null&&W===n(p)&&(L?(q(V),V=-1):L=!0,ne(it,ht-xt))):(W.sortIndex=M,t(m,W),I||R||(I=!0,dt||(dt=!0,z()))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var rt=A;return function(){var ht=A;A=rt;try{return W.apply(this,arguments)}finally{A=ht}}}})(lp)),lp}var MT;function wx(){return MT||(MT=1,op.exports=bx()),op.exports}var up={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function Rx(){if(NT)return tn;NT=1;var e=Og();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},tn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},tn.requestFormReset=function(m){s.d.r(m)},tn.unstable_batchedUpdates=function(m,p){return m(p)},tn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var PT;function Cx(){if(PT)return up.exports;PT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),up.exports=Rx(),up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function xx(){if(OT)return fu;OT=1;var e=wx(),t=Og(),n=Cx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=g;break}if(S===u){E=!0,u=f,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=f;break}if(S===u){E=!0,u=g,o=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case N:return"Profiler";case L:return"StrictMode";case it:return"Suspense";case dt:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case $:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:Ee(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return Ee(i(r))}catch{}}return null}var ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],M=-1;function st(i){return{current:i}}function ut(i){0>M||(i.current=xt[M],xt[M]=null,M--)}function at(i,r){M++,xt[M]=i.current,i.current=r}var yt=st(null),Dt=st(null),bt=st(null),Le=st(null);function Jt(i,r){switch(at(bt,r),at(Dt,i),at(yt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?eT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=eT(r),i=nT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(yt),at(yt,i)}function ri(){ut(yt),ut(Dt),ut(bt)}function Es(i){i.memoizedState!==null&&at(Le,i);var r=yt.current,o=nT(r,i.type);r!==o&&(at(Dt,i),at(yt,o))}function Li(i){Dt.current===i&&(ut(yt),ut(Dt)),Le.current===i&&(ut(Le),au._currentValue=ht)}var _r=Object.prototype.hasOwnProperty,Tr=e.unstable_scheduleCallback,Er=e.unstable_cancelCallback,il=e.unstable_shouldYield,mc=e.unstable_requestPaint,Cn=e.unstable_now,sd=e.unstable_getCurrentPriorityLevel,sl=e.unstable_ImmediatePriority,ba=e.unstable_UserBlockingPriority,Ar=e.unstable_NormalPriority,rd=e.unstable_LowPriority,wa=e.unstable_IdlePriority,rl=e.log,pc=e.unstable_setDisableYieldValue,he=null,Gt=null;function vn(i){if(typeof rl=="function"&&pc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:Sr,gc=Math.log,ad=Math.LN2;function Sr(i){return i>>>=0,i===0?32:31-(gc(i)/ad|0)|0}var br=256,wr=4194304;function Gn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ra(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=Gn(u):(E&=S,E!==0?f=Gn(E):o||(o=S&~i,o!==0&&(f=Gn(o))))):(S=u&~g,S!==0?f=Gn(S):E!==0?f=Gn(E):o||(o=u&~i,o!==0&&(f=Gn(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Rr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function al(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var i=br;return br<<=1,(br&4194048)===0&&(br=256),i}function ll(){var i=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),i}function ki(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Ui(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ul(i,r,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,x=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Ze(o),et=1<<Z;S[Z]=0,x[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&ai(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function ai(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ze(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function cl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function As(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ca(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ss(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:ET(i.type))}function yc(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var se=Math.random().toString(36).slice(2),De="__reactFiber$"+se,Ae="__reactProps$"+se,xn="__reactContainer$"+se,hl="__reactEvents$"+se,od="__reactListeners$"+se,bs="__reactHandles$"+se,vc="__reactResources$"+se,Cr="__reactMarker$"+se;function ws(i){delete i[De],delete i[Ae],delete i[hl],delete i[od],delete i[bs]}function ji(i){var r=i[De];if(r)return r;for(var o=i.parentNode;o;){if(r=o[xn]||o[De]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=aT(i);i!==null;){if(o=i[De])return o;i=aT(i)}return r}i=o,o=i.parentNode}return null}function oi(i){if(i=i[De]||i[xn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function li(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function on(i){var r=i[vc];return r||(r=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[Cr]=!0}var fl=new Set,xa={};function Kn(i,r){Bi(i,r),Bi(i+"Capture",r)}function Bi(i,r){for(xa[i]=r,i=0;i<r.length;i++)fl.add(r[i])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},xr={};function Ec(i){return _r.call(xr,i)?!0:_r.call(Tc,i)?!1:_c.test(i)?xr[i]=!0:(Tc[i]=!0,!1)}function Rs(i,r,o){if(Ec(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ui(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Ir,Ac;function zi(i){if(Ir===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ir=r&&r[1]||"",Ac=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+i+Ac}var Ia=!1;function Da(i,r){if(!i||Ia)return"";Ia=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var Y=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){Y=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var x=E.split(`
`),K=S.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===K.length)for(u=x.length-1,f=K.length-1;1<=u&&0<=f&&x[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==K[f]){var Z=`
`+x[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Ia=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?zi(o):""}function dl(i){switch(i.tag){case 26:case 27:case 5:return zi(i.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Da(i.type,!1);case 11:return Da(i.type.render,!1);case 1:return Da(i.type,!0);case 31:return zi("Activity");default:return""}}function Va(i){try{var r="";do r+=dl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ml(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ld(i){var r=ml(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ma(i){i._valueTracker||(i._valueTracker=ld(i))}function pl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ml(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Dr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ud=/[\n"\\]/g;function Se(i){return i.replace(ud,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(i,r,o,u,f,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Cs(i,E,ln(r)):o!=null?Cs(i,E,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ln(S):i.removeAttribute("name")}function Vr(i,r,o,u,f,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Cs(i,r,o){r==="number"&&Dr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Fi(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function $t(i,r,o){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ln(o):""}function Mr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ln(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function In(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Nr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Nr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function gl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Sc(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Sc(i,g,r[g])}function yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(i){return hd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qi=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,Gi=null;function vl(i){var r=oi(i);if(r&&(i=r.stateNode)){var o=i[Ae]||null;t:switch(i=r.stateNode,r.type){case"input":if(_n(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Ae]||null;if(!f)throw Error(s(90));_n(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&pl(u)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Fi(i,!!o.multiple,r,!1)}}}var ci=!1;function bc(i,r,o){if(ci)return i(r,o);ci=!0;try{var u=i(r);return u}finally{if(ci=!1,(Hi!==null||Gi!==null)&&(yh(),Hi&&(r=Hi,i=Gi,Gi=Hi=null,vl(r),i)))for(r=0;r<i.length;r++)vl(i[r])}}function Pr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ae]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Yn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Vn=!1}var hi=null,xs=null,Ki=null;function _l(){if(Ki)return Ki;var i,r=xs,o=r.length,u,f="value"in hi?hi.value:hi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===f[g-u];u++);return Ki=f.slice(i,1<u?1-u:void 0)}function fi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function di(){return!0}function Tl(){return!1}function ke(i){function r(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?di:Tl,this.isPropagationStopped=Tl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),r}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=ke(qt),Lr=y({},qt,{view:0,detail:0}),wc=ke(Lr),Oa,La,mi,kr=y({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(Oa=i.screenX-mi.screenX,La=i.screenY-mi.screenY):La=Oa=0,mi=i),Oa)},movementY:function(i){return"movementY"in i?i.movementY:La}}),Mn=ke(kr),Rc=y({},kr,{dataTransfer:0}),fd=ke(Rc),Ur=y({},Lr,{relatedTarget:0}),ka=ke(Ur),El=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=ke(El),Cc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ja=ke(Cc),dd=y({},qt,{data:0}),Al=ke(dd),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ic[i])?!!r[i]:!1}function Br(){return Sl}var Dc=y({},Lr,{key:function(i){if(i.key){var r=jr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=fi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(i){return i.type==="keypress"?fi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=ke(Dc),Vc=y({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=ke(Vc),Yi=y({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),Mc=ke(Yi),Nc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pc=ke(Nc),Oc=y({},kr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),za=ke(Oc),un=y({},qt,{newState:0,oldState:0}),Lc=ke(un),kc=[9,13,27,32],pi=Yn&&"CompositionEvent"in window,h=null;Yn&&"documentMode"in document&&(h=document.documentMode);var v=Yn&&"TextEvent"in window&&!h,_=Yn&&(!pi||h&&8<h&&11>=h),b=" ",H=!1;function X(i,r){switch(i){case"keyup":return kc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kt=!1;function Ve(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(H=!0,b);case"textInput":return i=r.data,i===b&&H?null:i;default:return null}}function Ut(i,r){if(kt)return i==="compositionend"||!pi&&X(i,r)?(i=_l(),Ki=xs=hi=null,kt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ue[i.type]:r==="textarea"}function $i(i,r,o,u){Hi?Gi?Gi.push(u):Gi=[u]:Hi=u,r=Sh(r,"onChange"),0<r.length&&(o=new Pa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,gi=null;function wl(i){X0(i,0)}function Uc(i){var r=li(i);if(pl(r))return i}function yv(i,r){if(i==="change")return r}var vv=!1;if(Yn){var md;if(Yn){var pd="oninput"in document;if(!pd){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),pd=typeof _v.oninput=="function"}md=pd}else md=!1;vv=md&&(!document.documentMode||9<document.documentMode)}function Tv(){He&&(He.detachEvent("onpropertychange",Ev),gi=He=null)}function Ev(i){if(i.propertyName==="value"&&Uc(gi)){var r=[];$i(r,gi,i,Dn(i)),bc(wl,r)}}function XR(i,r,o){i==="focusin"?(Tv(),He=r,gi=o,He.attachEvent("onpropertychange",Ev)):i==="focusout"&&Tv()}function WR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uc(gi)}function ZR(i,r){if(i==="click")return Uc(r)}function JR(i,r){if(i==="input"||i==="change")return Uc(r)}function tC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:tC;function Rl(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!_r.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function Av(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sv(i,r){var o=Av(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Av(o)}}function bv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?bv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function wv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Dr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Dr(i.document)}return r}function gd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var eC=Yn&&"documentMode"in document&&11>=document.documentMode,Fa=null,yd=null,Cl=null,vd=!1;function Rv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vd||Fa==null||Fa!==Dr(u)||(u=Fa,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cl&&Rl(Cl,u)||(Cl=u,u=Sh(yd,"onSelect"),0<u.length&&(r=new Pa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Fa)))}function zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var qa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},_d={},Cv={};Yn&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Fr(i){if(_d[i])return _d[i];if(!qa[i])return i;var r=qa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Cv)return _d[i]=r[o];return i}var xv=Fr("animationend"),Iv=Fr("animationiteration"),Dv=Fr("animationstart"),nC=Fr("transitionrun"),iC=Fr("transitionstart"),sC=Fr("transitioncancel"),Vv=Fr("transitionend"),Mv=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function $n(i,r){Mv.set(i,r),Kn(r,[i])}var Nv=new WeakMap;function Nn(i,r){if(typeof i=="object"&&i!==null){var o=Nv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Va(r)},Nv.set(i,r),r)}return{value:i,source:r,stack:Va(r)}}var Pn=[],Ha=0,Ed=0;function jc(){for(var i=Ha,r=Ed=Ha=0;r<i;){var o=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var g=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Pv(o,f,g)}}function Bc(i,r,o,u){Pn[Ha++]=i,Pn[Ha++]=r,Pn[Ha++]=o,Pn[Ha++]=u,Ed|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ad(i,r,o,u){return Bc(i,r,o,u),zc(i)}function Ga(i,r){return Bc(i,null,null,r),zc(i)}function Pv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Ze(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function zc(i){if(50<Zl)throw Zl=0,xm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ka={};function rC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,r,o,u){return new rC(i,r,o,u)}function Sd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qi(i,r){var o=i.alternate;return o===null?(o=En(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ov(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Fc(i,r,o,u,f,g){var E=0;if(u=i,typeof i=="function")Sd(i)&&(E=1);else if(typeof i=="string")E=ox(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=En(31,o,r,f),i.elementType=C,i.lanes=g,i;case I:return qr(o.children,f,g,r);case L:E=8,f|=24;break;case N:return i=En(12,o,r,f|2),i.elementType=N,i.lanes=g,i;case it:return i=En(13,o,r,f),i.elementType=it,i.lanes=g,i;case dt:return i=En(19,o,r,f),i.elementType=dt,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case $:E=10;break t;case q:E=9;break t;case lt:E=11;break t;case V:E=14;break t;case w:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=En(E,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function qr(i,r,o,u){return i=En(7,i,u,r),i.lanes=o,i}function bd(i,r,o){return i=En(6,i,null,r),i.lanes=o,i}function wd(i,r,o){return r=En(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ya=[],$a=0,qc=null,Hc=0,On=[],Ln=0,Hr=null,Xi=1,Wi="";function Gr(i,r){Ya[$a++]=Hc,Ya[$a++]=qc,qc=i,Hc=r}function Lv(i,r,o){On[Ln++]=Xi,On[Ln++]=Wi,On[Ln++]=Hr,Hr=i;var u=Xi;i=Wi;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var g=32-Ze(r)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Xi=1<<32-Ze(r)+f|o<<f|u,Wi=g+i}else Xi=1<<g|o<<f|u,Wi=i}function Rd(i){i.return!==null&&(Gr(i,1),Lv(i,1,0))}function Cd(i){for(;i===qc;)qc=Ya[--$a],Ya[$a]=null,Hc=Ya[--$a],Ya[$a]=null;for(;i===Hr;)Hr=On[--Ln],On[Ln]=null,Wi=On[--Ln],On[Ln]=null,Xi=On[--Ln],On[Ln]=null}var cn=null,fe=null,Ft=!1,Kr=null,yi=!1,xd=Error(s(519));function Yr(i){var r=Error(s(418,""));throw Dl(Nn(r,i)),xd}function kv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[De]=i,r[Ae]=u,o){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(o=0;o<tu.length;o++)Nt(tu[o],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),Vr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ma(r);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),Mr(r,u.value,u.defaultValue,u.children),Ma(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||tT(r.textContent,o)?(u.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),u.onScroll!=null&&Nt("scroll",r),u.onScrollEnd!=null&&Nt("scrollend",r),u.onClick!=null&&(r.onclick=bh),r=!0):r=!1,r||Yr(i)}function Uv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:cn=cn.return}}function xl(i){if(i!==cn)return!1;if(!Ft)return Uv(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Hm(i.type,i.memoizedProps)),o=!o),o&&fe&&Yr(i),Uv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){fe=Xn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,Hs(i.type)?(i=$m,$m=null,fe=i):fe=r):fe=cn?Xn(i.stateNode.nextSibling):null;return!0}function Il(){fe=cn=null,Ft=!1}function jv(){var i=Kr;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Kr=null),i}function Dl(i){Kr===null?Kr=[i]:Kr.push(i)}var Id=st(null),$r=null,Zi=null;function Is(i,r,o){at(Id,r._currentValue),r._currentValue=o}function Ji(i){i._currentValue=Id.current,ut(Id)}function Dd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Vd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=f;for(var x=0;x<r.length;x++)if(S.context===r[x]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Dd(g.return,o,i),u||(E=null);break t}g=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Dd(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Vl(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(f===Le.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(au):i=[au])}f=f.return}i!==null&&Vd(r,i,o,u),r.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qr(i){$r=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return Bv($r,i)}function Kc(i,r){return $r===null&&Qr(i),Bv(i,r)}function Bv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(s(308));Zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zi=Zi.next=r;return o}var aC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},oC=e.unstable_scheduleCallback,lC=e.unstable_NormalPriority,Ne={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new aC,data:new Map,refCount:0}}function Ml(i){i.refCount--,i.refCount===0&&oC(lC,function(){i.controller.abort()})}var Nl=null,Nd=0,Qa=0,Xa=null;function uC(i,r){if(Nl===null){var o=Nl=[];Nd=0,Qa=Om(),Xa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nd++,r.then(zv,zv),r}function zv(){if(--Nd===0&&Nl!==null){Xa!==null&&(Xa.status="fulfilled");var i=Nl;Nl=null,Qa=0,Xa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function cC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Fv=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&uC(i,r),Fv!==null&&Fv(i,r)};var Xr=st(null);function Pd(){var i=Xr.current;return i!==null?i:te.pooledCache}function Yc(i,r){r===null?at(Xr,Xr.current):at(Xr,r.pool)}function qv(){var i=Pd();return i===null?null:{parent:Ne._currentValue,pool:i}}var Pl=Error(s(460)),Hv=Error(s(474)),$c=Error(s(542)),Od={then:function(){}};function Gv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qc(){}function Kv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Qc,Qc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,$v(i),i;default:if(typeof r.status=="string")r.then(Qc,Qc);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,$v(i),i}throw Ol=r,Pl}}var Ol=null;function Yv(){if(Ol===null)throw Error(s(459));var i=Ol;return Ol=null,i}function $v(i){if(i===Pl||i===$c)throw Error(s(483))}var Ds=!1;function Ld(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ms(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=zc(i),Pv(i,null,o),r}return Bc(i,u,r,o),zc(i)}function Ll(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,cl(i,o)}}function Ud(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var jd=!1;function kl(){if(jd){var i=Xa;if(i!==null)throw i}}function Ul(i,r,o,u){jd=!1;var f=i.updateQueue;Ds=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,K=x.next;x.next=null,E===null?g=K:E.next=K,E=x;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=x))}if(g!==null){var et=f.baseState;E=0,Z=K=x=null,S=g;do{var Y=S.lane&-536870913,Q=Y!==S.lane;if(Q?(jt&Y)===Y:(u&Y)===Y){Y!==0&&Y===Qa&&(jd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=i,vt=S;Y=r;var Wt=o;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){et=Et.call(Wt,et,Y);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,Y=typeof Et=="function"?Et.call(Wt,et,Y):Et,Y==null)break t;et=y({},et,Y);break t;case 2:Ds=!0}}Y=S.callback,Y!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=Q,x=et):Z=Z.next=Q,E|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(x=et),f.baseState=x,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Bs|=E,i.lanes=E,i.memoizedState=et}}function Qv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Xv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Qv(o[i],r)}var Wa=st(null),Xc=st(0);function Wv(i,r){i=as,at(Xc,i),at(Wa,r),as=i|r.baseLanes}function Bd(){at(Xc,as),at(Wa,Wa.current)}function zd(){as=Xc.current,ut(Wa),ut(Xc)}var Ns=0,It=null,Qt=null,be=null,Wc=!1,Za=!1,Wr=!1,Zc=0,jl=0,Ja=null,hC=0;function ge(){throw Error(s(321))}function Fd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Tn(i[o],r[o]))return!1;return!0}function qd(i,r,o,u,f,g){return Ns=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?P_:O_,Wr=!1,g=o(u,f),Wr=!1,Za&&(g=Jv(r,o,u,f)),Zv(i),g}function Zv(i){W.H=sh;var r=Qt!==null&&Qt.next!==null;if(Ns=0,be=Qt=It=null,Wc=!1,jl=0,Ja=null,r)throw Error(s(300));i===null||je||(i=i.dependencies,i!==null&&Gc(i)&&(je=!0))}function Jv(i,r,o,u){It=i;var f=0;do{if(Za&&(Ja=null),jl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,be=Qt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=vC,g=r(o,u)}while(Za);return g}function fC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Bl(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(It.flags|=1024),r}function Hd(){var i=Zc!==0;return Zc=0,i}function Gd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Kd(i){if(Wc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wc=!1}Ns=0,be=Qt=It=null,Za=!1,jl=Zc=0,Ja=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?It.memoizedState=be=i:be=be.next=i,be}function we(){if(Qt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=be===null?It.memoizedState:be.next;if(r!==null)be=r,Qt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},be===null?It.memoizedState=be=i:be=be.next=i}return be}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(i){var r=jl;return jl+=1,Ja===null&&(Ja=[]),i=Kv(Ja,i,r),r=It,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?P_:O_),i}function Jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bl(i);if(i.$$typeof===$)return Je(i)}throw Error(s(438,String(i)))}function $d(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Yd(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function ts(i,r){return typeof r=="function"?r(i):r}function th(i){var r=we();return Qd(r,Qt,i)}function Qd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var S=E=null,x=null,K=r,Z=!1;do{var et=K.lane&-536870913;if(et!==K.lane?(jt&et)===et:(Ns&et)===et){var Y=K.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),et===Qa&&(Z=!0);else if((Ns&Y)===Y){K=K.next,Y===Qa&&(Z=!0);continue}else et={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(S=x=et,E=g):x=x.next=et,It.lanes|=Y,Bs|=Y;et=K.action,Wr&&o(g,et),g=K.hasEagerState?K.eagerState:o(g,et)}else Y={lane:et,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(S=x=Y,E=g):x=x.next=Y,It.lanes|=et,Bs|=et;K=K.next}while(K!==null&&K!==r);if(x===null?E=g:x.next=S,!Tn(g,i.memoizedState)&&(je=!0,Z&&(o=Xa,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=x,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Xd(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Tn(g,r.memoizedState)||(je=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function t_(i,r,o){var u=It,f=we(),g=Ft;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Tn((Qt||f).memoizedState,o);E&&(f.memoizedState=o,je=!0),f=f.queue;var S=i_.bind(null,u,f,i);if(zl(2048,8,S,[i]),f.getSnapshot!==r||E||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,to(9,eh(),n_.bind(null,u,f,o,r),null),te===null)throw Error(s(349));g||(Ns&124)!==0||e_(u,r,o)}return o}function e_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=Yd(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function n_(i,r,o,u){r.value=o,r.getSnapshot=u,s_(r)&&r_(i)}function i_(i,r,o){return o(function(){s_(r)&&r_(i)})}function s_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Tn(i,o)}catch{return!0}}function r_(i){var r=Ga(i,2);r!==null&&Rn(r,i,2)}function Wd(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),Wr){vn(!0);try{o()}finally{vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:i},r}function a_(i,r,o,u){return i.baseState=o,Qd(i,Qt,typeof u=="function"?u:ts)}function dC(i,r,o,u,f){if(ih(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,o_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function o_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=W.T,E={};W.T=E;try{var S=o(f,u),x=W.S;x!==null&&x(E,S),l_(i,r,S)}catch(K){Zd(i,r,K)}finally{W.T=g}}else try{g=o(f,u),l_(i,r,g)}catch(K){Zd(i,r,K)}}function l_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){u_(i,r,u)},function(u){return Zd(i,r,u)}):u_(i,r,o)}function u_(i,r,o){r.status="fulfilled",r.value=o,c_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,o_(i,o)))}function Zd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,c_(r),r=r.next;while(r!==u)}i.action=null}function c_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function h_(i,r){return r}function f_(i,r){if(Ft){var o=te.formState;if(o!==null){t:{var u=It;if(Ft){if(fe){e:{for(var f=fe,g=yi;f.nodeType!==8;){if(!g){f=null;break e}if(f=Xn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){fe=Xn(f.nextSibling),u=f.data==="F!";break t}}Yr(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:r},o.queue=u,o=V_.bind(null,It,u),u.dispatch=o,u=Wd(!1),g=im.bind(null,It,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=dC.bind(null,It,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function d_(i){var r=we();return m_(r,Qt,i)}function m_(i,r,o){if(r=Qd(i,r,h_)[0],i=th(ts)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Bl(r)}catch(E){throw E===Pl?$c:E}else u=r;r=we();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(It.flags|=2048,to(9,eh(),mC.bind(null,f,o),null)),[u,g,i]}function mC(i,r){i.action=r}function p_(i){var r=we(),o=Qt;if(o!==null)return m_(r,o,i);we(),r=r.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function to(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=Yd(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function eh(){return{destroy:void 0,resource:void 0}}function g_(){return we().memoizedState}function nh(i,r,o,u){var f=dn();u=u===void 0?null:u,It.flags|=i,f.memoizedState=to(1|r,eh(),o,u)}function zl(i,r,o,u){var f=we();u=u===void 0?null:u;var g=f.memoizedState.inst;Qt!==null&&u!==null&&Fd(u,Qt.memoizedState.deps)?f.memoizedState=to(r,g,o,u):(It.flags|=i,f.memoizedState=to(1|r,g,o,u))}function y_(i,r){nh(8390656,8,i,r)}function v_(i,r){zl(2048,8,i,r)}function __(i,r){return zl(4,2,i,r)}function T_(i,r){return zl(4,4,i,r)}function E_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function A_(i,r,o){o=o!=null?o.concat([i]):null,zl(4,4,E_.bind(null,r,i),o)}function Jd(){}function S_(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Fd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function b_(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Fd(r,u[1]))return u[0];if(u=i(),Wr){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,r],u}function tm(i,r,o){return o===void 0||(Ns&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=C0(),It.lanes|=i,Bs|=i,o)}function w_(i,r,o,u){return Tn(o,r)?o:Wa.current!==null?(i=tm(i,o,u),Tn(i,r)||(je=!0),i):(Ns&42)===0?(je=!0,i.memoizedState=o):(i=C0(),It.lanes|=i,Bs|=i,r)}function R_(i,r,o,u,f){var g=rt.p;rt.p=g!==0&&8>g?g:8;var E=W.T,S={};W.T=S,im(i,!1,r,o);try{var x=f(),K=W.S;if(K!==null&&K(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=cC(x,u);Fl(i,r,Z,wn(i))}else Fl(i,r,u,wn(i))}catch(et){Fl(i,r,{then:function(){},status:"rejected",reason:et},wn())}finally{rt.p=g,W.T=E}}function pC(){}function em(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=C_(i).queue;R_(i,f,r,ht,o===null?pC:function(){return x_(i),o(u)})}function C_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ht},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function x_(i){var r=C_(i).next.queue;Fl(i,r,{},wn())}function nm(){return Je(au)}function I_(){return we().memoizedState}function D_(){return we().memoizedState}function gC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=wn();i=Vs(o);var u=Ms(r,i,o);u!==null&&(Rn(u,r,o),Ll(u,r,o)),r={cache:Md()},i.payload=r;return}r=r.return}}function yC(i,r,o){var u=wn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ih(i)?M_(r,o):(o=Ad(i,r,o,u),o!==null&&(Rn(o,i,u),N_(o,r,u)))}function V_(i,r,o){var u=wn();Fl(i,r,o,u)}function Fl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ih(i))M_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,S=g(E,o);if(f.hasEagerState=!0,f.eagerState=S,Tn(S,E))return Bc(i,r,f,0),te===null&&jc(),!1}catch{}finally{}if(o=Ad(i,r,f,u),o!==null)return Rn(o,i,u),N_(o,r,u),!0}return!1}function im(i,r,o,u){if(u={lane:2,revertLane:Om(),action:u,hasEagerState:!1,eagerState:null,next:null},ih(i)){if(r)throw Error(s(479))}else r=Ad(i,o,u,2),r!==null&&Rn(r,i,2)}function ih(i){var r=i.alternate;return i===It||r!==null&&r===It}function M_(i,r){Za=Wc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function N_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,cl(i,o)}}var sh={readContext:Je,use:Jc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},P_={readContext:Je,use:Jc,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:y_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,nh(4194308,4,E_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return nh(4194308,4,i,r)},useInsertionEffect:function(i,r){nh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(Wr){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(Wr){vn(!0);try{o(r)}finally{vn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=yC.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Wd(i);var r=i.queue,o=V_.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jd,useDeferredValue:function(i,r){var o=dn();return tm(o,i,r)},useTransition:function(){var i=Wd(!1);return i=R_.bind(null,It,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=dn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(jt&124)!==0||e_(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,y_(i_.bind(null,u,g,i),[i]),u.flags|=2048,to(9,eh(),n_.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=te.identifierPrefix;if(Ft){var o=Wi,u=Xi;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=Zc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=hC++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:nm,useFormState:f_,useActionState:f_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=im.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:$d,useCacheRefresh:function(){return dn().memoizedState=gC.bind(null,It)}},O_={readContext:Je,use:Jc,useCallback:S_,useContext:Je,useEffect:v_,useImperativeHandle:A_,useInsertionEffect:__,useLayoutEffect:T_,useMemo:b_,useReducer:th,useRef:g_,useState:function(){return th(ts)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=we();return w_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=th(ts)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Bl(i),r]},useSyncExternalStore:t_,useId:I_,useHostTransitionStatus:nm,useFormState:d_,useActionState:d_,useOptimistic:function(i,r){var o=we();return a_(o,Qt,i,r)},useMemoCache:$d,useCacheRefresh:D_},vC={readContext:Je,use:Jc,useCallback:S_,useContext:Je,useEffect:v_,useImperativeHandle:A_,useInsertionEffect:__,useLayoutEffect:T_,useMemo:b_,useReducer:Xd,useRef:g_,useState:function(){return Xd(ts)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=we();return Qt===null?tm(o,i,r):w_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Xd(ts)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Bl(i),r]},useSyncExternalStore:t_,useId:I_,useHostTransitionStatus:nm,useFormState:p_,useActionState:p_,useOptimistic:function(i,r){var o=we();return Qt!==null?a_(o,Qt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:$d,useCacheRefresh:D_},eo=null,ql=0;function rh(i){var r=ql;return ql+=1,eo===null&&(eo=[]),Kv(eo,i,r)}function Hl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ah(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function L_(i){var r=i._init;return r(i._payload)}function k_(i){function r(j,O){if(i){var G=j.deletions;G===null?(j.deletions=[O],j.flags|=16):G.push(O)}}function o(j,O){if(!i)return null;for(;O!==null;)r(j,O),O=O.sibling;return null}function u(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function f(j,O){return j=Qi(j,O),j.index=0,j.sibling=null,j}function g(j,O,G){return j.index=G,i?(G=j.alternate,G!==null?(G=G.index,G<O?(j.flags|=67108866,O):G):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function E(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function S(j,O,G,J){return O===null||O.tag!==6?(O=bd(G,j.mode,J),O.return=j,O):(O=f(O,G),O.return=j,O)}function x(j,O,G,J){var mt=G.type;return mt===I?Z(j,O,G.props.children,J,G.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&L_(mt)===O.type)?(O=f(O,G.props),Hl(O,G),O.return=j,O):(O=Fc(G.type,G.key,G.props,null,j.mode,J),Hl(O,G),O.return=j,O)}function K(j,O,G,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==G.containerInfo||O.stateNode.implementation!==G.implementation?(O=wd(G,j.mode,J),O.return=j,O):(O=f(O,G.children||[]),O.return=j,O)}function Z(j,O,G,J,mt){return O===null||O.tag!==7?(O=qr(G,j.mode,J,mt),O.return=j,O):(O=f(O,G),O.return=j,O)}function et(j,O,G){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=bd(""+O,j.mode,G),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return G=Fc(O.type,O.key,O.props,null,j.mode,G),Hl(G,O),G.return=j,G;case R:return O=wd(O,j.mode,G),O.return=j,O;case w:var J=O._init;return O=J(O._payload),et(j,O,G)}if(ne(O)||z(O))return O=qr(O,j.mode,G,null),O.return=j,O;if(typeof O.then=="function")return et(j,rh(O),G);if(O.$$typeof===$)return et(j,Kc(j,O),G);ah(j,O)}return null}function Y(j,O,G,J){var mt=O!==null?O.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return mt!==null?null:S(j,O,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===mt?x(j,O,G,J):null;case R:return G.key===mt?K(j,O,G,J):null;case w:return mt=G._init,G=mt(G._payload),Y(j,O,G,J)}if(ne(G)||z(G))return mt!==null?null:Z(j,O,G,J,null);if(typeof G.then=="function")return Y(j,O,rh(G),J);if(G.$$typeof===$)return Y(j,O,Kc(j,G),J);ah(j,G)}return null}function Q(j,O,G,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(G)||null,S(O,j,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return j=j.get(J.key===null?G:J.key)||null,x(O,j,J,mt);case R:return j=j.get(J.key===null?G:J.key)||null,K(O,j,J,mt);case w:var Vt=J._init;return J=Vt(J._payload),Q(j,O,G,J,mt)}if(ne(J)||z(J))return j=j.get(G)||null,Z(O,j,J,mt,null);if(typeof J.then=="function")return Q(j,O,G,rh(J),mt);if(J.$$typeof===$)return Q(j,O,G,Kc(O,J),mt);ah(O,J)}return null}function Et(j,O,G,J){for(var mt=null,Vt=null,pt=O,_t=O=0,ze=null;pt!==null&&_t<G.length;_t++){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var zt=Y(j,pt,G[_t],J);if(zt===null){pt===null&&(pt=ze);break}i&&pt&&zt.alternate===null&&r(j,pt),O=g(zt,O,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt,pt=ze}if(_t===G.length)return o(j,pt),Ft&&Gr(j,_t),mt;if(pt===null){for(;_t<G.length;_t++)pt=et(j,G[_t],J),pt!==null&&(O=g(pt,O,_t),Vt===null?mt=pt:Vt.sibling=pt,Vt=pt);return Ft&&Gr(j,_t),mt}for(pt=u(pt);_t<G.length;_t++)ze=Q(pt,j,_t,G[_t],J),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?_t:ze.key),O=g(ze,O,_t),Vt===null?mt=ze:Vt.sibling=ze,Vt=ze);return i&&pt.forEach(function(Qs){return r(j,Qs)}),Ft&&Gr(j,_t),mt}function vt(j,O,G,J){if(G==null)throw Error(s(151));for(var mt=null,Vt=null,pt=O,_t=O=0,ze=null,zt=G.next();pt!==null&&!zt.done;_t++,zt=G.next()){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var Qs=Y(j,pt,zt.value,J);if(Qs===null){pt===null&&(pt=ze);break}i&&pt&&Qs.alternate===null&&r(j,pt),O=g(Qs,O,_t),Vt===null?mt=Qs:Vt.sibling=Qs,Vt=Qs,pt=ze}if(zt.done)return o(j,pt),Ft&&Gr(j,_t),mt;if(pt===null){for(;!zt.done;_t++,zt=G.next())zt=et(j,zt.value,J),zt!==null&&(O=g(zt,O,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt);return Ft&&Gr(j,_t),mt}for(pt=u(pt);!zt.done;_t++,zt=G.next())zt=Q(pt,j,_t,zt.value,J),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),O=g(zt,O,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt);return i&&pt.forEach(function(_x){return r(j,_x)}),Ft&&Gr(j,_t),mt}function Wt(j,O,G,J){if(typeof G=="object"&&G!==null&&G.type===I&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:t:{for(var mt=G.key;O!==null;){if(O.key===mt){if(mt=G.type,mt===I){if(O.tag===7){o(j,O.sibling),J=f(O,G.props.children),J.return=j,j=J;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&L_(mt)===O.type){o(j,O.sibling),J=f(O,G.props),Hl(J,G),J.return=j,j=J;break t}o(j,O);break}else r(j,O);O=O.sibling}G.type===I?(J=qr(G.props.children,j.mode,J,G.key),J.return=j,j=J):(J=Fc(G.type,G.key,G.props,null,j.mode,J),Hl(J,G),J.return=j,j=J)}return E(j);case R:t:{for(mt=G.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===G.containerInfo&&O.stateNode.implementation===G.implementation){o(j,O.sibling),J=f(O,G.children||[]),J.return=j,j=J;break t}else{o(j,O);break}else r(j,O);O=O.sibling}J=wd(G,j.mode,J),J.return=j,j=J}return E(j);case w:return mt=G._init,G=mt(G._payload),Wt(j,O,G,J)}if(ne(G))return Et(j,O,G,J);if(z(G)){if(mt=z(G),typeof mt!="function")throw Error(s(150));return G=mt.call(G),vt(j,O,G,J)}if(typeof G.then=="function")return Wt(j,O,rh(G),J);if(G.$$typeof===$)return Wt(j,O,Kc(j,G),J);ah(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,O!==null&&O.tag===6?(o(j,O.sibling),J=f(O,G),J.return=j,j=J):(o(j,O),J=bd(G,j.mode,J),J.return=j,j=J),E(j)):o(j,O)}return function(j,O,G,J){try{ql=0;var mt=Wt(j,O,G,J);return eo=null,mt}catch(pt){if(pt===Pl||pt===$c)throw pt;var Vt=En(29,pt,null,j.mode);return Vt.lanes=J,Vt.return=j,Vt}finally{}}}var no=k_(!0),U_=k_(!1),kn=st(null),vi=null;function Ps(i){var r=i.alternate;at(Pe,Pe.current&1),at(kn,i),vi===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(vi=i)}function j_(i){if(i.tag===22){if(at(Pe,Pe.current),at(kn,i),vi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(vi=i)}}else Os()}function Os(){at(Pe,Pe.current),at(kn,kn.current)}function es(i){ut(kn),vi===i&&(vi=null),ut(Pe)}var Pe=st(0);function oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ym(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=wn(),f=Vs(u);f.payload=r,o!=null&&(f.callback=o),r=Ms(i,f,u),r!==null&&(Rn(r,i,u),Ll(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=wn(),f=Vs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ms(i,f,u),r!==null&&(Rn(r,i,u),Ll(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=wn(),u=Vs(o);u.tag=2,r!=null&&(u.callback=r),r=Ms(i,u,o),r!==null&&(Rn(r,i,o),Ll(r,i,o))}};function B_(i,r,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Rl(o,u)||!Rl(f,g):!0}function z_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&rm.enqueueReplaceState(r,r.state,null)}function Zr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var lh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function F_(i){lh(i)}function q_(i){console.error(i)}function H_(i){lh(i)}function uh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function G_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(i,r,o){return o=Vs(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(i,r)},o}function K_(i){return i=Vs(i),i.tag=3,i}function Y_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){G_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){G_(r,o,u),typeof f!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function _C(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Vl(r,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 13:return vi===null?Dm():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Od?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Mm(i,u,f)),!1;case 22:return o.flags|=65536,u===Od?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Mm(i,u,f)),!1}throw Error(s(435,o.tag))}return Mm(i,u,f),Dm(),!1}if(Ft)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==xd&&(i=Error(s(422),{cause:u}),Dl(Nn(i,o)))):(u!==xd&&(r=Error(s(423),{cause:u}),Dl(Nn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Nn(u,o),f=am(i.stateNode,u,f),Ud(i,f),de!==4&&(de=2)),!1;var g=Error(s(520),{cause:u});if(g=Nn(g,o),Wl===null?Wl=[g]:Wl.push(g),de!==4&&(de=2),r===null)return!0;u=Nn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=am(o.stateNode,u,i),Ud(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zs===null||!zs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=K_(f),Y_(f,i,o,u),Ud(o,f),!1}o=o.return}while(o!==null);return!1}var $_=Error(s(461)),je=!1;function Ge(i,r,o,u){r.child=i===null?U_(r,null,o,u):no(r,i.child,o,u)}function Q_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Qr(r),u=qd(i,r,o,E,g,f),S=Hd(),i!==null&&!je?(Gd(i,r,f),ns(i,r,f)):(Ft&&S&&Rd(r),r.flags|=1,Ge(i,r,u,f),r.child)}function X_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Sd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,W_(i,r,g,u,f)):(i=Fc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!mm(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Rl,o(E,u)&&i.ref===r.ref)return ns(i,r,f)}return r.flags|=1,i=Qi(g,u),i.ref=r.ref,i.return=r,r.child=i}function W_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Rl(g,u)&&i.ref===r.ref)if(je=!1,r.pendingProps=u=g,mm(i,f))(i.flags&131072)!==0&&(je=!0);else return r.lanes=i.lanes,ns(i,r,f)}return om(i,r,o,u,f)}function Z_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return J_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yc(r,g!==null?g.cachePool:null),g!==null?Wv(r,g):Bd(),j_(r);else return r.lanes=r.childLanes=536870912,J_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Yc(r,g.cachePool),Wv(r,g),Os(),r.memoizedState=null):(i!==null&&Yc(r,null),Bd(),Os());return Ge(i,r,f,o),r.child}function J_(i,r,o,u){var f=Pd();return f=f===null?null:{parent:Ne._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Yc(r,null),Bd(),j_(r),i!==null&&Vl(i,r,u,!0),null}function ch(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function om(i,r,o,u,f){return Qr(r),o=qd(i,r,o,u,void 0,f),u=Hd(),i!==null&&!je?(Gd(i,r,f),ns(i,r,f)):(Ft&&u&&Rd(r),r.flags|=1,Ge(i,r,o,f),r.child)}function t0(i,r,o,u,f,g){return Qr(r),r.updateQueue=null,o=Jv(r,u,o,f),Zv(i),u=Hd(),i!==null&&!je?(Gd(i,r,g),ns(i,r,g)):(Ft&&u&&Rd(r),r.flags|=1,Ge(i,r,o,g),r.child)}function e0(i,r,o,u,f){if(Qr(r),r.stateNode===null){var g=Ka,E=o.contextType;typeof E=="object"&&E!==null&&(g=Je(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Ld(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?Je(E):Ka,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(sm(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&rm.enqueueReplaceState(g,g.state,null),Ul(r,u,g,f),kl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,x=Zr(o,S);g.props=x;var K=g.context,Z=o.contextType;E=Ka,typeof Z=="object"&&Z!==null&&(E=Je(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==E)&&z_(r,g,u,E),Ds=!1;var Y=r.memoizedState;g.state=Y,Ul(r,u,g,f),kl(),K=r.memoizedState,S||Y!==K||Ds?(typeof et=="function"&&(sm(r,o,et,u),K=r.memoizedState),(x=Ds||B_(r,o,x,u,Y,K,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=E,u=x):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,kd(i,r),E=r.memoizedProps,Z=Zr(o,E),g.props=Z,et=r.pendingProps,Y=g.context,K=o.contextType,x=Ka,typeof K=="object"&&K!==null&&(x=Je(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||Y!==x)&&z_(r,g,u,x),Ds=!1,Y=r.memoizedState,g.state=Y,Ul(r,u,g,f),kl();var Q=r.memoizedState;E!==et||Y!==Q||Ds||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof S=="function"&&(sm(r,o,S,u),Q=r.memoizedState),(Z=Ds||B_(r,o,Z,u,Y,Q,x)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,x)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=x,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,ch(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=no(r,i.child,null,f),r.child=no(r,null,o,f)):Ge(i,r,o,f),r.memoizedState=g.state,i=r.child):i=ns(i,r,f),i}function n0(i,r,o,u){return Il(),r.flags|=256,Ge(i,r,o,u),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(i){return{baseLanes:i,cachePool:qv()}}function cm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function i0(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Pe.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?Ps(r):Os(),Ft){var S=fe,x;if(x=S){t:{for(x=S,S=yi;x.nodeType!==8;){if(!S){S=null;break t}if(x=Xn(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(r.memoizedState={dehydrated:S,treeContext:Hr!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},x=En(18,null,null,0),x.stateNode=S,x.return=r,r.child=x,cn=r,fe=null,x=!0):x=!1}x||Yr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ym(S)?r.lanes=32:r.lanes=536870912,null;es(r)}return S=u.children,u=u.fallback,f?(Os(),f=r.mode,S=hh({mode:"hidden",children:S},f),u=qr(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=um(o),f.childLanes=cm(i,E,o),r.memoizedState=lm,u):(Ps(r),hm(r,S))}if(x=i.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(g)r.flags&256?(Ps(r),r.flags&=-257,r=fm(i,r,o)):r.memoizedState!==null?(Os(),r.child=i.child,r.flags|=128,r=null):(Os(),f=u.fallback,S=r.mode,u=hh({mode:"visible",children:u.children},S),f=qr(f,S,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,no(r,i.child,null,o),u=r.child,u.memoizedState=um(o),u.childLanes=cm(i,E,o),r.memoizedState=lm,r=f);else if(Ps(r),Ym(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,Dl({value:u,source:null,stack:null}),r=fm(i,r,o)}else if(je||Vl(i,r,o,!1),E=(o&i.childLanes)!==0,je||E){if(E=te,E!==null&&(u=o&-o,u=(u&42)!==0?1:As(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,Ga(i,u),Rn(E,i,u),$_;S.data==="$?"||Dm(),r=fm(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,fe=Xn(S.nextSibling),cn=r,Ft=!0,Kr=null,yi=!1,i!==null&&(On[Ln++]=Xi,On[Ln++]=Wi,On[Ln++]=Hr,Xi=i.id,Wi=i.overflow,Hr=r),r=hm(r,u.children),r.flags|=4096);return r}return f?(Os(),f=u.fallback,S=r.mode,x=i.child,K=x.sibling,u=Qi(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,K!==null?f=Qi(K,f):(f=qr(f,S,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=i.child.memoizedState,S===null?S=um(o):(x=S.cachePool,x!==null?(K=Ne._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=qv(),S={baseLanes:S.baseLanes|o,cachePool:x}),f.memoizedState=S,f.childLanes=cm(i,E,o),r.memoizedState=lm,u):(Ps(r),o=i.child,i=o.sibling,o=Qi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function hm(i,r){return r=hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hh(i,r){return i=En(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function fm(i,r,o){return no(r,i.child,null,o),i=hm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function s0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Dd(i.return,r,o)}function dm(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function r0(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Ge(i,r,u.children,o),u=Pe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&s0(i,o,r);else if(i.tag===19)s0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(at(Pe,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&oh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),dm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&oh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}dm(r,!0,o,null,g);break;case"together":dm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Bs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Vl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Qi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Qi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function mm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function TC(i,r,o){switch(r.tag){case 3:Jt(r,r.stateNode.containerInfo),Is(r,Ne,i.memoizedState.cache),Il();break;case 27:case 5:Es(r);break;case 4:Jt(r,r.stateNode.containerInfo);break;case 10:Is(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ps(r),r.flags|=128,null):(o&r.child.childLanes)!==0?i0(i,r,o):(Ps(r),i=ns(i,r,o),i!==null?i.sibling:null);Ps(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Vl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return r0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Pe,Pe.current),u)break;return null;case 22:case 23:return r.lanes=0,Z_(i,r,o);case 24:Is(r,Ne,i.memoizedState.cache)}return ns(i,r,o)}function a0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)je=!0;else{if(!mm(i,o)&&(r.flags&128)===0)return je=!1,TC(i,r,o);je=(i.flags&131072)!==0}else je=!1,Ft&&(r.flags&1048576)!==0&&Lv(r,Hc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Sd(u)?(i=Zr(u,i),r.tag=1,r=e0(null,r,u,i,o)):(r.tag=0,r=om(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===lt){r.tag=11,r=Q_(null,r,u,i,o);break t}else if(f===V){r.tag=14,r=X_(null,r,u,i,o);break t}}throw r=Ee(u)||u,Error(s(306,r,""))}}return r;case 0:return om(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Zr(u,r.pendingProps),e0(i,r,u,f,o);case 3:t:{if(Jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,kd(i,r),Ul(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Is(r,Ne,u),u!==g.cache&&Vd(r,[Ne],o,!0),kl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=n0(i,r,u,o);break t}else if(u!==f){f=Nn(Error(s(424)),r),Dl(f),r=n0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Xn(i.firstChild),cn=r,Ft=!0,Kr=null,yi=!0,o=U_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Il(),u===f){r=ns(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return ch(i,r),i===null?(o=cT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=wh(bt.current).createElement(o),u[De]=r,u[Ae]=i,Ye(u,o,i),pe(u),r.stateNode=u):r.memoizedState=cT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Es(r),i===null&&Ft&&(u=r.stateNode=oT(r.type,r.pendingProps,bt.current),cn=r,yi=!0,f=fe,Hs(r.type)?($m=f,fe=Xn(u.firstChild)):fe=f),Ge(i,r,r.pendingProps.children,o),ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=fe)&&(u=$C(u,r.type,r.pendingProps,yi),u!==null?(r.stateNode=u,cn=r,fe=Xn(u.firstChild),yi=!1,f=!0):f=!1),f||Yr(r)),Es(r),f=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Hm(f,g)?u=null:E!==null&&Hm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=qd(i,r,fC,null,null,o),au._currentValue=f),ch(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=fe)&&(o=QC(o,r.pendingProps,yi),o!==null?(r.stateNode=o,cn=r,fe=null,i=!0):i=!1),i||Yr(r)),null;case 13:return i0(i,r,o);case 4:return Jt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=no(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return Q_(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Is(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Qr(r),f=Je(f),u=u(f),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return X_(i,r,r.type,r.pendingProps,o);case 15:return W_(i,r,r.type,r.pendingProps,o);case 19:return r0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=hh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Qi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Z_(i,r,o);case 24:return Qr(r),u=Je(Ne),i===null?(f=Pd(),f===null&&(f=te,g=Md(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Ld(r),Is(r,Ne,f)):((i.lanes&o)!==0&&(kd(i,r),Ul(r,null,null,o),kl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Is(r,Ne,u)):(u=g.cache,Is(r,Ne,u),u!==f.cache&&Vd(r,[Ne],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function is(i){i.flags|=4}function o0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!pT(r)){if(r=kn.current,r!==null&&((jt&4194048)===jt?vi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||r!==vi))throw Ol=Od,Hv;i.flags|=8192}}function fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ll():536870912,i.lanes|=r,ao|=r)}function Gl(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function EC(i,r,o){var u=r.pendingProps;switch(Cd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ji(Ne),ri(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xl(r)?is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(is(r),o!==null?(oe(r),o0(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(is(r),oe(r),o0(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==u&&is(r),oe(r),r.flags&=-16777217),null;case 27:Li(r),o=bt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=yt.current,xl(r)?kv(r):(i=oT(f,u,o),r.stateNode=i,is(r))}return oe(r),null;case 5:if(Li(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=yt.current,xl(r))kv(r);else{switch(f=wh(bt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[De]=r,i[Ae]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&is(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,xl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[De]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||tT(i.nodeValue,o)),i||Yr(r)}else i=wh(i).createTextNode(u),i[De]=r,r.stateNode=i}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=xl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[De]=r}else Il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=jv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(es(r),r):(es(r),null)}if(es(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),fh(r,r.updateQueue),oe(r),null;case 4:return ri(),i===null&&jm(r.stateNode.containerInfo),oe(r),null;case 10:return Ji(r.type),oe(r),null;case 19:if(ut(Pe),f=r.memoizedState,f===null)return oe(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Gl(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=oh(i),g!==null){for(r.flags|=128,Gl(f,!1),i=g.updateQueue,r.updateQueue=i,fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Ov(o,i),o=o.sibling;return at(Pe,Pe.current&1|2),r.child}i=i.sibling}f.tail!==null&&Cn()>ph&&(r.flags|=128,u=!0,Gl(f,!1),r.lanes=4194304)}else{if(!u)if(i=oh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,fh(r,i),Gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ft)return oe(r),null}else 2*Cn()-f.renderingStartTime>ph&&o!==536870912&&(r.flags|=128,u=!0,Gl(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,i=Pe.current,at(Pe,u?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return es(r),zd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ut(Xr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ji(Ne),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function AC(i,r){switch(Cd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ji(Ne),ri(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Li(r),null;case 13:if(es(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Il()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ut(Pe),null;case 4:return ri(),null;case 10:return Ji(r.type),null;case 22:case 23:return es(r),zd(),i!==null&&ut(Xr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ji(Ne),null;case 25:return null;default:return null}}function l0(i,r){switch(Cd(r),r.tag){case 3:Ji(Ne),ri();break;case 26:case 27:case 5:Li(r);break;case 4:ri();break;case 13:es(r);break;case 19:ut(Pe);break;case 10:Ji(r.type);break;case 22:case 23:es(r),zd(),i!==null&&ut(Xr);break;case 24:Ji(Ne)}}function Kl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){Zt(r,r.return,S)}}function Ls(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var x=o,K=S;try{K()}catch(Z){Zt(f,x,Z)}}}u=u.next}while(u!==g)}}catch(Z){Zt(r,r.return,Z)}}function u0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Xv(r,o)}catch(u){Zt(i,i.return,u)}}}function c0(i,r,o){o.props=Zr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function Yl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Zt(i,r,f)}}function _i(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function h0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function pm(i,r,o){try{var u=i.stateNode;qC(u,i.type,o,r),u[Ae]=r}catch(f){Zt(i,i.return,f)}}function f0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hs(i.type)||i.tag===4}function gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||f0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ym(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=bh));else if(u!==4&&(u===27&&Hs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(ym(i,r,o),i=i.sibling;i!==null;)ym(i,r,o),i=i.sibling}function dh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Hs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(dh(i,r,o),i=i.sibling;i!==null;)dh(i,r,o),i=i.sibling}function d0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,u,o),r[De]=i,r[Ae]=o}catch(g){Zt(i,i.return,g)}}var ss=!1,ye=!1,vm=!1,m0=typeof WeakSet=="function"?WeakSet:Set,Be=null;function SC(i,r){if(i=i.containerInfo,Fm=Vh,i=wv(i),gd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,S=-1,x=-1,K=0,Z=0,et=i,Y=null;e:for(;;){for(var Q;et!==o||f!==0&&et.nodeType!==3||(S=E+f),et!==g||u!==0&&et.nodeType!==3||(x=E+u),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)Y=et,et=Q;for(;;){if(et===i)break e;if(Y===o&&++K===f&&(S=E),Y===g&&++Z===u&&(x=E),(Q=et.nextSibling)!==null)break;et=Y,Y=et.parentNode}et=Q}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:i,selectionRange:o},Vh=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Et=Zr(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Et,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Km(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Km(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function p0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ks(i,o),u&4&&Kl(5,o);break;case 1:if(ks(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Zt(o,o.return,E)}else{var f=Zr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(o,o.return,E)}}u&64&&u0(o),u&512&&Yl(o,o.return);break;case 3:if(ks(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Xv(i,r)}catch(E){Zt(o,o.return,E)}}break;case 27:r===null&&u&4&&d0(o);case 26:case 5:ks(i,o),r===null&&u&4&&h0(o),u&512&&Yl(o,o.return);break;case 12:ks(i,o);break;case 13:ks(i,o),u&4&&v0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=MC.bind(null,o),XC(i,o))));break;case 22:if(u=o.memoizedState!==null||ss,!u){r=r!==null&&r.memoizedState!==null||ye,f=ss;var g=ye;ss=u,(ye=r)&&!g?Us(i,o,(o.subtreeFlags&8772)!==0):ks(i,o),ss=f,ye=g}break;case 30:break;default:ks(i,o)}}function g0(i){var r=i.alternate;r!==null&&(i.alternate=null,g0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ws(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,mn=!1;function rs(i,r,o){for(o=o.child;o!==null;)y0(i,r,o),o=o.sibling}function y0(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||_i(o,r),rs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||_i(o,r);var u=re,f=mn;Hs(o.type)&&(re=o.stateNode,mn=!1),rs(i,r,o),nu(o.stateNode),re=u,mn=f;break;case 5:ye||_i(o,r);case 6:if(u=re,f=mn,re=null,rs(i,r,o),re=u,mn=f,re!==null)if(mn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(g){Zt(o,r,g)}else try{re.removeChild(o.stateNode)}catch(g){Zt(o,r,g)}break;case 18:re!==null&&(mn?(i=re,rT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),cu(i)):rT(re,o.stateNode));break;case 4:u=re,f=mn,re=o.stateNode.containerInfo,mn=!0,rs(i,r,o),re=u,mn=f;break;case 0:case 11:case 14:case 15:ye||Ls(2,o,r),ye||Ls(4,o,r),rs(i,r,o);break;case 1:ye||(_i(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&c0(o,r,u)),rs(i,r,o);break;case 21:rs(i,r,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,rs(i,r,o),ye=u;break;default:rs(i,r,o)}}function v0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cu(i)}catch(o){Zt(r,r.return,o)}}function bC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new m0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new m0),r;default:throw Error(s(435,i.tag))}}function _m(i,r){var o=bC(i);r.forEach(function(u){var f=NC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function An(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=r,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Hs(S.type)){re=S.stateNode,mn=!1;break t}break;case 5:re=S.stateNode,mn=!1;break t;case 3:case 4:re=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(re===null)throw Error(s(160));y0(g,E,f),re=null,mn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)_0(r,i),r=r.sibling}var Qn=null;function _0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),Sn(i),u&4&&(Ls(3,i,i.return),Kl(3,i),Ls(5,i,i.return));break;case 1:An(r,i),Sn(i),u&512&&(ye||o===null||_i(o,o.return)),u&64&&ss&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Qn;if(An(r,i),Sn(i),u&512&&(ye||o===null||_i(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Cr]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ye(g,u,o),g[De]=i,pe(g),u=g;break t;case"link":var E=dT("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break e}}g=f.createElement(u),Ye(g,u,o),f.head.appendChild(g);break;case"meta":if(E=dT("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break e}}g=f.createElement(u),Ye(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[De]=i,pe(g),u=g}i.stateNode=u}else mT(f,i.type,i.stateNode);else i.stateNode=fT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?mT(f,i.type,i.stateNode):fT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&pm(i,i.memoizedProps,o.memoizedProps)}break;case 27:An(r,i),Sn(i),u&512&&(ye||o===null||_i(o,o.return)),o!==null&&u&4&&pm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(An(r,i),Sn(i),u&512&&(ye||o===null||_i(o,o.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch(Q){Zt(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,pm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(vm=!0);break;case 6:if(An(r,i),Sn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){Zt(i,i.return,Q)}}break;case 3:if(xh=null,f=Qn,Qn=Rh(r.containerInfo),An(r,i),Qn=f,Sn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{cu(r.containerInfo)}catch(Q){Zt(i,i.return,Q)}vm&&(vm=!1,T0(i));break;case 4:u=Qn,Qn=Rh(i.stateNode.containerInfo),An(r,i),Sn(i),Qn=u;break;case 12:An(r,i),Sn(i);break;case 13:An(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wm=Cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,_m(i,u)));break;case 22:f=i.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,K=ss,Z=ye;if(ss=K||f,ye=Z||x,An(r,i),ye=Z,ss=K,Sn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||x||ss||ye||Jr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(g=x.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=x.stateNode;var et=x.memoizedProps.style,Y=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){Zt(x,x.return,Q)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Q){Zt(x,x.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_m(i,o))));break;case 19:An(r,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,_m(i,u)));break;case 30:break;case 21:break;default:An(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(f0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=gm(i);dh(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(In(E,""),o.flags&=-33);var S=gm(i);dh(i,S,E);break;case 3:case 4:var x=o.stateNode.containerInfo,K=gm(i);ym(i,K,x);break;default:throw Error(s(161))}}catch(Z){Zt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function T0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;T0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ks(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)p0(i,r.alternate,r),r=r.sibling}function Jr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ls(4,r,r.return),Jr(r);break;case 1:_i(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&c0(r,r.return,o),Jr(r);break;case 27:nu(r.stateNode);case 26:case 5:_i(r,r.return),Jr(r);break;case 22:r.memoizedState===null&&Jr(r);break;case 30:Jr(r);break;default:Jr(r)}i=i.sibling}}function Us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Us(f,g,o),Kl(4,g);break;case 1:if(Us(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Zt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Qv(x[f],S)}catch(K){Zt(u,u.return,K)}}o&&E&64&&u0(g),Yl(g,g.return);break;case 27:d0(g);case 26:case 5:Us(f,g,o),o&&u===null&&E&4&&h0(g),Yl(g,g.return);break;case 12:Us(f,g,o);break;case 13:Us(f,g,o),o&&E&4&&v0(f,g);break;case 22:g.memoizedState===null&&Us(f,g,o),Yl(g,g.return);break;case 30:break;default:Us(f,g,o)}r=r.sibling}}function Tm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ml(o))}function Em(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ml(i))}function Ti(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E0(i,r,o,u),r=r.sibling}function E0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,o,u),f&2048&&Kl(9,r);break;case 1:Ti(i,r,o,u);break;case 3:Ti(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ml(i)));break;case 12:if(f&2048){Ti(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Zt(r,r.return,x)}}else Ti(i,r,o,u);break;case 13:Ti(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?Ti(i,r,o,u):$l(i,r):g._visibility&2?Ti(i,r,o,u):(g._visibility|=2,io(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Tm(E,r);break;case 24:Ti(i,r,o,u),f&2048&&Em(r.alternate,r);break;default:Ti(i,r,o,u)}}function io(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,E=r,S=o,x=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:io(g,E,S,x,f),Kl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?io(g,E,S,x,f):$l(g,E):(Z._visibility|=2,io(g,E,S,x,f)),f&&K&2048&&Tm(E.alternate,E);break;case 24:io(g,E,S,x,f),f&&K&2048&&Em(E.alternate,E);break;default:io(g,E,S,x,f)}r=r.sibling}}function $l(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:$l(o,u),f&2048&&Tm(u.alternate,u);break;case 24:$l(o,u),f&2048&&Em(u.alternate,u);break;default:$l(o,u)}r=r.sibling}}var Ql=8192;function so(i){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)A0(i),i=i.sibling}function A0(i){switch(i.tag){case 26:so(i),i.flags&Ql&&i.memoizedState!==null&&ux(Qn,i.memoizedState,i.memoizedProps);break;case 5:so(i);break;case 3:case 4:var r=Qn;Qn=Rh(i.stateNode.containerInfo),so(i),Qn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ql,Ql=16777216,so(i),Ql=r):so(i));break;default:so(i)}}function S0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Xl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,w0(u,i)}S0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b0(i),i=i.sibling}function b0(i){switch(i.tag){case 0:case 11:case 15:Xl(i),i.flags&2048&&Ls(9,i,i.return);break;case 3:Xl(i);break;case 12:Xl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,mh(i)):Xl(i);break;default:Xl(i)}}function mh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,w0(u,i)}S0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ls(8,r,r.return),mh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,mh(r));break;default:mh(r)}i=i.sibling}}function w0(i,r){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:Ls(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var f=u.sibling,g=u.return;if(g0(u),u===o){Be=null;break t}if(f!==null){f.return=g,Be=f;break t}Be=g}}}var wC={getCacheForType:function(i){var r=Je(Ne),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},RC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Mt=null,jt=0,Yt=0,bn=null,js=!1,ro=!1,Am=!1,as=0,de=0,Bs=0,ta=0,Sm=0,Un=0,ao=0,Wl=null,pn=null,bm=!1,wm=0,ph=1/0,gh=null,zs=null,Ke=0,Fs=null,oo=null,lo=0,Rm=0,Cm=null,R0=null,Zl=0,xm=null;function wn(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(W.T!==null){var i=Qa;return i!==0?i:Om()}return Ss()}function C0(){Un===0&&(Un=(jt&536870912)===0||Ft?ol():536870912);var i=kn.current;return i!==null&&(i.flags|=32),Un}function Rn(i,r,o){(i===te&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(uo(i,0),qs(i,jt,Un,!1)),Ui(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(ta|=o),de===4&&qs(i,jt,Un,!1)),Ei(i))}function x0(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Rr(i,r),f=u?IC(i,r):Vm(i,r,!0),g=u;do{if(f===0){ro&&!u&&qs(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!CC(o)){f=Vm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var S=i;f=Wl;var x=S.current.memoizedState.isDehydrated;if(x&&(uo(S,E).flags|=256),E=Vm(S,E,!1),E!==2){if(Am&&!x){S.errorRecoveryDisabledLanes|=g,ta|=g,f=4;break t}g=pn,pn=f,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){uo(i,0),qs(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qs(u,r,Un,!js);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wm+300-Cn(),10<f)){if(qs(u,r,Un,!js),Ra(u,0,!0)!==0)break t;u.timeoutHandle=iT(I0.bind(null,u,o,pn,gh,bm,r,Un,ta,ao,js,g,2,-0,0),f);break t}I0(u,o,pn,gh,bm,r,Un,ta,ao,js,g,0,-0,0)}}break}while(!0);Ei(i)}function I0(i,r,o,u,f,g,E,S,x,K,Z,et,Y,Q){if(i.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:lx},A0(r),et=cx(),et!==null)){i.cancelPendingCommit=et(L0.bind(null,i,r,g,o,u,f,E,S,x,Z,1,Y,Q)),qs(i,g,E,!K);return}L0(i,r,g,o,u,f,E,S,x)}function CC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Tn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qs(i,r,o,u){r&=~Sm,r&=~ta,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-Ze(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&ai(i,o,r)}function yh(){return(Kt&6)===0?(Jl(0),!1):!0}function Im(){if(Mt!==null){if(Yt===0)var i=Mt.return;else i=Mt,Zi=$r=null,Kd(i),eo=null,ql=0,i=Mt;for(;i!==null;)l0(i.alternate,i),i=i.return;Mt=null}}function uo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,GC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Im(),te=i,Mt=o=Qi(i.current,null),jt=r,Yt=0,bn=null,js=!1,ro=Rr(i,r),Am=!1,ao=Un=Sm=ta=Bs=de=0,pn=Wl=null,bm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ze(u),g=1<<f;r|=i[f],u&=~g}return as=r,jc(),o}function D0(i,r){It=null,W.H=sh,r===Pl||r===$c?(r=Yv(),Yt=3):r===Hv?(r=Yv(),Yt=4):Yt=r===$_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Mt===null&&(de=1,uh(i,Nn(r,i.current)))}function V0(){var i=W.H;return W.H=sh,i===null?sh:i}function M0(){var i=W.A;return W.A=wC,i}function Dm(){de=4,js||(jt&4194048)!==jt&&kn.current!==null||(ro=!0),(Bs&134217727)===0&&(ta&134217727)===0||te===null||qs(te,jt,Un,!1)}function Vm(i,r,o){var u=Kt;Kt|=2;var f=V0(),g=M0();(te!==i||jt!==r)&&(gh=null,uo(i,r)),r=!1;var E=de;t:do try{if(Yt!==0&&Mt!==null){var S=Mt,x=bn;switch(Yt){case 8:Im(),E=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var K=Yt;if(Yt=0,bn=null,co(i,S,x,K),o&&ro){E=0;break t}break;default:K=Yt,Yt=0,bn=null,co(i,S,x,K)}}xC(),E=de;break}catch(Z){D0(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Zi=$r=null,Kt=u,W.H=f,W.A=g,Mt===null&&(te=null,jt=0,jc()),E}function xC(){for(;Mt!==null;)N0(Mt)}function IC(i,r){var o=Kt;Kt|=2;var u=V0(),f=M0();te!==i||jt!==r?(gh=null,ph=Cn()+500,uo(i,r)):ro=Rr(i,r);t:do try{if(Yt!==0&&Mt!==null){r=Mt;var g=bn;e:switch(Yt){case 1:Yt=0,bn=null,co(i,r,g,1);break;case 2:case 9:if(Gv(g)){Yt=0,bn=null,P0(r);break}r=function(){Yt!==2&&Yt!==9||te!==i||(Yt=7),Ei(i)},g.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Gv(g)?(Yt=0,bn=null,P0(r)):(Yt=0,bn=null,co(i,r,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var S=Mt;if(!E||pT(E)){Yt=0,bn=null;var x=S.sibling;if(x!==null)Mt=x;else{var K=S.return;K!==null?(Mt=K,vh(K)):Mt=null}break e}}Yt=0,bn=null,co(i,r,g,5);break;case 6:Yt=0,bn=null,co(i,r,g,6);break;case 8:Im(),de=6;break t;default:throw Error(s(462))}}DC();break}catch(Z){D0(i,Z)}while(!0);return Zi=$r=null,W.H=u,W.A=f,Kt=o,Mt!==null?0:(te=null,jt=0,jc(),de)}function DC(){for(;Mt!==null&&!il();)N0(Mt)}function N0(i){var r=a0(i.alternate,i,as);i.memoizedProps=i.pendingProps,r===null?vh(i):Mt=r}function P0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=t0(o,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=t0(o,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:Kd(r);default:l0(o,r),r=Mt=Ov(r,as),r=a0(o,r,as)}i.memoizedProps=i.pendingProps,r===null?vh(i):Mt=r}function co(i,r,o,u){Zi=$r=null,Kd(r),eo=null,ql=0;var f=r.return;try{if(_C(i,f,r,o,jt)){de=1,uh(i,Nn(o,i.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;de=1,uh(i,Nn(o,i.current)),Mt=null;return}r.flags&32768?(Ft||u===1?i=!0:ro||(jt&536870912)!==0?i=!1:(js=i=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),O0(r,i)):vh(r)}function vh(i){var r=i;do{if((r.flags&32768)!==0){O0(r,js);return}i=r.return;var o=EC(r.alternate,r,as);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);de===0&&(de=5)}function O0(i,r){do{var o=AC(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);de=6,Mt=null}function L0(i,r,o,u,f,g,E,S,x){i.cancelPendingCommit=null;do _h();while(Ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Ed,ul(i,o,g,E,S,x),i===te&&(Mt=te=null,jt=0),oo=r,Fs=i,lo=o,Rm=g,Cm=f,R0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PC(Ar,function(){return z0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=rt.p,rt.p=2,E=Kt,Kt|=4;try{SC(i,r,o)}finally{Kt=E,rt.p=f,W.T=u}}Ke=1,k0(),U0(),j0()}}function k0(){if(Ke===1){Ke=0;var i=Fs,r=oo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Kt;Kt|=4;try{_0(r,i);var g=qm,E=wv(i.containerInfo),S=g.focusedElem,x=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&bv(S.ownerDocument.documentElement,S)){if(x!==null&&gd(S)){var K=x.start,Z=x.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var et=S.ownerDocument||document,Y=et&&et.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Et=S.textContent.length,vt=Math.min(x.start,Et),Wt=x.end===void 0?vt:Math.min(x.end,Et);!Q.extend&&vt>Wt&&(E=Wt,Wt=vt,vt=E);var j=Sv(S,vt),O=Sv(S,Wt);if(j&&O&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var G=et.createRange();G.setStart(j.node,j.offset),Q.removeAllRanges(),vt>Wt?(Q.addRange(G),Q.extend(O.node,O.offset)):(G.setEnd(O.node,O.offset),Q.addRange(G))}}}}for(et=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var J=et[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Vh=!!Fm,qm=Fm=null}finally{Kt=f,rt.p=u,W.T=o}}i.current=r,Ke=2}}function U0(){if(Ke===2){Ke=0;var i=Fs,r=oo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Kt;Kt|=4;try{p0(i,r.alternate,r)}finally{Kt=f,rt.p=u,W.T=o}}Ke=3}}function j0(){if(Ke===4||Ke===3){Ke=0,mc();var i=Fs,r=oo,o=lo,u=R0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,oo=Fs=null,B0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(zs=null),Ca(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=rt.p,rt.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];g(S.value,{componentStack:S.stack})}}finally{W.T=r,rt.p=f}}(lo&3)!==0&&_h(),Ei(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===xm?Zl++:(Zl=0,xm=i):Zl=0,Jl(0)}}function B0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ml(r)))}function _h(i){return k0(),U0(),j0(),z0()}function z0(){if(Ke!==5)return!1;var i=Fs,r=Rm;Rm=0;var o=Ca(lo),u=W.T,f=rt.p;try{rt.p=32>o?32:o,W.T=null,o=Cm,Cm=null;var g=Fs,E=lo;if(Ke=0,oo=Fs=null,lo=0,(Kt&6)!==0)throw Error(s(331));var S=Kt;if(Kt|=4,b0(g.current),E0(g,g.current,E,o),Kt=S,Jl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{rt.p=f,W.T=u,B0(i,r)}}function F0(i,r,o){r=Nn(o,r),r=am(i.stateNode,r,2),i=Ms(i,r,2),i!==null&&(Ui(i,2),Ei(i))}function Zt(i,r,o){if(i.tag===3)F0(i,i,o);else for(;r!==null;){if(r.tag===3){F0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zs===null||!zs.has(u))){i=Nn(o,i),o=K_(2),u=Ms(r,o,2),u!==null&&(Y_(o,u,r,i),Ui(u,2),Ei(u));break}}r=r.return}}function Mm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new RC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Am=!0,f.add(o),i=VC.bind(null,i,r,o),r.then(i,i))}function VC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(jt&o)===o&&(de===4||de===3&&(jt&62914560)===jt&&300>Cn()-wm?(Kt&2)===0&&uo(i,0):Sm|=o,ao===jt&&(ao=0)),Ei(i)}function q0(i,r){r===0&&(r=ll()),i=Ga(i,r),i!==null&&(Ui(i,r),Ei(i))}function MC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),q0(i,o)}function NC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),q0(i,o)}function PC(i,r){return Tr(i,r)}var Th=null,ho=null,Nm=!1,Eh=!1,Pm=!1,ea=0;function Ei(i){i!==ho&&i.next===null&&(ho===null?Th=ho=i:ho=ho.next=i),Eh=!0,Nm||(Nm=!0,LC())}function Jl(i,r){if(!Pm&&Eh){Pm=!0;do for(var o=!1,u=Th;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Ze(42|i)+1)-1,g&=f&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Y0(u,g))}else g=jt,g=Ra(u,u===te?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Rr(u,g)||(o=!0,Y0(u,g));u=u.next}while(o);Pm=!1}}function OC(){H0()}function H0(){Eh=Nm=!1;var i=0;ea!==0&&(HC()&&(i=ea),ea=0);for(var r=Cn(),o=null,u=Th;u!==null;){var f=u.next,g=G0(u,r);g===0?(u.next=null,o===null?Th=f:o.next=f,f===null&&(ho=o)):(o=u,(i!==0||(g&3)!==0)&&(Eh=!0)),u=f}Jl(i)}function G0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ze(g),S=1<<E,x=f[E];x===-1?((S&o)===0||(S&u)!==0)&&(f[E]=al(S,r)):x<=r&&(i.expiredLanes|=S),g&=~S}if(r=te,o=jt,o=Ra(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Er(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Rr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Er(u),Ca(o)){case 2:case 8:o=ba;break;case 32:o=Ar;break;case 268435456:o=wa;break;default:o=Ar}return u=K0.bind(null,i),o=Tr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Er(u),i.callbackPriority=2,i.callbackNode=null,2}function K0(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_h()&&i.callbackNode!==o)return null;var u=jt;return u=Ra(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(x0(i,u,r),G0(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?K0.bind(null,i):null)}function Y0(i,r){if(_h())return null;x0(i,r,!0)}function LC(){KC(function(){(Kt&6)!==0?Tr(sl,OC):H0()})}function Om(){return ea===0&&(ea=ol()),ea}function $0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Na(""+i)}function Q0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function kC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=$0((f[Ae]||null).action),E=u.submitter;E&&(r=(r=E[Ae]||null)?$0(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var S=new Pa("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ea!==0){var x=E?Q0(f,E):new FormData(f);em(o,{pending:!0,data:x,method:f.method,action:g},null,x)}}else typeof g=="function"&&(S.preventDefault(),x=E?Q0(f,E):new FormData(f),em(o,{pending:!0,data:x,method:f.method,action:g},g,x))},currentTarget:f}]})}}for(var Lm=0;Lm<Td.length;Lm++){var km=Td[Lm],UC=km.toLowerCase(),jC=km[0].toUpperCase()+km.slice(1);$n(UC,"on"+jC)}$n(xv,"onAnimationEnd"),$n(Iv,"onAnimationIteration"),$n(Dv,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(nC,"onTransitionRun"),$n(iC,"onTransitionStart"),$n(sC,"onTransitionCancel"),$n(Vv,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function X0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],x=S.instance,K=S.currentTarget;if(S=S.listener,x!==g&&f.isPropagationStopped())break t;g=S,f.currentTarget=K;try{g(f)}catch(Z){lh(Z)}f.currentTarget=null,g=x}else for(E=0;E<u.length;E++){if(S=u[E],x=S.instance,K=S.currentTarget,S=S.listener,x!==g&&f.isPropagationStopped())break t;g=S,f.currentTarget=K;try{g(f)}catch(Z){lh(Z)}f.currentTarget=null,g=x}}}}function Nt(i,r){var o=r[hl];o===void 0&&(o=r[hl]=new Set);var u=i+"__bubble";o.has(u)||(W0(r,i,2,!1),o.add(u))}function Um(i,r,o){var u=0;r&&(u|=4),W0(o,i,u,r)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function jm(i){if(!i[Ah]){i[Ah]=!0,fl.forEach(function(o){o!=="selectionchange"&&(BC.has(o)||Um(o,!1,i),Um(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ah]||(r[Ah]=!0,Um("selectionchange",!1,r))}}function W0(i,r,o,u){switch(ET(r)){case 2:var f=dx;break;case 8:f=mx;break;default:f=Jm}o=f.bind(null,r,o,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Bm(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ji(S),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=g=E;continue t}S=S.parentNode}}u=u.return}bc(function(){var K=g,Z=Dn(o),et=[];t:{var Y=Mv.get(i);if(Y!==void 0){var Q=Pa,Et=i;switch(i){case"keypress":if(fi(o)===0)break t;case"keydown":case"keyup":Q=Ba;break;case"focusin":Et="focus",Q=ka;break;case"focusout":Et="blur",Q=ka;break;case"beforeblur":case"afterblur":Q=ka;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mc;break;case xv:case Iv:case Dv:Q=Ua;break;case Vv:Q=Pc;break;case"scroll":case"scrollend":Q=wc;break;case"wheel":Q=za;break;case"copy":case"cut":case"paste":Q=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=bl;break;case"toggle":case"beforetoggle":Q=Lc}var vt=(r&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),j=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var O=K,G;O!==null;){var J=O;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||j===null||(J=Pr(O,j),J!=null&&vt.push(eu(O,J,G))),Wt)break;O=O.return}0<vt.length&&(Y=new Q(Y,Et,null,o,Z),et.push({event:Y,listeners:vt}))}}if((r&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",Y&&o!==qi&&(Et=o.relatedTarget||o.fromElement)&&(ji(Et)||Et[xn]))break t;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Et=o.relatedTarget||o.toElement,Q=K,Et=Et?ji(Et):null,Et!==null&&(Wt=l(Et),vt=Et.tag,Et!==Wt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(Q=null,Et=K),Q!==Et)){if(vt=Mn,J="onMouseLeave",j="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(vt=bl,J="onPointerLeave",j="onPointerEnter",O="pointer"),Wt=Q==null?Y:li(Q),G=Et==null?Y:li(Et),Y=new vt(J,O+"leave",Q,o,Z),Y.target=Wt,Y.relatedTarget=G,J=null,ji(Z)===K&&(vt=new vt(j,O+"enter",Et,o,Z),vt.target=G,vt.relatedTarget=Wt,J=vt),Wt=J,Q&&Et)e:{for(vt=Q,j=Et,O=0,G=vt;G;G=fo(G))O++;for(G=0,J=j;J;J=fo(J))G++;for(;0<O-G;)vt=fo(vt),O--;for(;0<G-O;)j=fo(j),G--;for(;O--;){if(vt===j||j!==null&&vt===j.alternate)break e;vt=fo(vt),j=fo(j)}vt=null}else vt=null;Q!==null&&Z0(et,Y,Q,vt,!1),Et!==null&&Wt!==null&&Z0(et,Wt,Et,vt,!0)}}t:{if(Y=K?li(K):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var mt=yv;else if(Me(Y))if(vv)mt=JR;else{mt=WR;var Vt=XR}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&yl(K.elementType)&&(mt=yv):mt=ZR;if(mt&&(mt=mt(i,K))){$i(et,mt,o,Z);break t}Vt&&Vt(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Cs(Y,"number",Y.value)}switch(Vt=K?li(K):window,i){case"focusin":(Me(Vt)||Vt.contentEditable==="true")&&(Fa=Vt,yd=K,Cl=null);break;case"focusout":Cl=yd=Fa=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Rv(et,o,Z);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":Rv(et,o,Z)}var pt;if(pi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else kt?X(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(_&&o.locale!=="ko"&&(kt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&kt&&(pt=_l()):(hi=Z,xs="value"in hi?hi.value:hi.textContent,kt=!0)),Vt=Sh(K,_t),0<Vt.length&&(_t=new Al(_t,i,null,o,Z),et.push({event:_t,listeners:Vt}),pt?_t.data=pt:(pt=ot(o),pt!==null&&(_t.data=pt)))),(pt=v?Ve(i,o):Ut(i,o))&&(_t=Sh(K,"onBeforeInput"),0<_t.length&&(Vt=new Al("onBeforeInput","beforeinput",null,o,Z),et.push({event:Vt,listeners:_t}),Vt.data=pt)),kC(et,i,K,o,Z)}X0(et,r)})}function eu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Pr(i,o),f!=null&&u.unshift(eu(i,f,g)),f=Pr(i,r),f!=null&&u.push(eu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function fo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Z0(i,r,o,u,f){for(var g=r._reactName,E=[];o!==null&&o!==u;){var S=o,x=S.alternate,K=S.stateNode;if(S=S.tag,x!==null&&x===u)break;S!==5&&S!==26&&S!==27||K===null||(x=K,f?(K=Pr(o,g),K!=null&&E.unshift(eu(o,K,x))):f||(K=Pr(o,g),K!=null&&E.push(eu(o,K,x)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var zC=/\r\n?/g,FC=/\u0000|\uFFFD/g;function J0(i){return(typeof i=="string"?i:""+i).replace(zC,`
`).replace(FC,"")}function tT(i,r){return r=J0(r),J0(i)===r}function bh(){}function Xt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(i,""+u);break;case"className":ui(i,"class",u);break;case"tabIndex":ui(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(i,o,u);break;case"style":gl(i,u,g);break;case"data":if(r!=="object"){ui(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Na(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Xt(i,r,"name",f.name,f,null),Xt(i,r,"formEncType",f.formEncType,f,null),Xt(i,r,"formMethod",f.formMethod,f,null),Xt(i,r,"formTarget",f.formTarget,f,null)):(Xt(i,r,"encType",f.encType,f,null),Xt(i,r,"method",f.method,f,null),Xt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Na(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=bh);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Na(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),Rs(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Rs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=cd.get(o)||o,Rs(i,o,u))}}function zm(i,r,o,u,f,g){switch(o){case"style":gl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?In(i,u):(typeof u=="number"||typeof u=="bigint")&&In(i,""+u);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[Ae]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Rs(i,o,u)}}}function Ye(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,g,E,o,null)}}f&&Xt(i,r,"srcSet",o.srcSet,o,null),u&&Xt(i,r,"src",o.src,o,null);return;case"input":Nt("invalid",i);var S=g=E=f=null,x=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":x=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Xt(i,r,u,Z,o,null)}}Vr(i,g,S,x,K,E,f,!1),Ma(i);return;case"select":Nt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Xt(i,r,f,S,o,null)}r=g,o=E,i.multiple=!!u,r!=null?Fi(i,!!u,r,!1):o!=null&&Fi(i,!!u,o,!0);return;case"textarea":Nt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xt(i,r,E,S,o,null)}Mr(i,u,f,g),Ma(i);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xt(i,r,x,u,o,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(u=0;u<tu.length;u++)Nt(tu[u],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,K,u,o,null)}return;default:if(yl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&zm(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Xt(i,r,S,u,o,null))}function qC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,S=null,x=null,K=null,Z=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=et;default:u.hasOwnProperty(Q)||Xt(i,r,Q,null,u,et)}}for(var Y in u){var Q=u[Y];if(et=o[Y],u.hasOwnProperty(Y)&&(Q!=null||et!=null))switch(Y){case"type":g=Q;break;case"name":f=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==et&&Xt(i,r,Y,Q,u,et)}}_n(i,E,S,x,K,Z,g,f);return;case"select":Q=E=S=Y=null;for(g in o)if(x=o[g],o.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":Q=x;default:u.hasOwnProperty(g)||Xt(i,r,g,null,u,x)}for(f in u)if(g=u[f],x=o[f],u.hasOwnProperty(f)&&(g!=null||x!=null))switch(f){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==x&&Xt(i,r,f,g,u,x)}r=S,o=E,u=Q,Y!=null?Fi(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Fi(i,!!o,r,!0):Fi(i,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xt(i,r,S,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Xt(i,r,E,f,u,g)}$t(i,Y,Q);return;case"option":for(var Et in o)if(Y=o[Et],o.hasOwnProperty(Et)&&Y!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Xt(i,r,Et,null,u,Y)}for(x in u)if(Y=u[x],Q=o[x],u.hasOwnProperty(x)&&Y!==Q&&(Y!=null||Q!=null))switch(x){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Xt(i,r,x,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)Y=o[vt],o.hasOwnProperty(vt)&&Y!=null&&!u.hasOwnProperty(vt)&&Xt(i,r,vt,null,u,Y);for(K in u)if(Y=u[K],Q=o[K],u.hasOwnProperty(K)&&Y!==Q&&(Y!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Xt(i,r,K,Y,u,Q)}return;default:if(yl(r)){for(var Wt in o)Y=o[Wt],o.hasOwnProperty(Wt)&&Y!==void 0&&!u.hasOwnProperty(Wt)&&zm(i,r,Wt,void 0,u,Y);for(Z in u)Y=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||zm(i,r,Z,Y,u,Q);return}}for(var j in o)Y=o[j],o.hasOwnProperty(j)&&Y!=null&&!u.hasOwnProperty(j)&&Xt(i,r,j,null,u,Y);for(et in u)Y=u[et],Q=o[et],!u.hasOwnProperty(et)||Y===Q||Y==null&&Q==null||Xt(i,r,et,Y,u,Q)}var Fm=null,qm=null;function wh(i){return i.nodeType===9?i:i.ownerDocument}function eT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Hm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function HC(){var i=window.event;return i&&i.type==="popstate"?i===Gm?!1:(Gm=i,!0):(Gm=null,!1)}var iT=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,sT=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof sT<"u"?function(i){return sT.resolve(null).then(i).catch(YC)}:iT;function YC(i){setTimeout(function(){throw i})}function Hs(i){return i==="head"}function rT(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&nu(E.documentElement),o&2&&nu(E.body),o&4)for(o=E.head,nu(o),E=o.firstChild;E;){var S=E.nextSibling,x=E.nodeName;E[Cr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(f===0){i.removeChild(g),cu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);cu(r)}function Km(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Km(o),ws(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function $C(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Cr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Xn(i.nextSibling),i===null)break}return null}function QC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Xn(i.nextSibling),i===null))return null;return i}function Ym(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function XC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Xn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var $m=null;function aT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function oT(i,r,o){switch(r=wh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function nu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ws(i)}var jn=new Map,lT=new Set;function Rh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var os=rt.d;rt.d={f:WC,r:ZC,D:JC,C:tx,L:ex,m:nx,X:sx,S:ix,M:rx};function WC(){var i=os.f(),r=yh();return i||r}function ZC(i){var r=oi(i);r!==null&&r.tag===5&&r.type==="form"?x_(r):os.r(i)}var mo=typeof document>"u"?null:document;function uT(i,r,o){var u=mo;if(u&&typeof r=="string"&&r){var f=Se(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),lT.has(f)||(lT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ye(r,"link",i),pe(r),u.head.appendChild(r)))}}function JC(i){os.D(i),uT("dns-prefetch",i,null)}function tx(i,r){os.C(i,r),uT("preconnect",i,r)}function ex(i,r,o){os.L(i,r,o);var u=mo;if(u&&i&&r){var f='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Se(o.imageSizes)+'"]')):f+='[href="'+Se(i)+'"]';var g=f;switch(r){case"style":g=po(i);break;case"script":g=go(i)}jn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),jn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(iu(g))||r==="script"&&u.querySelector(su(g))||(r=u.createElement("link"),Ye(r,"link",i),pe(r),u.head.appendChild(r)))}}function nx(i,r){os.m(i,r);var o=mo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=go(i)}if(!jn.has(g)&&(i=y({rel:"modulepreload",href:i},r),jn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(su(g)))return}u=o.createElement("link"),Ye(u,"link",i),pe(u),o.head.appendChild(u)}}}function ix(i,r,o){os.S(i,r,o);var u=mo;if(u&&i){var f=on(u).hoistableStyles,g=po(i);r=r||"default";var E=f.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(iu(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=jn.get(g))&&Qm(i,o);var x=E=u.createElement("link");pe(x),Ye(x,"link",i),x._p=new Promise(function(K,Z){x.onload=K,x.onerror=Z}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ch(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(g,E)}}}function sx(i,r){os.X(i,r);var o=mo;if(o&&i){var u=on(o).hoistableScripts,f=go(i),g=u.get(f);g||(g=o.querySelector(su(f)),g||(i=y({src:i,async:!0},r),(r=jn.get(f))&&Xm(i,r),g=o.createElement("script"),pe(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function rx(i,r){os.M(i,r);var o=mo;if(o&&i){var u=on(o).hoistableScripts,f=go(i),g=u.get(f);g||(g=o.querySelector(su(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=jn.get(f))&&Xm(i,r),g=o.createElement("script"),pe(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function cT(i,r,o,u){var f=(f=bt.current)?Rh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=po(o.href),o=on(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=po(o.href);var g=on(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(iu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},jn.set(i,o),g||ax(f,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(o),o=on(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function po(i){return'href="'+Se(i)+'"'}function iu(i){return'link[rel="stylesheet"]['+i+"]"}function hT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function ax(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ye(r,"link",o),pe(r),i.head.appendChild(r))}function go(i){return'[src="'+Se(i)+'"]'}function su(i){return"script[async]"+i}function fT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Se(o.href)+'"]');if(u)return r.instance=u,pe(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Ye(u,"style",f),Ch(u,o.precedence,i),r.instance=u;case"stylesheet":f=po(o.href);var g=i.querySelector(iu(f));if(g)return r.state.loading|=4,r.instance=g,pe(g),g;u=hT(o),(f=jn.get(f))&&Qm(u,f),g=(i.ownerDocument||i).createElement("link"),pe(g);var E=g;return E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),Ye(g,"link",u),r.state.loading|=4,Ch(g,o.precedence,i),r.instance=g;case"script":return g=go(o.src),(f=i.querySelector(su(g)))?(r.instance=f,pe(f),f):(u=o,(f=jn.get(g))&&(u=y({},o),Xm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ye(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ch(u,o.precedence,i));return r.instance}function Ch(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Qm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var xh=null;function dT(i,r,o){if(xh===null){var u=new Map,f=xh=new Map;f.set(o,u)}else f=xh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Cr]||g[De]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function mT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function ox(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ru=null;function lx(){}function ux(i,r,o){if(ru===null)throw Error(s(475));var u=ru;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=po(o.href),g=i.querySelector(iu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ih.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,pe(g);return}g=i.ownerDocument||i,o=hT(o),(f=jn.get(f))&&Qm(o,f),g=g.createElement("link"),pe(g);var E=g;E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),Ye(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Ih.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function cx(){if(ru===null)throw Error(s(475));var i=ru;return i.stylesheets&&i.count===0&&Wm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Wm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ih(){if(this.count--,this.count===0){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dh=null;function Wm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dh=new Map,r.forEach(hx,i),Dh=null,Ih.call(i))}function hx(i,r){if(!(r.state.loading&4)){var o=Dh.get(i);if(o)var u=o.get(null);else{o=new Map,Dh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Ih.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var au={$$typeof:$,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function fx(i,r,o,u,f,g,E,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function gT(i,r,o,u,f,g,E,S,x,K,Z,et){return i=new fx(i,r,o,E,S,x,K,et),r=1,g===!0&&(r|=24),g=En(3,null,null,r),i.current=g,g.stateNode=i,r=Md(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Ld(g),i}function yT(i){return i?(i=Ka,i):Ka}function vT(i,r,o,u,f,g){f=yT(f),u.context===null?u.context=f:u.pendingContext=f,u=Vs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ms(i,u,r),o!==null&&(Rn(o,i,r),Ll(o,i,r))}function _T(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Zm(i,r){_T(i,r),(i=i.alternate)&&_T(i,r)}function TT(i){if(i.tag===13){var r=Ga(i,67108864);r!==null&&Rn(r,i,67108864),Zm(i,67108864)}}var Vh=!0;function dx(i,r,o,u){var f=W.T;W.T=null;var g=rt.p;try{rt.p=2,Jm(i,r,o,u)}finally{rt.p=g,W.T=f}}function mx(i,r,o,u){var f=W.T;W.T=null;var g=rt.p;try{rt.p=8,Jm(i,r,o,u)}finally{rt.p=g,W.T=f}}function Jm(i,r,o,u){if(Vh){var f=tp(u);if(f===null)Bm(i,r,u,Mh,o),AT(i,u);else if(gx(f,i,r,o,u))u.stopPropagation();else if(AT(i,u),r&4&&-1<px.indexOf(i)){for(;f!==null;){var g=oi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Gn(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var x=1<<31-Ze(E);S.entanglements[1]|=x,E&=~x}Ei(g),(Kt&6)===0&&(ph=Cn()+500,Jl(0))}}break;case 13:S=Ga(g,2),S!==null&&Rn(S,g,2),yh(),Zm(g,2)}if(g=tp(u),g===null&&Bm(i,r,u,Mh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Bm(i,r,u,null,o)}}function tp(i){return i=Dn(i),ep(i)}var Mh=null;function ep(i){if(Mh=null,i=ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Mh=i,null}function ET(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sd()){case sl:return 2;case ba:return 8;case Ar:case rd:return 32;case wa:return 268435456;default:return 32}default:return 32}}var np=!1,Gs=null,Ks=null,Ys=null,ou=new Map,lu=new Map,$s=[],px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AT(i,r){switch(i){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":ou.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(r.pointerId)}}function uu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=oi(r),r!==null&&TT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function gx(i,r,o,u,f){switch(r){case"focusin":return Gs=uu(Gs,i,r,o,u,f),!0;case"dragenter":return Ks=uu(Ks,i,r,o,u,f),!0;case"mouseover":return Ys=uu(Ys,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return ou.set(g,uu(ou.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,lu.set(g,uu(lu.get(g)||null,i,r,o,u,f)),!0}return!1}function ST(i){var r=ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,yc(i.priority,function(){if(o.tag===13){var u=wn();u=As(u);var f=Ga(o,u);f!==null&&Rn(f,o,u),Zm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);qi=u,o.target.dispatchEvent(u),qi=null}else return r=oi(o),r!==null&&TT(r),i.blockedOn=o,!1;r.shift()}return!0}function bT(i,r,o){Nh(i)&&o.delete(r)}function yx(){np=!1,Gs!==null&&Nh(Gs)&&(Gs=null),Ks!==null&&Nh(Ks)&&(Ks=null),Ys!==null&&Nh(Ys)&&(Ys=null),ou.forEach(bT),lu.forEach(bT)}function Ph(i,r){i.blockedOn===r&&(i.blockedOn=null,np||(np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yx)))}var Oh=null;function wT(i){Oh!==i&&(Oh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Oh===i&&(Oh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(ep(u||o)===null)continue;break}var g=oi(o);g!==null&&(i.splice(r,3),r-=3,em(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function cu(i){function r(x){return Ph(x,i)}Gs!==null&&Ph(Gs,i),Ks!==null&&Ph(Ks,i),Ys!==null&&Ph(Ys,i),ou.forEach(r),lu.forEach(r);for(var o=0;o<$s.length;o++){var u=$s[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<$s.length&&(o=$s[0],o.blockedOn===null);)ST(o),o.blockedOn===null&&$s.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Ae]||null;if(typeof g=="function")E||wT(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Ae]||null)S=E.formAction;else if(ep(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),wT(o)}}}function ip(i){this._internalRoot=i}Lh.prototype.render=ip.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=wn();vT(o,u,i,r,null,null)},Lh.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;vT(i.current,2,null,i,null,null),yh(),r[xn]=null}};function Lh(i){this._internalRoot=i}Lh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ss();i={blockedOn:null,target:i,priority:r};for(var o=0;o<$s.length&&r!==0&&r<$s[o].priority;o++);$s.splice(o,0,i),o===0&&ST(i)}};var RT=t.version;if(RT!=="19.1.1")throw Error(s(527,RT,"19.1.1"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var vx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{he=kh.inject(vx),Gt=kh}catch{}}return fu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=F_,g=q_,E=H_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=gT(i,1,!1,null,null,o,u,f,g,E,S,null),i[xn]=r.current,jm(i),new ip(r)},fu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=F_,E=q_,S=H_,x=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),r=gT(i,1,!0,r,o??null,u,f,g,E,S,x,K),r.context=yT(null),o=r.current,u=wn(),u=As(u),f=Vs(u),f.callback=null,Ms(o,f,u),o=u,r.current.lanes=o,Ui(r,o),Ei(r),i[xn]=r.current,jm(i),new Lh(r)},fu.version="19.1.1",fu}var LT;function Ix(){if(LT)return ap.exports;LT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ap.exports=xx(),ap.exports}var Dx=Ix();const Vx=xS(Dx);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kT="popstate";function Mx(e={}){function t(a,l){let{pathname:c="/",search:d="",hash:m=""}=va(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),jp("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof l=="string"?l:Mu(l))}function s(a,l){ni(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Px(t,n,s,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ni(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nx(){return Math.random().toString(36).substring(2,10)}function UT(e,t){return{usr:e.state,key:e.key,idx:t}}function jp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?va(t):t,state:n,key:t&&t.key||s||Nx()}}function Mu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function va(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Px(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let N=y(),F=N==null?null:N-p;p=N,m&&m({action:d,location:L.location,delta:F})}function A(N,F){d="PUSH";let q=jp(L.location,N,F);n&&n(q,N),p=y()+1;let $=UT(q,p),lt=L.createHref(q);try{c.pushState($,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(lt)}l&&m&&m({action:d,location:L.location,delta:1})}function R(N,F){d="REPLACE";let q=jp(L.location,N,F);n&&n(q,N),p=y();let $=UT(q,p),lt=L.createHref(q);c.replaceState($,"",lt),l&&m&&m({action:d,location:L.location,delta:0})}function I(N){return Ox(N)}let L={get action(){return d},get location(){return e(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(kT,T),m=N,()=>{a.removeEventListener(kT,T),m=null}},createHref(N){return t(a,N)},createURL:I,encodeLocation(N){let F=I(N);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:R,go(N){return c.go(N)}};return L}function Ox(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Mu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function IS(e,t,n="/"){return Lx(e,t,n,!1)}function Lx(e,t,n,s){let a=typeof t=="string"?va(t):t,l=ds(a.pathname||"/",n);if(l==null)return null;let c=DS(e);kx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=$x(l);d=Kx(c[m],p,s)}return d}function DS(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ue(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let T=hs([s,y.relativePath]),A=n.concat(y);c.children&&c.children.length>0&&(ue(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),DS(c.children,t,A,T,m)),!(c.path==null&&!c.index)&&t.push({path:T,score:Hx(T,c.index),routesMeta:A})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of VS(c.path))l(c,d,!0,m)}),t}function VS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=VS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function kx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gx(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ux=/^:[\w-]+$/,jx=3,Bx=2,zx=1,Fx=10,qx=-2,jT=e=>e==="*";function Hx(e,t){let n=e.split("/"),s=n.length;return n.some(jT)&&(s+=qx),t&&(s+=Bx),n.filter(a=>!jT(a)).reduce((a,l)=>a+(Ux.test(l)?jx:l===""?zx:Fx),s)}function Gx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Kx(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",T=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),A=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:hs([l,T.pathname]),pathnameBase:Zx(hs([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=hs([l,T.pathnameBase]))}return c}function hf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Yx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:T},A)=>{if(y==="*"){let I=d[A]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[A];return T&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function Yx(e,t=!1,n=!0){ni(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function $x(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ni(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Qx(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?va(e):e;return{pathname:n?n.startsWith("/")?n:Xx(n,t):t,search:Jx(s),hash:t2(a)}}function Xx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function MS(e){let t=Wx(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function NS(e,t,n,s=!1){let a;typeof e=="string"?a=va(e):(a={...e},ue(!a.pathname||!a.pathname.includes("?"),cp("?","pathname","search",a)),ue(!a.pathname||!a.pathname.includes("#"),cp("#","pathname","hash",a)),ue(!a.search||!a.search.includes("#"),cp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=t.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}d=T>=0?t[T]:"/"}let m=Qx(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var hs=e=>e.join("/").replace(/\/\/+/g,"/"),Zx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function e2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var PS=["POST","PUT","PATCH","DELETE"];new Set(PS);var n2=["GET",...PS];new Set(n2);var qo=U.createContext(null);qo.displayName="DataRouter";var Of=U.createContext(null);Of.displayName="DataRouterState";U.createContext(!1);var OS=U.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var i2=U.createContext(new Map);i2.displayName="Fetchers";var s2=U.createContext(null);s2.displayName="Await";var Oi=U.createContext(null);Oi.displayName="Navigation";var Xu=U.createContext(null);Xu.displayName="Location";var si=U.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Lg=U.createContext(null);Lg.displayName="RouteError";function r2(e,{relative:t}={}){ue(Wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Oi),{hash:a,pathname:l,search:c}=Zu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:hs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Wu(){return U.useContext(Xu)!=null}function yr(){return ue(Wu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Xu).location}var LS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kS(e){U.useContext(Oi).static||U.useLayoutEffect(e)}function kg(){let{isDataRoute:e}=U.useContext(si);return e?E2():a2()}function a2(){ue(Wu(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(qo),{basename:t,navigator:n}=U.useContext(Oi),{matches:s}=U.useContext(si),{pathname:a}=yr(),l=JSON.stringify(MS(s)),c=U.useRef(!1);return kS(()=>{c.current=!0}),U.useCallback((m,p={})=>{if(ni(c.current,LS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=NS(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:hs([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var o2=U.createContext(null);function l2(e){let t=U.useContext(si).outlet;return t&&U.createElement(o2.Provider,{value:e},t)}function u2(){let{matches:e}=U.useContext(si),t=e[e.length-1];return t?t.params:{}}function Zu(e,{relative:t}={}){let{matches:n}=U.useContext(si),{pathname:s}=yr(),a=JSON.stringify(MS(n));return U.useMemo(()=>NS(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function c2(e,t){return US(e,t)}function US(e,t,n,s,a){ue(Wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Oi),{matches:c}=U.useContext(si),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",T=d&&d.route;{let q=T&&T.path||"";jS(p,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let A=yr(),R;if(t){let q=typeof t=="string"?va(t):t;ue(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=A;let I=R.pathname||"/",L=I;if(y!=="/"){let q=y.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let N=IS(e,{pathname:L});ni(T||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ni(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=p2(N&&N.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:hs([y,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:hs([y,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,n,s,a);return t&&F?U.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function h2(){let e=T2(),t=e2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var f2=U.createElement(h2,null),d2=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?U.createElement(si.Provider,{value:this.props.routeContext},U.createElement(Lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:e,match:t,children:n}){let s=U.useContext(qo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(si.Provider,{value:e},n)}function p2(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ue(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:A}=n,R=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,T)=>{let A,R=!1,I=null,L=null;n&&(A=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||f2,d&&(m<0&&T===0?(jS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===T&&(R=!0,L=y.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,T+1)),F=()=>{let q;return A?q=I:R?q=L:y.route.Component?q=U.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,U.createElement(m2,{match:y,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?U.createElement(d2,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:F(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):F()},null)}function Ug(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(e){let t=U.useContext(qo);return ue(t,Ug(e)),t}function y2(e){let t=U.useContext(Of);return ue(t,Ug(e)),t}function v2(e){let t=U.useContext(si);return ue(t,Ug(e)),t}function jg(e){let t=v2(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _2(){return jg("useRouteId")}function T2(){let e=U.useContext(Lg),t=y2("useRouteError"),n=jg("useRouteError");return e!==void 0?e:t.errors?.[n]}function E2(){let{router:e}=g2("useNavigate"),t=jg("useNavigate"),n=U.useRef(!1);return kS(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{ni(n.current,LS),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var BT={};function jS(e,t,n){!t&&!BT[e]&&(BT[e]=!0,ni(!1,n))}U.memo(A2);function A2({routes:e,future:t,state:n,unstable_onError:s}){return US(e,void 0,n,s,t)}function S2(e){return l2(e.context)}function Ws(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ue(!Wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=va(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:A="default"}=n,R=U.useMemo(()=>{let I=ds(m,c);return I==null?null:{location:{pathname:I,search:p,hash:y,state:T,key:A},navigationType:s}},[c,m,p,y,T,A,s]);return ni(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:U.createElement(Oi.Provider,{value:d},U.createElement(Xu.Provider,{children:t,value:R}))}function w2({children:e,location:t}){return c2(Bp(e),t)}function Bp(e,t=[]){let n=[];return U.Children.forEach(e,(s,a)=>{if(!U.isValidElement(s))return;let l=[...t,a];if(s.type===U.Fragment){n.push.apply(n,Bp(s.props.children,l));return}ue(s.type===Ws,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Bp(s.props.children,l)),n.push(c)}),n}var $h="get",Qh="application/x-www-form-urlencoded";function Lf(e){return e!=null&&typeof e.tagName=="string"}function R2(e){return Lf(e)&&e.tagName.toLowerCase()==="button"}function C2(e){return Lf(e)&&e.tagName.toLowerCase()==="form"}function x2(e){return Lf(e)&&e.tagName.toLowerCase()==="input"}function I2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D2(e,t){return e.button===0&&(!t||t==="_self")&&!I2(e)}var Uh=null;function V2(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var M2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(e){return e!=null&&!M2.has(e)?(ni(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qh}"`),null):e}function N2(e,t){let n,s,a,l,c;if(C2(e)){let d=e.getAttribute("action");s=d?ds(d,t):null,n=e.getAttribute("method")||$h,a=hp(e.getAttribute("enctype"))||Qh,l=new FormData(e)}else if(R2(e)||x2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?ds(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||$h,a=hp(e.getAttribute("formenctype"))||hp(d.getAttribute("enctype"))||Qh,l=new FormData(d,e),!V2()){let{name:p,type:y,value:T}=e;if(y==="image"){let A=p?`${p}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else p&&l.append(p,T)}}else{if(Lf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$h,s=null,a=Qh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ds(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function O2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function k2(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await O2(l,n);return c.links?c.links():[]}return[]}));return z2(s.flat(1).filter(L2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zT(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function U2(e,t,{includeHydrateFallback:n}={}){return j2(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function j2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function z2(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(B2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function BS(){let e=U.useContext(qo);return Bg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function F2(){let e=U.useContext(Of);return Bg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zg=U.createContext(void 0);zg.displayName="FrameworkContext";function zS(){let e=U.useContext(zg);return Bg(e,"You must render this element inside a <HydratedRouter> element"),e}function q2(e,t){let n=U.useContext(zg),[s,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=t,A=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let L=F=>{F.forEach(q=>{c(q.isIntersecting)})},N=new IntersectionObserver(L,{threshold:.5});return A.current&&N.observe(A.current),()=>{N.disconnect()}}},[e]),U.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let R=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,A,{}]:[l,A,{onFocus:du(d,R),onBlur:du(m,I),onMouseEnter:du(p,R),onMouseLeave:du(y,I),onTouchStart:du(T,R)}]:[!1,A,{}]}function du(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function H2({page:e,...t}){let{router:n}=BS(),s=U.useMemo(()=>IS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?U.createElement(K2,{page:e,matches:s,...t}):null}function G2(e){let{manifest:t,routeModules:n}=zS(),[s,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return k2(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function K2({page:e,matches:t,...n}){let s=yr(),{manifest:a,routeModules:l}=zS(),{basename:c}=BS(),{loaderData:d,matches:m}=F2(),p=U.useMemo(()=>zT(e,t,m,a,s,"data"),[e,t,m,a,s]),y=U.useMemo(()=>zT(e,t,m,a,s,"assets"),[e,t,m,a,s]),T=U.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let I=new Set,L=!1;if(t.forEach(F=>{let q=a.routes[F.route.id];!q||!q.hasLoader||(!p.some($=>$.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||q.hasClientLoader?L=!0:I.add(F.route.id))}),I.size===0)return[];let N=P2(e,c,"data");return L&&I.size>0&&N.searchParams.set("_routes",t.filter(F=>I.has(F.route.id)).map(F=>F.route.id).join(",")),[N.pathname+N.search]},[c,d,s,a,p,t,e,l]),A=U.useMemo(()=>U2(y,a),[y,a]),R=G2(y);return U.createElement(U.Fragment,null,T.map(I=>U.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>U.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),R.map(({key:I,link:L})=>U.createElement("link",{key:I,nonce:n.nonce,...L})))}function Y2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var FS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FS&&(window.__reactRouterVersion="7.8.2")}catch{}function $2({basename:e,children:t,window:n}){let s=U.useRef();s.current==null&&(s.current=Mx({window:n,v5Compat:!0}));let a=s.current,[l,c]=U.useState({action:a.action,location:a.location}),d=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(d),[a,d]),U.createElement(b2,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var qS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fg=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...A},R){let{basename:I}=U.useContext(Oi),L=typeof p=="string"&&qS.test(p),N,F=!1;if(typeof p=="string"&&L&&(N=p,FS))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),k=ds(P.pathname,I);P.origin===C.origin&&k!=null?p=k+P.search+P.hash:F=!0}catch{ni(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=r2(p,{relative:a}),[$,lt,it]=q2(s,A),dt=W2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function V(C){t&&t(C),C.defaultPrevented||dt(C)}let w=U.createElement("a",{...A,...it,href:N||q,onClick:F||l?t:V,ref:Y2(R,lt),target:m,"data-discover":!L&&n==="render"?"true":void 0});return $&&!L?U.createElement(U.Fragment,null,w,U.createElement(H2,{page:q})):w});Fg.displayName="Link";var pu=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=Zu(c,{relative:p.relative}),A=yr(),R=U.useContext(Of),{navigator:I,basename:L}=U.useContext(Oi),N=R!=null&&nI(T)&&d===!0,F=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,q=A.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&L&&($=ds($,L)||$);const lt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let it=q===F||!a&&q.startsWith(F)&&q.charAt(lt)==="/",dt=$!=null&&($===F||!a&&$.startsWith(F)&&$.charAt(F.length)==="/"),V={isActive:it,isPending:dt,isTransitioning:N},w=it?t:void 0,C;typeof s=="function"?C=s(V):C=[s,it?"active":null,dt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(V):l;return U.createElement(Fg,{...p,"aria-current":w,className:C,ref:y,style:P,to:c,viewTransition:d},typeof m=="function"?m(V):m)});pu.displayName="NavLink";var Q2=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=$h,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...A},R)=>{let I=tI(),L=eI(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&qS.test(d),q=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let lt=$.nativeEvent.submitter,it=lt?.getAttribute("formmethod")||c;I(lt||$.currentTarget,{fetcherKey:t,method:it,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return U.createElement("form",{ref:R,method:N,action:L,onSubmit:s?m:q,...A,"data-discover":!F&&e==="render"?"true":void 0})});Q2.displayName="Form";function X2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HS(e){let t=U.useContext(qo);return ue(t,X2(e)),t}function W2(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=kg(),m=yr(),p=Zu(e,{relative:l});return U.useCallback(y=>{if(D2(y,t)){y.preventDefault();let T=n!==void 0?n:Mu(m)===Mu(p);d(e,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,t,e,a,l,c])}var Z2=0,J2=()=>`__${String(++Z2)}__`;function tI(){let{router:e}=HS("useSubmit"),{basename:t}=U.useContext(Oi),n=_2();return U.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=N2(s,t);if(a.navigate===!1){let y=a.fetcherKey||J2();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function eI(e,{relative:t}={}){let{basename:n}=U.useContext(Oi),s=U.useContext(si);ue(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Zu(e||".",{relative:t})},c=yr();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:hs([n,l.pathname])),Mu(l)}function nI(e,{relative:t}={}){let n=U.useContext(OS);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HS("useViewTransitionState"),a=Zu(e,{relative:t});if(!n.isTransitioning)return!1;let l=ds(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ds(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}const iI=()=>{const e=({isActive:t})=>`flex flex-col items-center focus:outline-none p-2 md:flex-row md:justify-start md:items-center md:space-x-3 md:p-3 md:rounded-lg md:hover:bg-gray-100 ${t?"text-blue-600":"text-gray-500"}`;return B.jsx("nav",{id:"bottom-nav",className:"fixed bottom-0 left-0 w-full bg-white shadow-2xl z-10 md:top-0 md:right-0 md:h-screen md:w-48 md:shadow-lg md:flex-shrink-0 md:flex md:flex-col md:justify-start md:p-4",children:B.jsxs("div",{className:"flex justify-around items-center h-16 md:h-auto md:flex-col md:items-stretch md:space-y-6",children:[B.jsxs(pu,{to:"/",className:e,children:[B.jsx("svg",{className:"nav-icon-svg",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M3 9H21M9 15L11 17L15 13M7 3V5M17 3V5M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:"الامتحانات"})]}),B.jsxs(pu,{to:"/evaluations",className:e,children:[B.jsx("svg",{className:"nav-icon-svg",fill:"currentColor",height:"24px",width:"24px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 294.023 294.023",xmlSpace:"preserve",children:B.jsx("path",{colorRendering:"auto",imageRendering:"auto",shapeRendering:"auto",colorInterpolation:"sRGB",d:"M124.916,0.002 c-1.649,0.045-3.169,0.9-4.064,2.285l-14.49,21.736h-49.35c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5 V39.574l-10,15v19.449h-40v-40h37.682L85.631,55.117l-6.146-12.293c-1.205-2.485-4.196-3.523-6.681-2.318 c-2.485,1.205-3.523,4.196-2.318,6.681c0.018,0.036,0.035,0.072,0.054,0.108l10,20c1.235,2.47,4.238,3.472,6.709,2.237 c0.778-0.389,1.441-0.974,1.924-1.698l40-60c1.565-2.276,0.989-5.389-1.287-6.954C127.013,0.281,125.974-0.027,124.916,0.002 L124.916,0.002z M147.012,44.025c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5 H147.012z M57.012,94.06c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5v-50c0-2.761-2.239-5-5-5H57.012z M62.012,104.06h40v40h-40V104.06z M147.012,114.023c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10 c0-2.761-2.239-5-5-5H147.012z M57.012,164.023c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5v-50 c0-2.761-2.239-5-5-5H57.012z M62.012,174.023h40v40h-40V174.023z M147.012,184.058c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90 c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5H147.012z M57.012,234.023c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50 c2.761,0,5-2.239,5-5v-50c0-2.761-2.239-5-5-5L57.012,234.023L57.012,234.023z M62.012,244.023h40v40h-40V244.023z M147.012,254.023 c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5H147.012z"})}),B.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:"التقييمات"})]}),B.jsxs(pu,{to:"/store",className:e,children:[B.jsx("svg",{className:"nav-icon-svg",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4H6zM3 6h18M16 10a4 4 0 1 1-8 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:"المتجر"})]}),B.jsxs(pu,{to:"/profile",className:e,children:[B.jsx("svg",{className:"nav-icon-svg",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:"الملف الشخصي"})]})]})})},sI=()=>{};var FT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},rI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(A=64)),s.push(n[y],n[T],n[A],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(GS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new aI;const A=l<<2|d>>4;if(s.push(A),p!==64){const R=d<<4&240|p>>2;if(s.push(R),T!==64){const I=p<<6&192|T;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class aI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oI=function(e){const t=GS(e);return KS.encodeByteArray(t,!0)},ff=function(e){return oI(e).replace(/\./g,"")},YS=function(e){try{return KS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof FT>"u")return;const e=FT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},hI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&YS(e[1]);return t&&JSON.parse(t)},kf=()=>{try{return sI()||uI()||cI()||hI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$S=e=>kf()?.emulatorHosts?.[e],fI=e=>{const t=$S(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},QS=()=>kf()?.config,XS=e=>kf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ff(JSON.stringify(n)),ff(JSON.stringify(c)),""].join(".")}const Eu={};function pI(){const e={prod:[],emulator:[]};for(const t of Object.keys(Eu))Eu[t]?e.emulator.push(t):e.prod.push(t);return e}function gI(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let qT=!1;function ZS(e,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Eu[e]===t||Eu[e]||qT)return;Eu[e]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",l=pI().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{qT=!0,c()},A}function y(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=gI(s),R=n("text"),I=document.getElementById(R)||document.createElement("span"),L=n("learnmore"),N=document.getElementById(L)||document.createElement("a"),F=n("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const $=A.element;d($),y(N,L);const lt=p();m(q,F),$.append(q,I,N,lt),document.body.appendChild($)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function vI(){const e=kf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function SI(){return!vI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FirebaseError";class Ts extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=RI,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?CI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ts(a,d,s)}}function CI(e,t){return e.replace(xI,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const xI=/\{\$([^}]+)}/g;function II(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(HT(l)&&HT(c)){if(!da(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function HT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function DI(e,t){const n=new VI(e,t);return n.subscribe.bind(n)}class VI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MI(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=fp),a.error===void 0&&(a.error=fp),a.complete===void 0&&(a.complete=fp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e&&e._delegate?e._delegate:e}class ma{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new dI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OI(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PI(e){return e===ia?void 0:e}function OI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const kI={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},UI=Pt.INFO,jI={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},BI=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=jI[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qg{constructor(t){this.name=t,this._logLevel=UI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const zI=(e,t)=>t.some(n=>e instanceof n);let GT,KT;function FI(){return GT||(GT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return KT||(KT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,zp=new WeakMap,tb=new WeakMap,dp=new WeakMap,Hg=new WeakMap;function HI(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(ir(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&JS.set(n,e)}).catch(()=>{}),Hg.set(t,e),t}function GI(e){if(zp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});zp.set(e,t)}let Fp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KI(e){Fp=e(Fp)}function YI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mp(this),t,...n);return tb.set(s,t.sort?t.sort():[t]),ir(s)}:qI().includes(e)?function(...t){return e.apply(mp(this),t),ir(JS.get(this))}:function(...t){return ir(e.apply(mp(this),t))}}function $I(e){return typeof e=="function"?YI(e):(e instanceof IDBTransaction&&GI(e),zI(e,FI())?new Proxy(e,Fp):e)}function ir(e){if(e instanceof IDBRequest)return HI(e);if(dp.has(e))return dp.get(e);const t=$I(e);return t!==e&&(dp.set(e,t),Hg.set(t,e)),t}const mp=e=>Hg.get(e);function QI(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=ir(c);return s&&c.addEventListener("upgradeneeded",m=>{s(ir(c.result),m.oldVersion,m.newVersion,ir(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const XI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],pp=new Map;function YT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pp.get(t))return pp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=WI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||XI.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return pp.set(t,l),l}KI(e=>({...e,get:(t,n,s)=>YT(t,n)||e.get(t,n,s),has:(t,n)=>!!YT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JI(e){return e.getComponent()?.type==="VERSION"}const qp="@firebase/app",$T="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new qg("@firebase/app"),tD="@firebase/app-compat",eD="@firebase/analytics-compat",nD="@firebase/analytics",iD="@firebase/app-check-compat",sD="@firebase/app-check",rD="@firebase/auth",aD="@firebase/auth-compat",oD="@firebase/database",lD="@firebase/data-connect",uD="@firebase/database-compat",cD="@firebase/functions",hD="@firebase/functions-compat",fD="@firebase/installations",dD="@firebase/installations-compat",mD="@firebase/messaging",pD="@firebase/messaging-compat",gD="@firebase/performance",yD="@firebase/performance-compat",vD="@firebase/remote-config",_D="@firebase/remote-config-compat",TD="@firebase/storage",ED="@firebase/storage-compat",AD="@firebase/firestore",SD="@firebase/ai",bD="@firebase/firestore-compat",wD="firebase",RD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",CD={[qp]:"fire-core",[tD]:"fire-core-compat",[nD]:"fire-analytics",[eD]:"fire-analytics-compat",[sD]:"fire-app-check",[iD]:"fire-app-check-compat",[rD]:"fire-auth",[aD]:"fire-auth-compat",[oD]:"fire-rtdb",[lD]:"fire-data-connect",[uD]:"fire-rtdb-compat",[cD]:"fire-fn",[hD]:"fire-fn-compat",[fD]:"fire-iid",[dD]:"fire-iid-compat",[mD]:"fire-fcm",[pD]:"fire-fcm-compat",[gD]:"fire-perf",[yD]:"fire-perf-compat",[vD]:"fire-rc",[_D]:"fire-rc-compat",[TD]:"fire-gcs",[ED]:"fire-gcs-compat",[AD]:"fire-fst",[bD]:"fire-fst-compat",[SD]:"fire-vertex","fire-js":"fire-js",[wD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map,xD=new Map,Gp=new Map;function QT(e,t){try{e.container.addComponent(t)}catch(n){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mo(e){const t=e.name;if(Gp.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;Gp.set(t,e);for(const n of df.values())QT(n,e);for(const n of xD.values())QT(n,e);return!0}function Gg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Ju("app","Firebase",ID);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=RD;function eb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Hp,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw sr.create("bad-app-name",{appName:String(a)});if(n||(n=QS()),!n)throw sr.create("no-options");const l=df.get(a);if(l){if(da(n,l.options)&&da(s,l.config))return l;throw sr.create("duplicate-app",{appName:a})}const c=new LI(a);for(const m of Gp.values())c.addComponent(m);const d=new DD(n,s,c);return df.set(a,d),d}function nb(e=Hp){const t=df.get(e);if(!t&&e===Hp&&QS())return eb();if(!t)throw sr.create("no-app",{appName:e});return t}function rr(e,t,n){let s=CD[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(c.join(" "));return}Mo(new ma(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebase-heartbeat-database",MD=1,Nu="firebase-heartbeat-store";let gp=null;function ib(){return gp||(gp=QI(VD,MD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(e=>{throw sr.create("idb-open",{originalErrorMessage:e.message})})),gp}async function ND(e){try{const n=(await ib()).transaction(Nu),s=await n.objectStore(Nu).get(sb(e));return await n.done,s}catch(t){if(t instanceof Ts)ms.warn(t.message);else{const n=sr.create("idb-get",{originalErrorMessage:t?.message});ms.warn(n.message)}}}async function XT(e,t){try{const s=(await ib()).transaction(Nu,"readwrite");await s.objectStore(Nu).put(t,sb(e)),await s.done}catch(n){if(n instanceof Ts)ms.warn(n.message);else{const s=sr.create("idb-set",{originalErrorMessage:n?.message});ms.warn(s.message)}}}function sb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1024,OD=30;class LD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OD){const a=jD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=WT(),{heartbeatsToSend:n,unsentEntries:s}=kD(this._heartbeatsCache.heartbeats),a=ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ms.warn(t),""}}}function WT(){return new Date().toISOString().substring(0,10)}function kD(e,t=PD){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ZT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ZT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class UD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ND(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return XT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return XT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ZT(e){return ff(JSON.stringify({version:2,heartbeats:e})).length}function jD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e){Mo(new ma("platform-logger",t=>new ZI(t),"PRIVATE")),Mo(new ma("heartbeat",t=>new LD(t),"PRIVATE")),rr(qp,$T,e),rr(qp,$T,"esm2020"),rr("fire-js","")}BD("");var JT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,rb;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function C(){}C.prototype=w.prototype,V.D=w.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(P,k,z){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return w.prototype[k].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,C){C||(C=0);var P=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)P[k]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(k=0;16>k;++k)P[k]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=V.g[0],C=V.g[1],k=V.g[2];var z=V.g[3],D=w+(z^C&(k^z))+P[0]+3614090360&4294967295;w=C+(D<<7&4294967295|D>>>25),D=z+(k^w&(C^k))+P[1]+3905402710&4294967295,z=w+(D<<12&4294967295|D>>>20),D=k+(C^z&(w^C))+P[2]+606105819&4294967295,k=z+(D<<17&4294967295|D>>>15),D=C+(w^k&(z^w))+P[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(z^C&(k^z))+P[4]+4118548399&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(k^w&(C^k))+P[5]+1200080426&4294967295,z=w+(D<<12&4294967295|D>>>20),D=k+(C^z&(w^C))+P[6]+2821735955&4294967295,k=z+(D<<17&4294967295|D>>>15),D=C+(w^k&(z^w))+P[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(z^C&(k^z))+P[8]+1770035416&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(k^w&(C^k))+P[9]+2336552879&4294967295,z=w+(D<<12&4294967295|D>>>20),D=k+(C^z&(w^C))+P[10]+4294925233&4294967295,k=z+(D<<17&4294967295|D>>>15),D=C+(w^k&(z^w))+P[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(z^C&(k^z))+P[12]+1804603682&4294967295,w=C+(D<<7&4294967295|D>>>25),D=z+(k^w&(C^k))+P[13]+4254626195&4294967295,z=w+(D<<12&4294967295|D>>>20),D=k+(C^z&(w^C))+P[14]+2792965006&4294967295,k=z+(D<<17&4294967295|D>>>15),D=C+(w^k&(z^w))+P[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(k^z&(C^k))+P[1]+4129170786&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^k&(w^C))+P[6]+3225465664&4294967295,z=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(z^w))+P[11]+643717713&4294967295,k=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(k^z))+P[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(k^z&(C^k))+P[5]+3593408605&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^k&(w^C))+P[10]+38016083&4294967295,z=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(z^w))+P[15]+3634488961&4294967295,k=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(k^z))+P[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(k^z&(C^k))+P[9]+568446438&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^k&(w^C))+P[14]+3275163606&4294967295,z=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(z^w))+P[3]+4107603335&4294967295,k=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(k^z))+P[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(k^z&(C^k))+P[13]+2850285829&4294967295,w=C+(D<<5&4294967295|D>>>27),D=z+(C^k&(w^C))+P[2]+4243563512&4294967295,z=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(z^w))+P[7]+1735328473&4294967295,k=z+(D<<14&4294967295|D>>>18),D=C+(z^w&(k^z))+P[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(C^k^z)+P[5]+4294588738&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^k)+P[8]+2272392833&4294967295,z=w+(D<<11&4294967295|D>>>21),D=k+(z^w^C)+P[11]+1839030562&4294967295,k=z+(D<<16&4294967295|D>>>16),D=C+(k^z^w)+P[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(C^k^z)+P[1]+2763975236&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^k)+P[4]+1272893353&4294967295,z=w+(D<<11&4294967295|D>>>21),D=k+(z^w^C)+P[7]+4139469664&4294967295,k=z+(D<<16&4294967295|D>>>16),D=C+(k^z^w)+P[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(C^k^z)+P[13]+681279174&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^k)+P[0]+3936430074&4294967295,z=w+(D<<11&4294967295|D>>>21),D=k+(z^w^C)+P[3]+3572445317&4294967295,k=z+(D<<16&4294967295|D>>>16),D=C+(k^z^w)+P[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(C^k^z)+P[9]+3654602809&4294967295,w=C+(D<<4&4294967295|D>>>28),D=z+(w^C^k)+P[12]+3873151461&4294967295,z=w+(D<<11&4294967295|D>>>21),D=k+(z^w^C)+P[15]+530742520&4294967295,k=z+(D<<16&4294967295|D>>>16),D=C+(k^z^w)+P[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(k^(C|~z))+P[0]+4096336452&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~k))+P[7]+1126891415&4294967295,z=w+(D<<10&4294967295|D>>>22),D=k+(w^(z|~C))+P[14]+2878612391&4294967295,k=z+(D<<15&4294967295|D>>>17),D=C+(z^(k|~w))+P[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=w+(k^(C|~z))+P[12]+1700485571&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~k))+P[3]+2399980690&4294967295,z=w+(D<<10&4294967295|D>>>22),D=k+(w^(z|~C))+P[10]+4293915773&4294967295,k=z+(D<<15&4294967295|D>>>17),D=C+(z^(k|~w))+P[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=w+(k^(C|~z))+P[8]+1873313359&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~k))+P[15]+4264355552&4294967295,z=w+(D<<10&4294967295|D>>>22),D=k+(w^(z|~C))+P[6]+2734768916&4294967295,k=z+(D<<15&4294967295|D>>>17),D=C+(z^(k|~w))+P[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=w+(k^(C|~z))+P[4]+4149444226&4294967295,w=C+(D<<6&4294967295|D>>>26),D=z+(C^(w|~k))+P[11]+3174756917&4294967295,z=w+(D<<10&4294967295|D>>>22),D=k+(w^(z|~C))+P[2]+718787259&4294967295,k=z+(D<<15&4294967295|D>>>17),D=C+(z^(k|~w))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+z&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var C=w-this.blockSize,P=this.B,k=this.h,z=0;z<w;){if(k==0)for(;z<=C;)a(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<w;)if(P[k++]=V.charCodeAt(z++),k==this.blockSize){a(this,P),k=0;break}}else for(;z<w;)if(P[k++]=V[z++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var C=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=C&255,C/=256;for(this.u(V),V=Array(16),w=C=0;4>w;++w)for(var P=0;32>P;P+=8)V[C++]=this.g[w]>>>P&255;return V};function l(V,w){var C=d;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=w(V)}function c(V,w){this.h=w;for(var C=[],P=!0,k=V.length-1;0<=k;k--){var z=V[k]|0;P&&z==w||(C[k]=z,P=!1)}this.g=C}var d={};function m(V){return-128<=V&&128>V?l(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return N(p(-V));for(var w=[],C=1,P=0;V>=C;P++)w[P]=V/C|0,C*=4294967296;return new c(w,0)}function y(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return N(y(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(w,8)),P=T,k=0;k<V.length;k+=8){var z=Math.min(8,V.length-k),D=parseInt(V.substring(k,k+z),w);8>z?(z=p(Math.pow(w,z)),P=P.j(z).add(p(D))):(P=P.j(C),P=P.add(p(D)))}return P}var T=m(0),A=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-N(this).m();for(var V=0,w=1,C=0;C<this.g.length;C++){var P=this.i(C);V+=(0<=P?P:4294967296+P)*w,w*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(I(this))return"0";if(L(this))return"-"+N(this).toString(V);for(var w=p(Math.pow(V,6)),C=this,P="";;){var k=lt(C,w).g;C=F(C,k.j(w));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=k,I(C))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function I(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function L(V){return V.h==-1}e.l=function(V){return V=F(this,V),L(V)?-1:I(V)?0:1};function N(V){for(var w=V.g.length,C=[],P=0;P<w;P++)C[P]=~V.g[P];return new c(C,~V.h).add(A)}e.abs=function(){return L(this)?N(this):this},e.add=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0,k=0;k<=w;k++){var z=P+(this.i(k)&65535)+(V.i(k)&65535),D=(z>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);P=D>>>16,z&=65535,D&=65535,C[k]=D<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function F(V,w){return V.add(N(w))}e.j=function(V){if(I(this)||I(V))return T;if(L(this))return L(V)?N(this).j(N(V)):N(N(this).j(V));if(L(V))return N(this.j(N(V)));if(0>this.l(R)&&0>V.l(R))return p(this.m()*V.m());for(var w=this.g.length+V.g.length,C=[],P=0;P<2*w;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<V.g.length;k++){var z=this.i(P)>>>16,D=this.i(P)&65535,Ee=V.i(k)>>>16,ne=V.i(k)&65535;C[2*P+2*k]+=D*ne,q(C,2*P+2*k),C[2*P+2*k+1]+=z*ne,q(C,2*P+2*k+1),C[2*P+2*k+1]+=D*Ee,q(C,2*P+2*k+1),C[2*P+2*k+2]+=z*Ee,q(C,2*P+2*k+2)}for(P=0;P<w;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=w;P<2*w;P++)C[P]=0;return new c(C,0)};function q(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function $(V,w){this.g=V,this.h=w}function lt(V,w){if(I(w))throw Error("division by zero");if(I(V))return new $(T,T);if(L(V))return w=lt(N(V),w),new $(N(w.g),N(w.h));if(L(w))return w=lt(V,N(w)),new $(N(w.g),w.h);if(30<V.g.length){if(L(V)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,P=w;0>=P.l(V);)C=it(C),P=it(P);var k=dt(C,1),z=dt(P,1);for(P=dt(P,2),C=dt(C,2);!I(P);){var D=z.add(P);0>=D.l(V)&&(k=k.add(C),z=D),P=dt(P,1),C=dt(C,1)}return w=F(V,k.j(w)),new $(k,w)}for(k=T;0<=V.l(w);){for(C=Math.max(1,Math.floor(V.m()/w.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=p(C),D=z.j(w);L(D)||0<D.l(V);)C-=P,z=p(C),D=z.j(w);I(z)&&(z=A),k=k.add(z),V=F(V,D)}return new $(k,V)}e.A=function(V){return lt(this,V).h},e.and=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0;P<w;P++)C[P]=this.i(P)&V.i(P);return new c(C,this.h&V.h)},e.or=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0;P<w;P++)C[P]=this.i(P)|V.i(P);return new c(C,this.h|V.h)},e.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0;P<w;P++)C[P]=this.i(P)^V.i(P);return new c(C,this.h^V.h)};function it(V){for(var w=V.g.length+1,C=[],P=0;P<w;P++)C[P]=V.i(P)<<1|V.i(P-1)>>>31;return new c(C,V.h)}function dt(V,w){var C=w>>5;w%=32;for(var P=V.g.length-C,k=[],z=0;z<P;z++)k[z]=0<w?V.i(z+C)>>>w|V.i(z+C+1)<<32-w:V.i(z+C);return new c(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ar=c}).apply(typeof JT<"u"?JT:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ab,gu,ob,Xh,Kp,lb,ub,cb;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var H=h[b];if(!(H in _))break t;_=_[H]}h=h[h.length-1],b=_[h],v=v(b),v!=b&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,b=!1,H={next:function(){if(!b&&_<h.length){var X=_++;return{value:v(X,h[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function T(h,v,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function A(h,v,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,A.apply(null,arguments)}function R(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function I(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,H,X){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return v.prototype[H].apply(b,ot)}}function L(h){const v=h.length;if(0<v){const _=Array(v);for(let b=0;b<v;b++)_[b]=h[b];return _}return[]}function N(h,v){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const H=h.length||0,X=b.length||0;h.length=H+X;for(let ot=0;ot<X;ot++)h[H+ot]=b[ot]}else h.push(b)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var it=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function dt(h,v,_){for(const b in h)v.call(_,h[b],b,h)}function V(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function w(h){const v={};for(const _ in h)v[_]=h[_];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)h[_]=b[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function k(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function z(h){d.setTimeout(()=>{throw h},0)}function D(){var h=xt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,_){const b=ne.get();b.set(v,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new F(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ht=!1,xt=new Ee,M=()=>{const h=d.Promise.resolve(void 0);rt=()=>{h.then(st)}};var st=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){z(_)}var v=ne;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function Dt(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(it){t:{try{lt(v.nodeName);var H=!0;break t}catch{}H=!1}H||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}I(Dt,at);var bt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function ri(h,v,_,b,H){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!b,this.ha=H,this.key=++Jt,this.da=this.fa=!1}function Es(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Li(h){this.src=h,this.g={},this.h=0}Li.prototype.add=function(h,v,_,b,H){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ot=Tr(h,v,b,H);return-1<ot?(v=h[ot],_||(v.fa=!1)):(v=new ri(v,this.src,X,!!b,H),v.fa=_,h.push(v)),v};function _r(h,v){var _=v.type;if(_ in h.g){var b=h.g[_],H=Array.prototype.indexOf.call(b,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(b,H,1),X&&(Es(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Tr(h,v,_,b){for(var H=0;H<h.length;++H){var X=h[H];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==b)return H}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),il={};function mc(h,v,_,b,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)mc(h,v[X],_,b,H);return null}return _=pc(_),h&&h[Le]?h.K(v,_,p(b)?!!b.capture:!1,H):Cn(h,v,_,!1,b,H)}function Cn(h,v,_,b,H,X){if(!v)throw Error("Invalid event type");var ot=p(H)?!!H.capture:!!H,kt=wa(h);if(kt||(h[Er]=kt=new Li(h)),_=kt.add(v,_,b,ot,X),_.proxy)return _;if(b=sd(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)yt||(H=ot),H===void 0&&(H=!1),h.addEventListener(v.toString(),b,H);else if(h.attachEvent)h.attachEvent(Ar(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sd(){function h(_){return v.call(h.src,h.listener,_)}const v=rd;return h}function sl(h,v,_,b,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)sl(h,v[X],_,b,H);else b=p(b)?!!b.capture:!!b,_=pc(_),h&&h[Le]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],_=Tr(X,_,b,H),-1<_&&(Es(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=wa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Tr(v,_,b,H)),(_=-1<h?v[h]:null)&&ba(_))}function ba(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Le])_r(v.i,h);else{var _=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(_,b,h.capture):v.detachEvent?v.detachEvent(Ar(_),b):v.addListener&&v.removeListener&&v.removeListener(b),(_=wa(v))?(_r(_,h),_.h==0&&(_.src=null,v[Er]=null)):Es(h)}}}function Ar(h){return h in il?il[h]:il[h]="on"+h}function rd(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var _=h.listener,b=h.ha||h.src;h.fa&&ba(h),h=_.call(b,v)}return h}function wa(h){return h=h[Er],h instanceof Li?h:null}var rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(h){return typeof h=="function"?h:(h[rl]||(h[rl]=function(v){return h.handleEvent(v)}),h[rl])}function he(){ut.call(this),this.i=new Li(this),this.M=this,this.F=null}I(he,ut),he.prototype[Le]=!0,he.prototype.removeEventListener=function(h,v,_,b){sl(this,h,v,_,b)};function Gt(h,v){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var H=v;v=new at(b,h),P(v,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var ot=v.g=_[X];H=vn(ot,b,!0,v)&&H}if(ot=v.g=h,H=vn(ot,b,!0,v)&&H,H=vn(ot,b,!1,v)&&H,_)for(X=0;X<_.length;X++)ot=v.g=_[X],H=vn(ot,b,!1,v)&&H}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],b=0;b<_.length;b++)Es(_[b]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,_,b){return this.i.add(String(h),v,!1,_,b)},he.prototype.L=function(h,v,_,b){return this.i.add(String(h),v,!0,_,b)};function vn(h,v,_,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var ot=v[X];if(ot&&!ot.da&&ot.capture==_){var kt=ot.listener,Ve=ot.ha||ot.src;ot.fa&&_r(h.i,ot),H=kt.call(Ve,b)!==!1&&H}}return H&&!b.defaultPrevented}function Ze(h,v,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function gc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,gc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ad extends ut{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){ut.call(this),this.h=h,this.g={}}I(Sr,ut);var br=[];function wr(h){dt(h.g,function(v,_){this.g.hasOwnProperty(_)&&ba(v)},h),h.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),wr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,Ra=d.JSON.parse,Rr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function al(){}al.prototype.h=null;function ol(h){return h.h||(h.h=h.i())}function ll(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){at.call(this,"d")}I(Ui,at);function ul(){at.call(this,"c")}I(ul,at);var ai={},cl=null;function As(){return cl=cl||new he}ai.La="serverreachability";function Ca(h){at.call(this,ai.La,h)}I(Ca,at);function Ss(h){const v=As();Gt(v,new Ca(v))}ai.STAT_EVENT="statevent";function yc(h,v){at.call(this,ai.STAT_EVENT,h),this.stat=v}I(yc,at);function se(h){const v=As();Gt(v,new yc(v,h))}ai.Ma="timingevent";function De(h,v){at.call(this,ai.Ma,h),this.size=v}I(De,at);function Ae(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function hl(h,v,_,b,H,X){h.info(function(){if(h.g)if(X)for(var ot="",kt=X.split("&"),Ve=0;Ve<kt.length;Ve++){var Ut=kt[Ve].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var Me=Ue.split("_");ot=2<=Me.length&&Me[1]=="type"?ot+(Ue+"="+Ut+"&"):ot+(Ue+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+v+`
`+_+`
`+ot})}function od(h,v,_,b,H,X,ot){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+v+`
`+_+`
`+X+" "+ot})}function bs(h,v,_,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cr(h,_)+(b?" "+b:"")})}function vc(h,v){h.info(function(){return"TIMEOUT: "+v})}xn.prototype.info=function(){};function Cr(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<H.length;ot++)H[ot]=""}}}}return Gn(_)}catch{return v}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}I(li,al),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function on(h,v,_,b){this.j=h,this.i=v,this.l=_,this.R=b||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var fl={},xa={};function Kn(h,v,_){h.L=1,h.v=Mr(_n(v)),h.m=_,h.P=!0,Bi(h,null)}function Bi(h,v){h.F=Date.now(),xr(h),h.A=_n(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),vl(_.i,"t",b),h.C=0,_=h.j.J,h.h=new pe,h.g=Pc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new ad(A(h.Y,h,h.g),h.O)),v=h.U,_=h.g,b=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(br[0]=H.toString()),H=br);for(var X=0;X<H.length;X++){var ot=mc(_,H[X],b||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ss(),hl(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&Mn(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const Me=Mn(this.g);var v=this.g.Ba();const $i=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||Me!=4||v==7||(v==8||0>=$i?Ss(3):Ss(2)),Rs(this);var _=this.g.Z();this.X=_;e:if(_c(this)){var b=Rc(this.g);h="";var H=b.length,X=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ui(this);var ot="";break e}this.h.i=new d.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(b[v],{stream:!(X&&v==H-1)});b.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,od(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ve=this.g;if((kt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(kt)){var Ut=kt;break e}}Ut=null}if(_=Ut)bs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,_);else{this.o=!1,this.s=3,se(12),qe(this),ui(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ot.length;)if(He=Tc(this,ot),He==xa){Me==4&&(this.s=4,se(14),_=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(He==fl){this.s=4,se(15),bs(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else bs(this.i,this.l,He,null),Ir(this,He);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ot.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)bs(this.i,this.l,ot,"[Invalid Chunked Response]"),qe(this),ui(this);else if(0<ot.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Br(Ue),Ue.M=!0,se(11))}}else bs(this.i,this.l,ot,null),Ir(this,ot);Me==4&&qe(this),this.o&&!this.J&&(Me==4?Vc(this.j,this):(this.o=!1,xr(this)))}else fd(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),qe(this),ui(this)}}}catch{}finally{}};function _c(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Tc(h,v){var _=h.C,b=v.indexOf(`
`,_);return b==-1?xa:(_=Number(v.substring(_,b)),isNaN(_)?fl:(b+=1,b+_>v.length?xa:(v=v.slice(b,b+_),h.C=b+_,v)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function xr(h){h.S=Date.now()+h.I,Ec(h,h.I)}function Ec(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ae(A(h.ba,h),v)}function Rs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vc(this.i,this.A),this.L!=2&&(Ss(),se(17)),qe(this),this.s=2,ui(this)):Ec(this,this.S-h)};function ui(h){h.j.G==0||h.J||Vc(h.j,h)}function qe(h){Rs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,wr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ir(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||dl(_.h,h))){if(!h.K&&dl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ba(_),Ua(_);else break t;Sl(_),se(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ae(A(_.Za,_),6e3));if(1>=Da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Yi(_,11)}else if((h.K||_.g==h)&&Ba(_),!q(v))for(H=_.Da.g.parse(v),v=0;v<H.length;v++){let Ut=H[v];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(_.la=Ue,_.j.info("VER="+_.la));const Me=Ut[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const $i=Ut[5];$i!=null&&typeof $i=="number"&&0<$i&&(b=1.5*$i,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const He=h.g;if(He){const gi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var X=b.h;X.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Va(X,X.h),X.h=null))}if(b.D){const wl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(b.ya=wl,$t(b.I,b.D,wl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ot=h;if(b.qa=Nc(b,b.J?b.ia:null,b.W),ot.K){ln(b.h,ot);var kt=ot,Ve=b.L;Ve&&(kt.I=Ve),kt.B&&(Rs(kt),xr(kt)),b.g=ot}else Ic(b);0<_.i.length&&ja(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Yi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Yi(_,7):El(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ss(4)}catch{}}var Ac=class{constructor(h,v){this.g=h,this.map=v}};function zi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ia(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Da(h){return h.h?1:h.g?h.g.size:0}function dl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Va(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}zi.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ml(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return L(h.i)}function ld(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,b=0;b<_;b++)v.push(h[b]);return v}v=[],_=0;for(b in h)v[_++]=h[b];return v}function Ma(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const b in h)v[_++]=b;return v}}}function pl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Ma(h),b=ld(h),H=b.length,X=0;X<H;X++)v.call(void 0,b[X],_&&_[X],h)}var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),H=null;if(0<=b){var X=h[_].substring(0,b);H=h[_].substring(b+1)}else X=h[_];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,Vr(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.s),this.l=h.l;var v=h.i,_=new qi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Fi(this,_),this.m=h.m}else h&&(v=String(h).match(Dr))?(this.h=!1,Vr(this,v[1]||"",!0),this.o=In(v[2]||""),this.g=In(v[3]||"",!0),Cs(this,v[4]),this.l=In(v[5]||"",!0),Fi(this,v[6]||"",!0),this.m=In(v[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Nr(v,gl,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Nr(v,gl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Nr(_,_.charAt(0)=="/"?cd:yl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Nr(_,Na)),h.join("")};function _n(h){return new Se(h)}function Vr(h,v,_){h.j=_?In(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Fi(h,v,_){v instanceof qi?(h.i=v,bc(h.i,h.h)):(_||(v=Nr(v,hd)),h.i=new qi(v,h.h))}function $t(h,v,_){h.i.set(v,_)}function Mr(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Nr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Sc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,cd=/[#\?]/g,hd=/[#\?@]/g,Na=/#/g;function qi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&ud(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=qi.prototype,e.add=function(h,v){Dn(this),this.i=null,h=ci(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Hi(h,v){Dn(h),v=ci(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Gi(h,v){return Dn(h),v=ci(h,v),h.g.has(v)}e.forEach=function(h,v){Dn(this),this.g.forEach(function(_,b){_.forEach(function(H){h.call(v,H,b,this)},this)},this)},e.na=function(){Dn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let b=0;b<v.length;b++){const H=h[b];for(let X=0;X<H.length;X++)_.push(v[b])}return _},e.V=function(h){Dn(this);let v=[];if(typeof h=="string")Gi(this,h)&&(v=v.concat(this.g.get(ci(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return Dn(this),this.i=null,h=ci(this,h),Gi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function vl(h,v,_){Hi(h,v),0<_.length&&(h.i=null,h.g.set(ci(h,v),L(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var b=v[_];const X=encodeURIComponent(String(b)),ot=this.V(b);for(b=0;b<ot.length;b++){var H=X;ot[b]!==""&&(H+="="+encodeURIComponent(String(ot[b]))),h.push(H)}}return this.i=h.join("&")};function ci(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function bc(h,v){v&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(Hi(this,b),vl(this,H,_))},h)),h.j=v}function Pr(h,v){const _=new xn;if(d.Image){const b=new Image;b.onload=R(Vn,_,"TestLoadImage: loaded",!0,v,b),b.onerror=R(Vn,_,"TestLoadImage: error",!1,v,b),b.onabort=R(Vn,_,"TestLoadImage: abort",!1,v,b),b.ontimeout=R(Vn,_,"TestLoadImage: timeout",!1,v,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function Yn(h,v){const _=new xn,b=new AbortController,H=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(X=>{clearTimeout(H),X.ok?Vn(_,"TestPingServer: ok",!0,v):Vn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Vn(_,"TestPingServer: error",!1,v)})}function Vn(h,v,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function Or(){this.g=new Rr}function hi(h,v,_){const b=_||"";try{pl(h,function(H,X){let ot=H;p(H)&&(ot=Gn(H)),v.push(b+X+"="+encodeURIComponent(ot))})}catch(H){throw v.push(b+"type="+encodeURIComponent("_badmap")),H}}function xs(h){this.l=h.Ub||null,this.j=h.eb||!1}I(xs,al),xs.prototype.g=function(){return new Ki(this.l,this.j)},xs.prototype.i=(function(h){return function(){return h}})({});function Ki(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ki,he),e=Ki.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,di(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?fi(this):di(this),this.readyState==3&&_l(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,fi(this))},e.Qa=function(h){this.g&&(this.response=h,fi(this))},e.ga=function(){this.g&&fi(this)};function fi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,di(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Tl(h){let v="";return dt(h,function(_,b){v+=b,v+=":",v+=_,v+=`\r
`}),v}function ke(h,v,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Tl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):$t(h,v,_))}function qt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(qt,he);var Pa=/^https?$/i,Lr=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?ol(this.o):ol(oi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){wc(this,X);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Lr,v,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of _)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){wc(this,X)}};function wc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Oa(h),mi(h)}function Oa(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),mi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},e.bb=function(){La(this)};function La(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var b;if(b=ot===0){var H=String(h.D).match(Dr)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),b=!Pa.test(H?H.toLowerCase():"")}_=b}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var X=2<Mn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Oa(h)}}finally{mi(h)}}}}function mi(h,v){if(h.g){kr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Gt(h,"ready");try{_.onreadystatechange=b}catch{}}}function kr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ra(v)}};function Rc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fd(h){const v={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(q(h[b]))continue;var _=k(h[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[H]||[];v[H]=X,X.push(_)}V(v,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function ka(h){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,h),this.cb=Ur("retryDelaySeedMs",1e4,h),this.Wa=Ur("forwardChannelMaxRetries",2,h),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(h&&h.concurrentRequestLimit),this.Da=new Or,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ka.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,b){se(0),this.W=h,this.H=v||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Nc(this,null,this.W),ja(this)};function El(h){if(Cc(h),h.G==3){var v=h.U++,_=_n(h.I);if($t(_,"SID",h.K),$t(_,"RID",v),$t(_,"TYPE","terminate"),jr(h,_),v=new on(h,h.j,v),v.L=2,v.v=Mr(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Pc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xr(v)}Mc(h)}function Ua(h){h.g&&(Br(h),h.g.cancel(),h.g=null)}function Cc(h){Ua(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ja(h){if(!Ia(h.h)&&!h.s){h.s=!0;var v=h.Ga;rt||M(),ht||(rt(),ht=!0),xt.add(v,h),h.B=0}}function dd(h,v){return Da(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ae(A(h.Ga,h,v),bl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new on(this,this.j,h);let X=this.o;if(this.S&&(X?(X=w(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=xc(this,H,v),_=_n(this.I),$t(_,"RID",h),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),jr(this,_),X&&(this.O?v="headers="+encodeURIComponent(String(Tl(X)))+"&"+v:this.m&&ke(_,this.m,X)),Va(this.h,H),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",v),$t(_,"SID","null"),H.T=!0,Kn(H,_,null)):Kn(H,_,v),this.G=2}}else this.G==3&&(h?Al(this,h):this.i.length==0||Ia(this.h)||Al(this))};function Al(h,v){var _;v?_=v.l:_=h.U++;const b=_n(h.I);$t(b,"SID",h.K),$t(b,"RID",_),$t(b,"AID",h.T),jr(h,b),h.m&&h.o&&ke(b,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=xc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Va(h.h,_),Kn(_,b,v)}function jr(h,v){h.H&&dt(h.H,function(_,b){$t(v,b,_)}),h.l&&pl({},function(_,b){$t(v,b,_)})}function xc(h,v,_){_=Math.min(h.i.length,_);var b=h.l?A(h.l.Na,h.l,h):null;t:{var H=h.i;let X=-1;for(;;){const ot=["count="+_];X==-1?0<_?(X=H[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let kt=!0;for(let Ve=0;Ve<_;Ve++){let Ut=H[Ve].g;const Ue=H[Ve].map;if(Ut-=X,0>Ut)X=Math.max(0,H[Ve].g-100),kt=!1;else try{hi(Ue,ot,"req"+Ut+"_")}catch{b&&b(Ue)}}if(kt){b=ot.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,b}function Ic(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;rt||M(),ht||(rt(),ht=!0),xt.add(v,h),h.v=0}}function Sl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ae(A(h.Fa,h),bl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ae(A(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Ua(this),Dc(this))};function Br(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Dc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);$t(v,"RID","rpc"),$t(v,"SID",h.K),$t(v,"AID",h.T),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(v,"TO",h.ja),$t(v,"TYPE","xmlhttp"),jr(h,v),h.m&&h.o&&ke(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Mr(_n(v)),_.m=null,_.P=!0,Bi(_,h)}e.Za=function(){this.C!=null&&(this.C=null,Ua(this),Sl(this),se(19))};function Ba(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Vc(h,v){var _=null;if(h.g==v){Ba(h),Br(h),h.g=null;var b=2}else if(dl(h.h,v))_=v.D,ln(h.h,v),b=1;else return;if(h.G!=0){if(v.o)if(b==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;b=As(),Gt(b,new De(b,_)),ja(h)}else Ic(h);else if(H=v.s,H==3||H==0&&0<v.X||!(b==1&&dd(h,v)||b==2&&Sl(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),H){case 1:Yi(h,5);break;case 4:Yi(h,10);break;case 3:Yi(h,6);break;default:Yi(h,2)}}}function bl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Yi(h,v){if(h.j.info("Error code "+v),v==2){var _=A(h.fb,h),b=h.Xa;const H=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Vr(b,"https"),Mr(b),H?Pr(b.toString(),_):Yn(b.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(v),Mc(h),Cc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Mc(h){if(h.G=0,h.ka=[],h.l){const v=ml(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Nc(h,v,_){var b=_ instanceof Se?_n(_):new Se(_);if(b.g!="")v&&(b.g=v+"."+b.g),Cs(b,b.s);else{var H=d.location;b=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new Se(null);b&&Vr(X,b),v&&(X.g=v),H&&Cs(X,H),_&&(X.l=_),b=X}return _=h.D,v=h.ya,_&&v&&$t(b,_,v),$t(b,"VER",h.la),jr(h,b),b}function Pc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new xs({eb:_})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}e=Oc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function za(){}za.prototype.g=function(h,v){return new un(h,v)};function un(h,v){he.call(this),this.g=new ka(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new pi(this)}I(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){El(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Gn(h),h=_);v.i.push(new Ac(v.Ya++,h)),v.G==3&&ja(v)},un.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,un.aa.N.call(this)};function Lc(h){Ui.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(Lc,Ui);function kc(){ul.call(this),this.status=1}I(kc,ul);function pi(h){this.g=h}I(pi,Oc),pi.prototype.ua=function(){Gt(this.g,"a")},pi.prototype.ta=function(h){Gt(this.g,new Lc(h))},pi.prototype.sa=function(h){Gt(this.g,new kc)},pi.prototype.ra=function(){Gt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,cb=function(){return new za},ub=function(){return As()},lb=ai,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,Xh=ws,ji.COMPLETE="complete",ob=ji,ll.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",he.prototype.listen=he.prototype.K,gu=ll,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,ab=qt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const tE="@firebase/firestore",eE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new qg("@firebase/firestore");function yo(){return pa.logLevel}function ft(e,...t){if(pa.logLevel<=Pt.DEBUG){const n=t.map(Kg);pa.debug(`Firestore (${Ko}): ${e}`,...n)}}function ps(e,...t){if(pa.logLevel<=Pt.ERROR){const n=t.map(Kg);pa.error(`Firestore (${Ko}): ${e}`,...n)}}function No(e,...t){if(pa.logLevel<=Pt.WARN){const n=t.map(Kg);pa.warn(`Firestore (${Ko}): ${e}`,...n)}}function Kg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,hb(e,s,n)}function hb(e,t,n){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ps(s),new Error(s)}function Ht(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||hb(t,a,s)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ts{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class FD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qD{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new or,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new or)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new fb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class HD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new HD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=YD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Ot(e,t){return e<t?-1:e>t?1:0}function Yp(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return yp(a)===yp(l)?Ot(a,l):yp(a)?1:-1}return Ot(e.length,t.length)}const $D=55296,QD=57343;function yp(e){const t=e.charCodeAt(0);return t>=$D&&t<=QD}function Po(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class Ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Ai.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ot(t.length,n.length)}static compareSegments(t,n){const s=Ai.isNumericId(t),a=Ai.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ai.extractNumericId(t).compare(Ai.extractNumericId(n)):Yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ee extends Ai{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const XD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ai{construct(t,n,s){return new Xe(t,n,s)}static isValidIdentifier(t){return XD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new Xe([iE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(e,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function WD(e,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sE(e){if(!gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rE(e){if(gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mb(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Uf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function fs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uf(e);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t){const n={typeString:e};return t&&(n.value=t),n}function ec(e,t){if(!mb(e))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=-62135596800,oE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*oE);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<aE)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ec(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-aE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ie(0,0))}static max(){return new wt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function ZD(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new ur(a,gt.empty(),t)}function JD(e){return new ur(e.readTime,e.key,Pu)}class ur{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ur(wt.min(),gt.empty(),Pu)}static max(){return new ur(wt.max(),gt.empty(),Pu)}}function tV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==eV)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((a=>a?nt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new nt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function iV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=-1;function Bf(e){return e==null}function mf(e){return e===0&&1/e==-1/0}function sV(e){return typeof e=="number"&&Number.isInteger(e)&&!mf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="";function rV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=lE(t)),t=aV(e.get(n),t);return lE(t)}function aV(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case pb:n+="";break;default:n+=l}}return n}function lE(e){return e+pb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _a(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bh(this.root,t,this.comparator,!0)}}class Bh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Qe(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(t){return new cE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class cE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Oe(Xe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new yb("Invalid base64 string: "+l):l}})(t);return new We(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const oV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(e){if(Ht(!!e,39018),typeof e=="string"){let t=0;const n=oV.exec(e);if(Ht(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hr(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="server_timestamp",_b="__type__",Tb="__previous_value__",Eb="__local_write_time__";function Qg(e){return(e?.mapValue?.fields||{})[_b]?.stringValue===vb}function zf(e){const t=e.mapValue.fields[Tb];return Qg(t)?zf(t):t}function Ou(e){const t=cr(e.mapValue.fields[Eb].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t,n,s,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const pf="(default)";class Lu{constructor(t,n){this.projectId=t,this.database=n||pf}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__type__",uV="__max__",zh={mapValue:{}},Sb="__vector__",gf="value";function fr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qg(e)?4:hV(e)?9007199254740991:cV(e)?10:11:Tt(28295,{value:e})}function Mi(e,t){if(e===t)return!0;const n=fr(e);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ou(e).isEqual(Ou(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=cr(a.timestampValue),d=cr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return hr(a.bytesValue).isEqual(hr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?mf(c)===mf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Po(e.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(uE(c)!==uE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Mi(c[m],d[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function ku(e,t){return(e.values||[]).find((n=>Mi(n,t)))!==void 0}function Oo(e,t){if(e===t)return 0;const n=fr(e),s=fr(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return hE(e.timestampValue,t.timestampValue);case 4:return hE(Ou(e),Ou(t));case 5:return Yp(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=hr(l),m=hr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Ot(d[p],m[p]);if(y!==0)return y}return Ot(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ot(_e(l.latitude),_e(c.latitude));return d!==0?d:Ot(_e(l.longitude),_e(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return fE(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[gf]?.arrayValue,y=m[gf]?.arrayValue,T=Ot(p?.values?.length||0,y?.values?.length||0);return T!==0?T:fE(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===zh.mapValue&&c===zh.mapValue)return 0;if(l===zh.mapValue)return 1;if(c===zh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const A=Yp(m[T],y[T]);if(A!==0)return A;const R=Oo(d[m[T]],p[y[T]]);if(R!==0)return R}return Ot(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function hE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ot(e,t);const n=cr(e),s=cr(t),a=Ot(n.seconds,s.seconds);return a!==0?a:Ot(n.nanos,s.nanos)}function fE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Oo(n[a],s[a]);if(l)return l}return Ot(n.length,s.length)}function Lo(e){return $p(e)}function $p(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=cr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return hr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=$p(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${$p(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function Wh(e){switch(fr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zf(e);return t?16+Wh(t):16;case 5:return 2*e.stringValue.length;case 6:return hr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Wh(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return _a(s.fields,((l,c)=>{a+=l.length+Wh(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function dE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qp(e){return!!e&&"integerValue"in e}function Xg(e){return!!e&&"arrayValue"in e}function mE(e){return!!e&&"nullValue"in e}function pE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zh(e){return!!e&&"mapValue"in e}function cV(e){return(e?.mapValue?.fields||{})[Ab]?.stringValue===Sb}function Au(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return _a(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Au(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Au(e.arrayValue.values[n]);return t}return{...e}}function hV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===uV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Zh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Au(n)}setAll(t){let n=Xe.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Au(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){_a(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Fn(Au(this.value))}}function bb(e){const t=[];return _a(e.fields,((n,s)=>{const a=new Xe([n]);if(Zh(s)){const l=bb(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),Fn.empty(),0)}static newFoundDocument(t,n,s,a){return new sn(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new sn(t,2,n,wt.min(),wt.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,wt.min(),wt.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n){this.position=t,this.inclusive=n}}function gE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=gt.comparator(gt.fromName(c.referenceValue),n.key):s=Oo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Mi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,n="asc"){this.field=t,this.dir=n}}function fV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class xe extends wb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new mV(t,n,s):n==="array-contains"?new yV(t,s):n==="in"?new vV(t,s):n==="not-in"?new _V(t,s):n==="array-contains-any"?new TV(t,s):new xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new pV(t,s):new gV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends wb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ii(t,n)}matches(t){return Rb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rb(e){return e.op==="and"}function Cb(e){return dV(e)&&Rb(e)}function dV(e){for(const t of e.filters)if(t instanceof ii)return!1;return!0}function Xp(e){if(e instanceof xe)return e.field.canonicalString()+e.op.toString()+Lo(e.value);if(Cb(e))return e.filters.map((t=>Xp(t))).join(",");{const t=e.filters.map((n=>Xp(n))).join(",");return`${e.op}(${t})`}}function xb(e,t){return e instanceof xe?(function(s,a){return a instanceof xe&&s.op===a.op&&s.field.isEqual(a.field)&&Mi(s.value,a.value)})(e,t):e instanceof ii?(function(s,a){return a instanceof ii&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&xb(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function Ib(e){return e instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(e):e instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ib).join(" ,")+"}"})(e):"Filter"}class mV extends xe{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class pV extends xe{constructor(t,n){super(t,"in",n),this.keys=Db("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class gV extends xe{constructor(t,n){super(t,"not-in",n),this.keys=Db("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Db(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class yV extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Xg(n)&&ku(n.arrayValue,this.value)}}class vV extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class _V extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ku(this.value.arrayValue,n)}}class TV extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ku(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function vE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new EV(e,t,n,s,a,l,c)}function Wg(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Xp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Bf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Lo(s))).join(",")),t.Te=n}return t.Te}function Zg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yE(e.startAt,t.startAt)&&yE(e.endAt,t.endAt)}function Wp(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AV(e,t,n,s,a,l,c,d){return new Qo(e,t,n,s,a,l,c,d)}function Ff(e){return new Qo(e)}function _E(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Vb(e){return e.collectionGroup!==null}function Su(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(Xe.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Uu(l,s))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Uu(Xe.keyField(),s))}return t.Ie}function Si(e){const t=Rt(e);return t.Ee||(t.Ee=SV(t,Su(e))),t.Ee}function SV(e,t){if(e.limitType==="F")return vE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Uu(a.field,l)}));const n=e.endAt?new yf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new yf(e.startAt.position,e.startAt.inclusive):null;return vE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Zp(e,t){const n=e.filters.concat([t]);return new Qo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jp(e,t,n){return new Qo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qf(e,t){return Zg(Si(e),Si(t))&&e.limitType===t.limitType}function Mb(e){return`${Wg(Si(e))}|lt:${e.limitType}`}function vo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Ib(a))).join(", ")}]`),Bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Lo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Lo(a))).join(",")),`Target(${s})`})(Si(e))}; limitType=${e.limitType})`}function Hf(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):gt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Su(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=gE(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Su(s),a)||s.endAt&&!(function(c,d,m){const p=gE(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Su(s),a))})(e,t)}function bV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nb(e){return(t,n)=>{let s=!1;for(const a of Su(e)){const l=wV(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function wV(e,t,n){const s=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Oo(m,p):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return gb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new ce(gt.comparator);function gs(){return RV}const Pb=new ce(gt.comparator);function yu(...e){let t=Pb;for(const n of e)t=t.insert(n.key,n);return t}function Ob(e){let t=Pb;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ra(){return bu()}function Lb(){return bu()}function bu(){return new Ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}const CV=new ce(gt.comparator),xV=new Oe(gt.comparator);function Lt(...e){let t=xV;for(const n of e)t=t.add(n);return t}const IV=new Oe(Ot);function DV(){return IV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function kb(e){return{integerValue:""+e}}function VV(e,t){return sV(t)?kb(t):Jg(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function MV(e,t,n){return e instanceof ju?(function(a,l){const c={fields:{[_b]:{stringValue:vb},[Eb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Qg(l)&&(l=zf(l)),l&&(c.fields[Tb]=l),{mapValue:c}})(n,t):e instanceof Bu?jb(e,t):e instanceof zu?Bb(e,t):(function(a,l){const c=Ub(a,l),d=TE(c)+TE(a.Ae);return Qp(c)&&Qp(a.Ae)?kb(d):Jg(a.serializer,d)})(e,t)}function NV(e,t,n){return e instanceof Bu?jb(e,t):e instanceof zu?Bb(e,t):n}function Ub(e,t){return e instanceof vf?(function(s){return Qp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class ju extends Gf{}class Bu extends Gf{constructor(t){super(),this.elements=t}}function jb(e,t){const n=zb(t);for(const s of e.elements)n.some((a=>Mi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class zu extends Gf{constructor(t){super(),this.elements=t}}function Bb(e,t){let n=zb(t);for(const s of e.elements)n=n.filter((a=>!Mi(a,s)));return{arrayValue:{values:n}}}class vf extends Gf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function TE(e){return _e(e.integerValue||e.doubleValue)}function zb(e){return Xg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(t,n){this.field=t,this.transform=n}}function OV(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Bu&&a instanceof Bu||s instanceof zu&&a instanceof zu?Po(s.elements,a.elements,Mi):s instanceof vf&&a instanceof vf?Mi(s.Ae,a.Ae):s instanceof ju&&a instanceof ju})(e.transform,t.transform)}class LV{constructor(t,n){this.version=t,this.transformResults=n}}class bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Kf{}function Fb(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hb(e.key,bi.none()):new nc(e.key,e.data,bi.none());{const n=e.data,s=Fn.empty();let a=new Oe(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ea(e.key,s,new Jn(a.toArray()),bi.none())}}function kV(e,t,n){e instanceof nc?(function(a,l,c){const d=a.value.clone(),m=AE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ea?(function(a,l,c){if(!Jh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=AE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(qb(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function wu(e,t,n,s){return e instanceof nc?(function(l,c,d,m){if(!Jh(l.precondition,c))return d;const p=l.value.clone(),y=SE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ea?(function(l,c,d,m){if(!Jh(l.precondition,c))return d;const p=SE(l.fieldTransforms,m,c),y=c.data;return y.setAll(qb(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(e,t,n,s):(function(l,c,d){return Jh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function UV(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=Ub(s.transform,a||null);l!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,l))}return n||null}function EE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Po(s,a,((l,c)=>OV(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nc extends Kf{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ea extends Kf{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function AE(e,t,n){const s=new Map;Ht(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,NV(c,d,n[a]))}return s}function SE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,MV(l,c,t))}return s}class Hb extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jV extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&kV(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=wu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=wu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Lb();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=Fb(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,((n,s)=>EE(n,s)))&&Po(this.baseMutations,t.baseMutations,((n,s)=>EE(n,s)))}}class ty{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return CV})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new ty(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function qV(e){switch(e){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function Gb(e){if(e===void 0)return ps("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:e})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new ar([4294967295,4294967295],0);function bE(e){const t=HV().encode(e),n=new rb;return n.update(t),new Uint8Array(n.digest())}function wE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ar([n,s],0),new ar([a,l],0)]}class ey{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(s<0)throw new vu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ar.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(ar.fromNumber(s)));return a.compare(GV)===1&&(a=new ar([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=bE(t),[s,a]=wE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new ey(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=bE(t),[s,a]=wE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,ic.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Yf(wt.min(),a,new ce(Ot),gs(),Lt())}}class ic{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ic(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class Kb{constructor(t,n){this.targetId=t,this.Ce=n}}class Yb{constructor(t,n,s=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class RE{constructor(){this.ve=0,this.Fe=CE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new ic(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=CE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KV{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.Je=Fh(),this.He=Fh(),this.Ye=new ce(Ot)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Wp(l))if(s===0){const c=new gt(l.path);this.et(n,c,sn.newNoDocument(c,wt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=hr(s).toUint8Array()}catch(m){if(m instanceof yb)return No("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ey(c,a,l)}catch(m){return No(m instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Wp(d.target)){const m=new gt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,sn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Lt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Yf(t,n,this.Ye,this.je,s);return this.je=gs(),this.Je=Fh(),this.He=Fh(),this.Ye=new ce(Ot),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new RE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Oe(Ot),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Oe(Ot),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new RE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Fh(){return new ce(gt.comparator)}function CE(){return new ce(gt.comparator)}const YV={asc:"ASCENDING",desc:"DESCENDING"},$V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QV={and:"AND",or:"OR"};class XV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tg(e,t){return e.useProto3Json||Bf(t)?t:{value:t}}function _f(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $b(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WV(e,t){return _f(e,t.toTimestamp())}function wi(e){return Ht(!!e,49232),wt.fromTimestamp((function(n){const s=cr(n);return new ie(s.seconds,s.nanos)})(e))}function ny(e,t){return eg(e,t).canonicalString()}function eg(e,t){const n=(function(a){return new ee(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Qb(e){const t=ee.fromString(e);return Ht(t1(t),10190,{key:t.toString()}),t}function ng(e,t){return ny(e.databaseId,t.path)}function vp(e,t){const n=Qb(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(Wb(n))}function Xb(e,t){return ny(e.databaseId,t)}function ZV(e){const t=Qb(e);return t.length===4?ee.emptyPath():Wb(t)}function ig(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wb(e){return Ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function xE(e,t,n){return{name:ng(e,t),fields:n.value.mapValue.fields}}function JV(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ht(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(Ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?tt.UNKNOWN:Gb(p.code);return new ct(y,p.message||"")})(c);n=new Yb(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=vp(e,s.document.name),l=wi(s.document.updateTime),c=s.document.createTime?wi(s.document.createTime):wt.min(),d=new Fn({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new tf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=vp(e,s.document),l=s.readTime?wi(s.readTime):wt.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new tf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=vp(e,s.document),l=s.removedTargetIds||[];n=new tf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new FV(a,l),d=s.targetId;n=new Kb(d,c)}}return n}function tM(e,t){let n;if(t instanceof nc)n={update:xE(e,t.key,t.value)};else if(t instanceof Hb)n={delete:ng(e,t.key)};else if(t instanceof Ea)n={update:xE(e,t.key,t.data),updateMask:uM(t.fieldMask)};else{if(!(t instanceof jV))return Tt(16599,{Vt:t.type});n={verify:ng(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof ju)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:WV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function eM(e,t){return e&&e.length>0?(Ht(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?wi(a.updateTime):wi(l);return c.isEqual(wt.min())&&(c=wi(l)),new LV(c,a.transformResults||[])})(n,t)))):[]}function nM(e,t){return{documents:[Xb(e,t.path)]}}function iM(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xb(e,a);const l=(function(p){if(p.length!==0)return Jb(ii.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(A){return{field:_o(A.field),direction:aM(A.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=tg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function sM(e){let t=ZV(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ht(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const A=Zb(T);return A instanceof ii&&Cb(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((A=>(function(I){return new Uu(To(I.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(A)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let A;return A=typeof T=="object"?T.value:T,Bf(A)?null:A})(n.limit));let m=null;n.startAt&&(m=(function(T){const A=!!T.before,R=T.values||[];return new yf(R,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,R=T.values||[];return new yf(R,A)})(n.endAt)),AV(t,a,c,l,d,"F",m,p)}function rM(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Zb(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=To(n.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=To(n.unaryFilter.field);return xe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(n.unaryFilter.field);return xe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=To(n.unaryFilter.field);return xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return xe.create(To(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>Zb(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function aM(e){return YV[e]}function oM(e){return $V[e]}function lM(e){return QV[e]}function _o(e){return{fieldPath:e.canonicalString()}}function To(e){return Xe.fromServerFormat(e.fieldPath)}function Jb(e){return e instanceof xe?(function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:oM(n.op),value:n.value}}})(e):e instanceof ii?(function(n){const s=n.getFilters().map((a=>Jb(a)));return s.length===1?s[0]:{compositeFilter:{op:lM(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function uM(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function t1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.yt=t}}function hM(e){const t=sM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Cn=new dM}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(ur.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class dM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Oe(ee.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(e1,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="LruGarbageCollector",mM=1048576;function VE([e,t],[n,s]){const a=Ot(e,n);return a===0?Ot(t,s):a}class pM{constructor(t){this.Ir=t,this.buffer=new Oe(VE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(DE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ft(DE,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class yM{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(jf.ce);const s=new pM(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(IE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(s=T,d=Date.now(),this.removeTargets(t,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(p=Date.now(),yo()<=Pt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function vM(e,t){return new yM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new Ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&wu(s.mutation,a,Jn.empty(),ie.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const a=ra();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=yu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ra();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=gs();const c=bu(),d=(function(){return bu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ea)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),wu(y.mutation,p,y.mutation.getFieldMask(),ie.now())):c.set(p.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new TM(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=bu();let a=new ce(((c,d)=>c-d)),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Jn.empty();y=d.applyToLocalView(p,y),s.set(m,y);const T=(a.get(d.batchId)||Lt()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=Lb();y.forEach((A=>{if(!l.has(A)){const R=Fb(n.get(A),s.get(A));R!==null&&T.set(A,R),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return nt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Vb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):nt.resolve(ra());let d=Pu,m=l;return c.next((p=>nt.forEach(p,((y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((A=>{m=m.insert(y,A)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Lt()))).next((y=>({batchId:d,changes:Ob(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let a=yu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(t,l).next((d=>nt.forEach(d,(m=>{const p=(function(T,A){return new Qo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))}));let d=yu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&wu(y.mutation,p,Jn.empty(),ie.now()),Hf(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:wi(a.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:hM(a.bundledQuery),readTime:wi(a.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ra();return nt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const a=ra(),l=n.length+1,c=new gt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ce(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ra(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ra(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return nt.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new zV(n,s));let l=this.qr.get(n);l===void 0&&(l=Lt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Qr=new Oe(Fe.$r),this.Ur=new Oe(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Fe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ee([])),s=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ee([])),s=new Fe(n,t),a=new Fe(n,t+1);let l=Lt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Fe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Ot(t.Yr,n.Yr)}static Kr(t,n){return Ot(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Fe.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BV(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Fe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?$g:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Oe(Ot);return n.forEach((a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;gt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new gt(l),0);let d=new Oe(Ot);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),nt.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(a=>{const l=new Fe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Fe(n,0),a=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=gs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=gs();const c=n.path,d=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||tV(JD(y),s)<=0||(a.has(y.key)||Hf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new CM(this)}getSize(t){return nt.resolve(this.size)}}class CM extends _M{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.persistence=t,this.si=new Ta((n=>Wg(n)),Zg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new iy,this.targetCount=0,this.ai=ko.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),nt.waitFor(l).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n){this.ui={},this.overlays={},this.ci=new jf(0),this.li=!1,this.li=!0,this.hi=new bM,this.referenceDelegate=t(this),this.Pi=new xM(this),this.indexManager=new fM,this.remoteDocumentCache=(function(a){return new RM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new cM(n),this.Ii=new AM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new SM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new wM(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new IM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class IM extends nV{constructor(t){super(),this.currentSequenceNumber=t}}class sy{constructor(t){this.persistence=t,this.Ri=new iy,this.Vi=null}static mi(t){return new sy(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const a=gt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Tf{constructor(t,n){this.persistence=t,this.pi=new Ta((s=>rV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=vM(this,n)}static mi(t,n){return new Tf(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?nt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wh(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ry(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SI()?8:iV(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new DM;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(yo()<=Pt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(yo()<=Pt.DEBUG&&ft("QueryEngine","Query:",vo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(yo()<=Pt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(n))):nt.resolve())}ys(t,n){if(_E(n))return nt.resolve(null);let s=Si(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Jp(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Lt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(t,Jp(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,s,a){return _E(n)||a.isEqual(wt.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?nt.resolve(null):(yo()<=Pt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vo(n)),this.vs(t,c,n,ZD(a,Pu)).next((d=>d)))}))}Ds(t,n){let s=new Oe(Nb(t));return n.forEach(((a,l)=>{Hf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return yo()<=Pt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(t,n,ur.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="LocalStore",MM=3e8;class NM{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ce(Ot),this.xs=new Ta((l=>Wg(l)),Zg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function PM(e,t,n,s){return new NM(e,t,n,s)}async function i1(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Lt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function OM(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const T=p.batch,A=T.keys();let R=nt.resolve();return A.forEach((I=>{R=R.next((()=>y.getEntry(m,I))).next((L=>{const N=p.docVersions.get(I);Ht(N!==null,48541),L.version.compareTo(N)<0&&(T.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Lt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function s1(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function LM(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,T)=>{const A=a.get(T);if(!A)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let R=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(T,R),(function(L,N,F){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=MM?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(A,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let m=gs(),p=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(kM(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(wt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return nt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function kM(e,t,n){let s=Lt(),a=Lt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=gs();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(ay,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function UM(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=$g),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function jM(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,nt.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new nr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function sg(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!$o(c))throw c;ft(ay,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function ME(e,t,n){const s=Rt(e);let a=wt.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=Rt(m),A=T.xs.get(y);return A!==void 0?nt.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,y)})(s,c,Si(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Lt()))).next((d=>(BM(s,bV(t),d),{documents:d,Qs:l})))))}function BM(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class NE{constructor(){this.activeTargetIds=DV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zM{constructor(){this.Mo=new NE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new NE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="ConnectivityMonitor";class OE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(PE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(PE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function rg(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="RestConnection",qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===pf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=rg(),d=this.zo(t,n.toUriEncodedString());ft(_p,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=Ho(p);return this.Jo(t,d,m,s,y).then((T=>(ft(_p,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw No(_p,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=qM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class KM extends HM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=rg();return new Promise(((d,m)=>{const p=new ab;p.setWithCredentials(!0),p.listenOnce(ob.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Xh.NO_ERROR:const T=p.getResponseJson();ft(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Xh.TIMEOUT:ft(en,`RPC '${t}' ${c} timed out`),m(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const A=p.getStatus();if(ft(en,`RPC '${t}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R?.error;if(I&&I.status&&I.message){const L=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(q)>=0?q:tt.UNKNOWN})(I.status);m(new ct(L,I.message))}else m(new ct(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ft(en,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(en,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=rg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=cb(),d=ub(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let A=!1,R=!1;const I=new GM({Yo:N=>{R?ft(en,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(A||(ft(en,`Opening RPC '${t}' stream ${a} transport.`),T.open(),A=!0),ft(en,`RPC '${t}' stream ${a} sending:`,N),T.send(N))},Zo:()=>T.close()}),L=(N,F,q)=>{N.listen(F,($=>{try{q($)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return L(T,gu.EventType.OPEN,(()=>{R||(ft(en,`RPC '${t}' stream ${a} transport opened.`),I.o_())})),L(T,gu.EventType.CLOSE,(()=>{R||(R=!0,ft(en,`RPC '${t}' stream ${a} transport closed`),I.a_(),this.E_(T))})),L(T,gu.EventType.ERROR,(N=>{R||(R=!0,No(en,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),L(T,gu.EventType.MESSAGE,(N=>{if(!R){const F=N.data[0];Ht(!!F,16349);const q=F,$=q?.error||q[0]?.error;if($){ft(en,`RPC '${t}' stream ${a} received error:`,$);const lt=$.status;let it=(function(w){const C=Re[w];if(C!==void 0)return Gb(C)})(lt),dt=$.message;it===void 0&&(it=tt.INTERNAL,dt="Unknown error status: "+lt+" with message "+$.message),R=!0,I.a_(new ct(it,dt)),T.close()}else ft(en,`RPC '${t}' stream ${a} received:`,F),I.u_(F)}})),L(d,lb.STAT_EVENT,(N=>{N.stat===Kp.PROXY?ft(en,`RPC '${t}' stream ${a} detected buffering proxy`):N.stat===Kp.NOPROXY&&ft(en,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(e){return new XV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class a1{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(LE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YM extends a1{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=JV(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?wi(c.readTime):wt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ig(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Wp(m)?{documents:nM(l,m)}:{query:iM(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$b(l,c.resumeToken);const p=tg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=_f(l,c.snapshotVersion.toTimestamp());const p=tg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=rM(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ig(this.serializer),n.removeTarget=t,this.q_(n)}}class $M extends a1{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=eM(t.writeResults,t.commitTime),s=wi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ig(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>tM(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{}class XM extends QM{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,eg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(tt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,eg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class ZM{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Aa(this)&&(ft(ga,"Restarting streams for network reachability change."),await(async function(m){const p=Rt(m);p.Ea.add(4),await sc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Qf(p)})(this))}))})),this.Ra=new WM(s,a)}}async function Qf(e){if(Aa(e))for(const t of e.da)await t(!0)}async function sc(e){for(const t of e.da)await t(!1)}function o1(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cy(n)?uy(n):Xo(n).O_()&&ly(n,t))}function oy(e,t){const n=Rt(e),s=Xo(n);n.Ia.delete(t),s.O_()&&l1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Ra.set("Unknown"))}function ly(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xo(e).Y_(t)}function l1(e,t){e.Va.Ue(t),Xo(e).Z_(t)}function uy(e){e.Va=new KV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.Ra.ua()}function cy(e){return Aa(e)&&!Xo(e).x_()&&e.Ia.size>0}function Aa(e){return Rt(e).Ea.size===0}function u1(e){e.Va=void 0}async function JM(e){e.Ra.set("Online")}async function tN(e){e.Ia.forEach(((t,n)=>{ly(e,t)}))}async function eN(e,t){u1(e),cy(e)?(e.Ra.ha(t),uy(e)):e.Ra.set("Unknown")}async function nN(e,t,n){if(e.Ra.set("Online"),t instanceof Yb&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ft(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ef(e,s)}else if(t instanceof tf?e.Va.Ze(t):t instanceof Kb?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await s1(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),l1(l,m);const T=new nr(y.target,m,p,y.sequenceNumber);ly(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ft(ga,"Failed to raise snapshot:",s),await Ef(e,s)}}async function Ef(e,t,n){if(!$o(t))throw t;e.Ea.add(1),await sc(e),e.Ra.set("Offline"),n||(n=()=>s1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(ga,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Qf(e)}))}function c1(e,t){return t().catch((n=>Ef(e,n,t)))}async function Xf(e){const t=Rt(e),n=dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$g;for(;iN(t);)try{const a=await UM(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,sN(t,a)}catch(a){await Ef(t,a)}h1(t)&&f1(t)}function iN(e){return Aa(e)&&e.Ta.length<10}function sN(e,t){e.Ta.push(t);const n=dr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function h1(e){return Aa(e)&&!dr(e).x_()&&e.Ta.length>0}function f1(e){dr(e).start()}async function rN(e){dr(e).ra()}async function aN(e){const t=dr(e);for(const n of e.Ta)t.ea(n.mutations)}async function oN(e,t,n){const s=e.Ta.shift(),a=ty.from(s,t,n);await c1(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Xf(e)}async function lN(e,t){t&&dr(e).X_&&await(async function(s,a){if((function(c){return qV(c)&&c!==tt.ABORTED})(a.code)){const l=s.Ta.shift();dr(s).B_(),await c1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Xf(s)}})(e,t),h1(e)&&f1(e)}async function kE(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ft(ga,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await sc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Qf(n)}async function uN(e,t){const n=Rt(e);t?(n.Ea.delete(2),await Qf(n)):t||(n.Ea.add(2),await sc(n),n.Ra.set("Unknown"))}function Xo(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new YM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:JM.bind(null,e),t_:tN.bind(null,e),r_:eN.bind(null,e),H_:nN.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),cy(e)?uy(e):e.Ra.set("Unknown")):(await e.ma.stop(),u1(e))}))),e.ma}function dr(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new $M(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:rN.bind(null,e),r_:lN.bind(null,e),ta:aN.bind(null,e),na:oN.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Xf(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(ga,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new hy(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(e,t){if(ps("AsyncQueue",`${t}: ${e}`),$o(e))return new ct(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(t){return new Ro(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=yu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ro)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.ga=new ce(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Uo{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Uo(t,n,Ro.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hN{constructor(){this.queries=jE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=jE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function jE(){return new Ta((e=>Mb(e)),qf)}async function d1(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new cN,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=fy(c,`Initialization of query '${vo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&dy(n)}async function m1(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fN(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&dy(n)}function dN(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function dy(e){e.Ca.forEach((t=>{t.next()}))}var ag,BE;(BE=ag||(ag={})).Ma="default",BE.Cache="cache";class p1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.key=t}}class y1{constructor(t){this.key=t}}class mN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=Nb(t),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new UE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,T)=>{const A=a.get(y),R=Hf(this.query,T)?T:null,I=!!A&&this.mutatedKeys.has(A.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;A&&R?A.data.isEqual(R.data)?I!==L&&(s.track({type:3,doc:R}),N=!0):this.su(A,R)||(s.track({type:2,doc:R}),N=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!A&&R?(s.track({type:0,doc:R}),N=!0):A&&!R&&(s.track({type:1,doc:A}),N=!0,(m||p)&&(d=!0)),N&&(R?(c=c.add(R),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,T)=>(function(R,I){const L=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:N})}};return L(R)-L(I)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Uo(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new y1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new g1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const my="SyncEngine";class pN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class gN{constructor(t){this.key=t,this.hu=!1}}class yN{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ta((d=>Mb(d)),qf),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new iy,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vN(e,t,n=!0){const s=S1(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await v1(s,t,n,!0),a}async function _N(e,t){const n=S1(e);await v1(n,t,!0,!1)}async function v1(e,t,n,s){const a=await jM(e.localStore,Si(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await TN(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&o1(e.remoteStore,a),d}async function TN(e,t,n,s,a){e.pu=(T,A,R)=>(async function(L,N,F,q){let $=N.view.ru(F);$.Cs&&($=await ME(L.localStore,N.query,!1).then((({documents:V})=>N.view.ru(V,$))));const lt=q&&q.targetChanges.get(N.targetId),it=q&&q.targetMismatches.get(N.targetId)!=null,dt=N.view.applyChanges($,L.isPrimaryClient,lt,it);return FE(L,N.targetId,dt.au),dt.snapshot})(e,T,A,R);const l=await ME(e.localStore,t,!0),c=new mN(t,l.Qs),d=c.ru(l.documents),m=ic.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);FE(e,n,p.au);const y=new pN(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function EN(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!qf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await sg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&oy(s.remoteStore,a.targetId),og(s,a.targetId)})).catch(Yo)):(og(s,a.targetId),await sg(s.localStore,a.targetId,!0))}async function AN(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),oy(n.remoteStore,s.targetId))}async function SN(e,t,n){const s=DN(e);try{const a=await(function(c,d){const m=Rt(c),p=ie.now(),y=d.reduce(((R,I)=>R.add(I.key)),Lt());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let I=gs(),L=Lt();return m.Ns.getEntries(R,y).next((N=>{I=N,I.forEach(((F,q)=>{q.isValidDocument()||(L=L.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,I))).next((N=>{T=N;const F=[];for(const q of d){const $=UV(q,T.get(q.key).overlayedDocument);$!=null&&F.push(new Ea(q.key,$,bb($.value.mapValue),bi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,F,d)})).next((N=>{A=N;const F=N.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(R,N.batchId,F)}))})).then((()=>({batchId:A.batchId,changes:Ob(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new ce(Ot)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await rc(s,a.changes),await Xf(s.remoteStore)}catch(a){const l=fy(a,"Failed to persist write");n.reject(l)}}async function _1(e,t){const n=Rt(e);try{const s=await LM(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ht(c.hu,14607):a.removedDocuments.size>0&&(Ht(c.hu,42227),c.hu=!1))})),await rc(n,s,t)}catch(s){await Yo(s)}}function zE(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Rt(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,T)=>{for(const A of T.Sa)A.va(d)&&(p=!0)})),p&&dy(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bN(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ce(gt.comparator);c=c.insert(l,sn.newNoDocument(l,wt.min()));const d=Lt().add(l),m=new Yf(wt.min(),new Map,new ce(Ot),c,d);await _1(s,m),s.du=s.du.remove(l),s.Au.delete(t),py(s)}else await sg(s.localStore,t,!1).then((()=>og(s,t,n))).catch(Yo)}async function wN(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await OM(n.localStore,t);E1(n,s,null),T1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rc(n,a)}catch(a){await Yo(a)}}async function RN(e,t,n){const s=Rt(e);try{const a=await(function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((T=>(Ht(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);E1(s,t,n),T1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await rc(s,a)}catch(a){await Yo(a)}}function T1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function E1(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function og(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||A1(e,s)}))}function A1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(oy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),py(e))}function FE(e,t,n){for(const s of n)s instanceof g1?(e.Ru.addReference(s.key,t),CN(e,s)):s instanceof y1?(ft(my,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||A1(e,s.key)):Tt(19791,{wu:s})}function CN(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ft(my,"New document in limbo: "+n),e.Eu.add(s),py(e))}function py(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(ee.fromString(t)),s=e.fu.next();e.Au.set(s,new gN(n)),e.du=e.du.insert(n,s),o1(e.remoteStore,new nr(Si(Ff(n.path)),s,"TargetPurposeLimboResolution",jf.ce))}}async function rc(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=ry.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(p,(A=>nt.forEach(A.Es,(R=>y.persistence.referenceDelegate.addReference(T,A.targetId,R))).next((()=>nt.forEach(A.ds,(R=>y.persistence.referenceDelegate.removeReference(T,A.targetId,R)))))))))}catch(T){if(!$o(T))throw T;ft(ay,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const R=y.Ms.get(A),I=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(A,L)}}})(s.localStore,l))}async function xN(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ft(my,"User change. New user:",t.toKey());const s=await i1(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ct(tt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rc(n,s.Ls)}}function IN(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let a=Lt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function S1(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bN.bind(null,t),t.Pu.H_=fN.bind(null,t.eventManager),t.Pu.yu=dN.bind(null,t.eventManager),t}function DN(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,t),t}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$f(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return PM(this.persistence,new VM,t.initialUser,this.serializer)}Cu(t){return new n1(sy.mi,this.serializer)}Du(t){return new zM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class VN extends Af{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gM(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new n1((s=>Tf.mi(s,n)),this.serializer)}}class lg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xN.bind(null,this.syncEngine),await uN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hN})()}createDatastore(t){const n=$f(t.databaseInfo.databaseId),s=(function(l){return new KM(l)})(t.databaseInfo);return(function(l,c,d,m){return new XM(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new ZM(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>zE(this.syncEngine,n,0)),(function(){return OE.v()?new OE:new FM})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const T=new yN(a,l,c,d,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ft(ga,"RemoteStore shutting down."),s.Ea.add(5),await sc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class MN{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=Yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=fy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ep(e,t){e.asyncQueue.verifyOperationInProgress(),ft(mr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await i1(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await NN(e);ft(mr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>kE(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>kE(t.remoteStore,a))),e._onlineComponents=t}async function NN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(mr,"Using user provided OfflineComponentProvider");try{await Ep(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Ep(e,new Af)}}else ft(mr,"Using default OfflineComponentProvider"),await Ep(e,new VN(void 0));return e._offlineComponents}async function w1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(mr,"Using user provided OnlineComponentProvider"),await qE(e,e._uninitializedComponentsProvider._online)):(ft(mr,"Using default OnlineComponentProvider"),await qE(e,new lg))),e._onlineComponents}function PN(e){return w1(e).then((t=>t.syncEngine))}async function ug(e){const t=await w1(e),n=t.eventManager;return n.onListen=vN.bind(null,t.syncEngine),n.onUnlisten=EN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_N.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),n}function ON(e,t,n={}){const s=new or;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new b1({next:A=>{y.Nu(),c.enqueueAndForget((()=>m1(l,T)));const R=A.docs.has(d);!R&&A.fromCache?p.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&m&&m.source==="server"?p.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new p1(Ff(d.path),y,{includeMetadataChanges:!0,qa:!0});return d1(l,T)})(await ug(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firestore.googleapis.com",GE=!0;class KE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C1,this.ssl=GE}else this.host=t.host,this.ssl=t.ssl??GE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mM)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wf{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zD;switch(s.type){case"firstParty":return new GD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=HE.get(n);s&&(ft("ComponentProvider","Removing Datastore"),HE.delete(n),s.terminate())})(this),Promise.resolve()}}function LN(e,t,n,s={}){e=fs(e,Wf);const a=Ho(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(WS(`https://${d}`),ZS("Firestore",!0)),l.host!==C1&&l.host!==d&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!da(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=nn.MOCK_USER;else{p=mI(s.mockUserToken,e._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(T)}e._authCredentials=new FD(new fb(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Sa(this.firestore,t,this._query)}}class Te{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ec(n,Te._jsonSchema))return new Te(t,s||null,new gt(ee.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ie("string",Te._jsonSchemaVersion),referencePath:Ie("string")};class lr extends Sa{constructor(t,n,s){super(t,n,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new gt(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Fu(e,t,...n){if(e=fn(e),db("collection","path",t),e instanceof Wf){const s=ee.fromString(t,...n);return rE(s),new lr(e,null,s)}{if(!(e instanceof Te||e instanceof lr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return rE(s),new lr(e.firestore,null,s)}}function Wo(e,t,...n){if(e=fn(e),arguments.length===1&&(t=Yg.newId()),db("doc","path",t),e instanceof Wf){const s=ee.fromString(t,...n);return sE(s),new Te(e,null,new gt(s))}{if(!(e instanceof Te||e instanceof lr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return sE(s),new Te(e.firestore,e instanceof lr?e.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="AsyncQueue";class $E{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r1(this,"async_queue_retry"),this._c=()=>{const s=Tp();s&&ft(YE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!$o(t))throw t;ft(YE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",QE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=hy.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function QE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class jo extends Wf{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new $E,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $E(t),this._firestoreClient=void 0,await t}}}function kN(e,t){const n=typeof e=="object"?e:nb(),s=typeof e=="string"?e:pf,a=Gg(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=fI("firestore");l&&LN(a,...l)}return a}function gy(e){if(e._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||UN(e),e._firestoreClient}function UN(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new lV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,R1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new MN(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(We.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ec(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ie("string",qn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(ec(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ec(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ci(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=/^__.*__$/;class BN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,n,this.fieldTransforms):new nc(t,this.data,n,this.fieldTransforms)}}function x1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:e})}}class _y{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _y({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(x1(this.Ac)&&jN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||$f(t)}Cc(t,n,s,a=!1){return new _y({Ac:t,methodName:n,Dc:s,path:Xe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(e){const t=e._freezeSettings(),n=$f(e._databaseId);return new zN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function I1(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);M1("Data must be an object, but it was:",c,s);const d=D1(s,c);let m,p;if(l.merge)m=new Jn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const A=qN(t,T,n);if(!c.contains(A))throw new ct(tt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);GN(y,A)||y.push(A)}m=new Jn(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new BN(new Fn(d),m,p)}class Ey extends vy{_toFieldTransform(t){return new PV(t.path,new ju)}isEqual(t){return t instanceof Ey}}function FN(e,t,n,s=!1){return Ay(n,e.Cc(s?4:3,t))}function Ay(e,t){if(V1(e=fn(e)))return M1("Unsupported field value:",t,e),D1(e,t);if(e instanceof vy)return(function(s,a){if(!x1(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Ay(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ie.fromDate(s);return{timestampValue:_f(a.serializer,l)}}if(s instanceof ie){const l=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_f(a.serializer,l)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:$b(a.serializer,s._byteString)};if(s instanceof Te){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ny(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ci)return(function(c,d){return{mapValue:{fields:{[Ab]:{stringValue:Sb},[gf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Jg(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Uf(s)}`)})(e,t)}function D1(e,t){const n={};return gb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(e,((s,a)=>{const l=Ay(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function V1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof Ri||e instanceof qn||e instanceof Te||e instanceof vy||e instanceof Ci)}function M1(e,t,n){if(!V1(n)||!mb(n)){const s=Uf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function qN(e,t,n){if((t=fn(t))instanceof yy)return t._internalPath;if(typeof t=="string")return N1(e,t);throw Sf("Field path arguments must be of type string or ",e,!1,void 0,n)}const HN=new RegExp("[~\\*/\\[\\]]");function N1(e,t,n){if(t.search(HN)>=0)throw Sf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yy(...t.split("."))._internalPath}catch{throw Sf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ct(tt.INVALID_ARGUMENT,d+e+m)}function GN(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KN extends P1{data(){return super.data()}}function Sy(e,t){return typeof t=="string"?N1(e,t):t instanceof yy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class O1 extends by{}function $N(e,t,...n){let s=[];t instanceof by&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Ry)).length,d=l.filter((m=>m instanceof wy)).length;if(c>1||c>0&&d>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class wy extends O1{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new wy(t,n,s)}_apply(t){const n=this._parse(t);return L1(t._query,n),new Sa(t.firestore,t.converter,Zp(t._query,n))}_parse(t){const n=Ty(t.firestore);return(function(l,c,d,m,p,y,T){let A;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ZE(T,y);const I=[];for(const L of T)I.push(WE(m,l,L));A={arrayValue:{values:I}}}else A=WE(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ZE(T,y),A=FN(d,c,T,y==="in"||y==="not-in");return xe.create(p,y,A)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ry extends by{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ry(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)L1(c,m),c=Zp(c,m)})(t._query,n),new Sa(t.firestore,t.converter,Zp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends O1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Cy(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(l,c)})(t._query,this._field,this._direction);return new Sa(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Qo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function QN(e,t="asc"){const n=t,s=Sy("orderBy",e);return Cy._create(s,n)}function WE(e,t,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!gt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dE(e,new gt(s))}if(n instanceof Te)return dE(e,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(n)}.`)}function ZE(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function L1(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class XN{convertValue(t,n="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return _a(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[gf].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Ci(n)}convertGeoPoint(t){return new Ri(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=zf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ou(t));default:return null}}convertTimestamp(t){const n=cr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(t1(s),9688,{name:t});const a=new Lu(s.get(1),s.get(3)),l=new gt(s.popFirst(5));return a.isEqual(n)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class _u{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ua extends P1{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Sy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Ie("string",ua._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class ef extends ua{data(t={}){return super.data(t)}}class Co{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new _u(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ef(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new ef(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:WN(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Co._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e){e=fs(e,Te);const t=fs(e.firestore,jo);return ON(gy(t),e._key).then((n=>z1(t,e,n)))}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:Ie("string",Co._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class j1 extends XN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function xy(e,t,n){e=fs(e,Te);const s=fs(e.firestore,jo),a=k1(e.converter,t,n);return B1(s,[I1(Ty(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,bi.none())])}function ZN(e,t){const n=fs(e.firestore,jo),s=Wo(e),a=k1(e.converter,t);return B1(n,[I1(Ty(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then((()=>s))}function ac(e,...t){e=fn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||XE(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XE(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(e instanceof Te)c=fs(e.firestore,jo),d=Ff(e._key.path),l={next:m=>{t[s]&&t[s](z1(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=fs(e,Sa);c=fs(m.firestore,jo),d=m._query;const p=new j1(c);l={next:y=>{t[s]&&t[s](new Co(c,p,m,y))},error:t[s+1],complete:t[s+2]},YN(e._query)}return(function(p,y,T,A){const R=new b1(A),I=new p1(y,R,T);return p.asyncQueue.enqueueAndForget((async()=>d1(await ug(p),I))),()=>{R.Nu(),p.asyncQueue.enqueueAndForget((async()=>m1(await ug(p),I)))}})(gy(c),d,a,l)}function B1(e,t){return(function(s,a){const l=new or;return s.asyncQueue.enqueueAndForget((async()=>SN(await PN(s),a,l))),l.promise})(gy(e),t)}function z1(e,t,n){const s=n.docs.get(t._key),a=new j1(e);return new ua(e,a,t._key,s,new _u(n.hasPendingWrites,n.fromCache),t.converter)}function JN(){return new Ey("serverTimestamp")}(function(t,n=!0){(function(a){Ko=a})(Go),Mo(new ma("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new jo(new qD(s.getProvider("auth-internal")),new KD(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),rr(tE,eE,t),rr(tE,eE,"esm2020")})();var tP="firebase",eP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(tP,eP,"app");function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nP=F1,q1=new Ju("auth","Firebase",F1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new qg("@firebase/auth");function iP(e,...t){bf.logLevel<=Pt.WARN&&bf.warn(`Auth (${Go}): ${e}`,...t)}function nf(e,...t){bf.logLevel<=Pt.ERROR&&bf.error(`Auth (${Go}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e,...t){throw Dy(e,...t)}function ei(e,...t){return Dy(e,...t)}function Iy(e,t,n){const s={...nP(),[t]:n};return new Ju("auth","Firebase",s).create(t,{appName:e.name})}function ca(e){return Iy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ni(e,"argument-error"),Iy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return q1.create(e,...t)}function St(e,t,...n){if(!e)throw Dy(t,...n)}function us(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nf(t),new Error(t)}function ys(e,t){e||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){return typeof self<"u"&&self.location?.href||""}function rP(){return JE()==="http:"||JE()==="https:"}function JE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rP()||TI()||"connection"in navigator)?navigator.onLine:!0}function oP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ys(n>t,"Short delay should be less than long delay!"),this.isMobile=yI()||EI()}get(){return aP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){ys(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cP=new oc(3e4,6e4);function My(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Zo(e,t,n,s,a={}){return G1(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=tc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return _I()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(p.credentials="include"),H1.fetch()(await K1(e,e.config.apiHost,n,d),p)})}async function G1(e,t,n){e._canInitEmulator=!1;const s={...lP,...t};try{const a=new fP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Hh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Hh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Iy(e,y,p);Ni(e,y)}}catch(a){if(a instanceof Ts)throw a;Ni(e,"network-request-failed",{message:String(a)})}}async function hP(e,t,n,s,a={}){const l=await Zo(e,t,n,s,a);return"mfaPendingCredential"in l&&Ni(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function K1(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Vy(e.config,a):`${e.config.apiScheme}://${a}`;return uP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class fP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),cP.get())})}}function Hh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ei(e,t,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(e,t){return Zo(e,"POST","/v1/accounts:delete",t)}async function wf(e,t){return Zo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mP(e,t=!1){const n=fn(e),s=await n.getIdToken(t),a=Ny(s);St(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Ru(Ap(a.auth_time)),issuedAtTime:Ru(Ap(a.iat)),expirationTime:Ru(Ap(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ap(e){return Number(e)*1e3}function Ny(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const a=YS(n);return a?JSON.parse(a):(nf("Failed to decode base64 JWT payload"),null)}catch(a){return nf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function tA(e){const t=Ny(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ts&&pP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function pP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(e){const t=e.auth,n=await e.getIdToken(),s=await qu(e,wf(t,{idToken:n}));St(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?Y1(a.providerUserInfo):[],c=vP(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function yP(e){const t=fn(e);await Rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vP(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Y1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(e,t){const n=await G1(e,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await K1(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(m.credentials="include"),H1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TP(e,t){return Zo(e,"POST","/v2/accounts:revokeToken",My(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=tA(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await _P(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new xo;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(St(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new gP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await qu(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return mP(this,t)}reload(){return yP(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ca(this.auth));const t=await this.getIdToken();return await qu(this,dP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:R,providerData:I,stsTokenManager:L}=n;St(T&&L,t,"internal-error");const N=xo.fromJSON(this.name,L);St(typeof T=="string",t,"internal-error"),Xs(s,t.name),Xs(a,t.name),St(typeof A=="boolean",t,"internal-error"),St(typeof R=="boolean",t,"internal-error"),Xs(l,t.name),Xs(c,t.name),Xs(d,t.name),Xs(m,t.name),Xs(p,t.name),Xs(y,t.name);const F=new ti({uid:T,auth:t,email:a,emailVerified:A,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:y});return I&&Array.isArray(I)&&(F.providerData=I.map(q=>({...q}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new xo;a.updateFromServerResponse(n);const l=new ti({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Rf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Y1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new xo;d.updateFromIdToken(s);const m=new ti({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Map;function cs(e){ys(e instanceof Function,"Expected a class definition");let t=eA.get(e);return t?(ys(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$1.type="NONE";const nA=$1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e,t,n){return`firebase:${e}:${t}:${n}`}class Io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await wf(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Io(cs(nA),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||cs(nA);const c=sf(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const A=await wf(t,{idToken:y}).catch(()=>{});if(!A)break;T=await ti._fromGetAccountInfoResponse(t,A,y)}else T=ti._fromJSON(t,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Io(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Io(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Q1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tw(t))return"Blackberry";if(ew(t))return"Webos";if(X1(t))return"Safari";if((t.includes("chrome/")||W1(t))&&!t.includes("edge/"))return"Chrome";if(J1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function Q1(e=an()){return/firefox\//i.test(e)}function X1(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function W1(e=an()){return/crios\//i.test(e)}function Z1(e=an()){return/iemobile/i.test(e)}function J1(e=an()){return/android/i.test(e)}function tw(e=an()){return/blackberry/i.test(e)}function ew(e=an()){return/webos/i.test(e)}function Py(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function EP(e=an()){return Py(e)&&!!window.navigator?.standalone}function AP(){return AI()&&document.documentMode===10}function nw(e=an()){return Py(e)||J1(e)||ew(e)||tw(e)||/windows phone/i.test(e)||Z1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e,t=[]){let n;switch(e){case"Browser":n=iA(an());break;case"Worker":n=`${iA(an())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(e,t={}){return Zo(e,"GET","/v2/passwordPolicy",My(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=6;class RP{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sA(this),this.idTokenSubscription=new sA(this),this.beforeStateQueue=new SP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wf(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(ca(this));const n=t?fn(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bP(this),n=new RP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ju("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await TP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cs(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zf(e){return fn(e)}class sA{constructor(t){this.auth=t,this.observer=null,this.addObserver=DI(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xP(e){Oy=e}function IP(e){return Oy.loadJS(e)}function DP(){return Oy.gapiScript}function VP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(e,t){const n=Gg(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(da(l,t??{}))return a;Ni(a,"already-initialized")}return n.initialize({options:t})}function NP(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function PP(e,t,n){const s=Zf(e);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=sw(t),{host:c,port:d}=OP(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(da(p,s.config.emulator)&&da(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ho(c)?(WS(`${l}//${c}${m}`),ZS("Auth",!0)):LP()}function sw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function OP(e){const t=sw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:rA(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:rA(c)}}}function rA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function LP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,n){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(e,t){return hP(e,"POST","/v1/accounts:signInWithIdp",My(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="http://localhost";class ya extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new ya(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Do(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Do(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Do(t,n)}buildRequest(){const t={requestUri:kP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Ly{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends lc{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends lc{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends lc{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return er.credential(n,s)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ti._fromIdTokenResponse(t,s,a),c=aA(s);return new Bo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=aA(s);return new Bo({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function aA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends Ts{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Cf(t,n,s,a)}}function aw(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(e,l,t,s):l})}async function UP(e,t,n=!1){const s=await qu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Bo._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(e,t,n=!1){const{auth:s}=e;if(Zn(s.app))return Promise.reject(ca(s));const a="reauthenticate";try{const l=await qu(e,aw(s,a,t,e),n);St(l.idToken,s,"internal-error");const c=Ny(l.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(e.uid===d,s,"user-mismatch"),Bo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ni(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(e,t,n=!1){if(Zn(e.app))return Promise.reject(ca(e));const s="signIn",a=await aw(e,s,t),l=await Bo._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function zP(e,t,n,s){return fn(e).onIdTokenChanged(t,n,s)}function FP(e,t,n){return fn(e).beforeAuthStateChanged(t,n)}function qP(e,t,n,s){return fn(e).onAuthStateChanged(t,n,s)}function HP(e){return fn(e).signOut()}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1e3,KP=10;class lw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);AP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,KP):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}lw.type="LOCAL";const YP=lw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uw.type="SESSION";const cw=uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Jf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await $P(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=ky("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function XP(e){xi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function WP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZP(){return navigator?.serviceWorker?.controller||null}function JP(){return hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebaseLocalStorageDb",tO=1,If="firebaseLocalStorage",dw="fbase_key";class uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(e,t){return e.transaction([If],t?"readwrite":"readonly").objectStore(If)}function eO(){const e=indexedDB.deleteDatabase(fw);return new uc(e).toPromise()}function fg(){const e=indexedDB.open(fw,tO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(If,{keyPath:dw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(If)?t(s):(s.close(),await eO(),t(await fg()))})})}async function oA(e,t,n){const s=td(e,!0).put({[dw]:t,value:n});return new uc(s).toPromise()}async function nO(e,t){const n=td(e,!1).get(t),s=await new uc(n).toPromise();return s===void 0?null:s.value}function lA(e,t){const n=td(e,!0).delete(t);return new uc(n).toPromise()}const iO=800,sO=3;class mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>sO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(JP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WP(),!this.activeServiceWorker)return;this.sender=new QP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fg();return await oA(t,xf,"1"),await lA(t,xf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oA(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>nO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=td(a,!1).getAll();return new uc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mw.type="LOCAL";const rO=mw;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(e,t){return t?cs(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends rw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Do(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Do(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Do(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aO(e){return BP(e.auth,new Uy(e),e.bypassAuthState)}function oO(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),jP(n,new Uy(e),e.bypassAuthState)}async function lO(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),UP(n,new Uy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aO;case"linkViaPopup":case"linkViaRedirect":return lO;case"reauthViaPopup":case"reauthViaRedirect":return oO;default:Ni(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new oc(2e3,1e4);async function cO(e,t,n){if(Zn(e.app))return Promise.reject(ei(e,"operation-not-supported-in-this-environment"));const s=Zf(e);sP(e,t,Ly);const a=pw(s,n);return new aa(s,"signInViaPopup",t,a).executeNotNull()}class aa extends gw{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uO.get())};t()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="pendingRedirect",rf=new Map;class fO extends gw{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=rf.get(this.auth._key());if(!t){try{const s=await dO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}rf.set(this.auth._key(),t)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dO(e,t){const n=gO(t),s=pO(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function mO(e,t){rf.set(e._key(),t)}function pO(e){return cs(e._redirectPersistence)}function gO(e){return sf(hO,e.config.apiKey,e.name)}async function yO(e,t,n=!1){if(Zn(e.app))return Promise.reject(ca(e));const s=Zf(e),a=pw(s,t),c=await new fO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=600*1e3;class _O{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!yw(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ei(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vO&&this.cachedEventUids.clear(),this.cachedEventUids.has(uA(t))}saveEventToCache(t){this.cachedEventUids.add(uA(t)),this.lastProcessedEventTime=Date.now()}}function uA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function yw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function TO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(e,t={}){return Zo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^https?/;async function bO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await EO(e);for(const n of t)try{if(wO(n))return}catch{}Ni(e,"unauthorized-domain")}function wO(e){const t=cg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!SO.test(n))return!1;if(AO.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new oc(3e4,6e4);function cA(){const e=xi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function CO(e){return new Promise((t,n)=>{function s(){cA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cA(),n(ei(e,"network-request-failed"))},timeout:RO.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)s();else{const a=VP("iframefcb");return xi()[a]=()=>{gapi.load?s():n(ei(e,"network-request-failed"))},IP(`${DP()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw af=null,t})}let af=null;function xO(e){return af=af||CO(e),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new oc(5e3,15e3),DO="__/auth/iframe",VO="emulator/auth/iframe",MO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PO(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Vy(t,VO):`https://${e.config.authDomain}/${DO}`,s={apiKey:t.apiKey,appName:e.name,v:Go},a=NO.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${tc(s).slice(1)}`}async function OO(e){const t=await xO(e),n=xi().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:PO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ei(e,"network-request-failed"),d=xi().setTimeout(()=>{l(c)},IO.get());function m(){xi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kO=500,UO=600,jO="_blank",BO="http://localhost";class hA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zO(e,t,n,s=kO,a=UO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...LO,width:s.toString(),height:a.toString(),top:l,left:c},p=an().toLowerCase();n&&(d=W1(p)?jO:n),Q1(p)&&(t=t||BO,m.scrollbars="yes");const y=Object.entries(m).reduce((A,[R,I])=>`${A}${R}=${I},`,"");if(EP(p)&&d!=="_self")return FO(t||"",d),new hA(null);const T=window.open(t||"",d,y);St(T,e,"popup-blocked");try{T.focus()}catch{}return new hA(T)}function FO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="__/auth/handler",HO="emulator/auth/handler",GO=encodeURIComponent("fac");async function fA(e,t,n,s,a,l){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Go,eventId:a};if(t instanceof Ly){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",II(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof lc){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${GO}=${encodeURIComponent(m)}`:"";return`${KO(e)}?${tc(d).slice(1)}${p}`}function KO({config:e}){return e.emulator?Vy(e,HO):`https://${e.authDomain}/${qO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class YO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cw,this._completeRedirectFn=yO,this._overrideRedirectResult=mO}async _openPopup(t,n,s,a){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await fA(t,n,s,cg(),a);return zO(t,l,ky())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await fA(t,n,s,cg(),a);return XP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ys(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await OO(t),s=new _O(t);return n.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sp,{type:Sp},a=>{const l=a?.[0]?.[Sp];l!==void 0&&n(!!l),Ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nw()||X1()||Py()}}const $O=YO;var dA="@firebase/auth",mA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WO(e){Mo(new ma("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(e)},p=new CP(s,a,l,m);return NP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Mo(new ma("auth-internal",t=>{const n=Zf(t.getProvider("auth").getImmediate());return(s=>new QO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(dA,mA,XO(e)),rr(dA,mA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=300,JO=XS("authIdTokenMaxAge")||ZO;let pA=null;const t4=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JO)return;const a=n?.token;pA!==a&&(pA=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function e4(e=nb()){const t=Gg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=MP(e,{popupRedirectResolver:$O,persistence:[rO,YP,cw]}),s=XS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=t4(l.toString());FP(n,c,()=>c(n.currentUser)),zP(n,d=>c(d))}}const a=$S("auth");return a&&PP(n,`http://${a}`),n}function n4(){return document.getElementsByTagName("head")?.[0]??document}xP({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=ei("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",n4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WO("Browser");const i4={apiKey:"AIzaSyBvROuv4CkJyfUby87owjFAmYvpyf8UU_c",authDomain:"test-3054c.firebaseapp.com",projectId:"test-3054c",storageBucket:"test-3054c.firebasestorage.app",messagingSenderId:"536496457232",appId:"1:536496457232:web:ad63fed147ce0f53f92c95",measurementId:"G-ZHT05S70E5"},vw=eb(i4),Pi=kN(vw),dg=e4(vw),s4=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(!0);U.useEffect(()=>{const c=Fu(Pi,"exams"),d=ac(c,m=>{const p=m.docs.map(y=>({id:y.id,...y.data()}));t(p),s(!1)},m=>{console.error("Error fetching exams:",m),s(!1)});return()=>d()},[]);const a=()=>B.jsx("div",{className:"skeleton-card",children:B.jsxs("div",{className:"space-y-3",children:[B.jsx("div",{className:"skeleton-line w-3/4 mx-auto"}),B.jsx("div",{className:"skeleton-line w-1/2 mx-auto"})]})}),l=({exam:c})=>{const d=c.questions.reduce((m,p)=>m+(p.points||1),0);return B.jsx(Fg,{to:`/exam/${c.id}`,className:"bg-white p-6 md:p-8 rounded-xl shadow-lg cursor-pointer flex flex-col justify-between no-underline",children:B.jsxs("div",{children:[B.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:c.name||`امتحان ${c.id}`}),B.jsxs("p",{className:"text-center text-gray-500 mt-4 text-base md:text-lg",children:[c.questions.length," أسئلة"]}),B.jsxs("p",{className:"text-center text-blue-600 font-bold mt-2 text-base md:text-lg",children:["إجمالي النقاط: ",d]})]})})};return B.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[B.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-800 my-8",children:"الامتحانات المتاحة"}),B.jsx("div",{id:"exams-list",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n?B.jsxs(B.Fragment,{children:[B.jsx(a,{}),B.jsx(a,{}),B.jsx(a,{})]}):e.length===0?B.jsx("p",{className:"col-span-full text-center text-gray-500",children:"لا توجد امتحانات متاحة حالياً."}):e.map(c=>B.jsx(l,{exam:c},c.id))})]})},r4=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(!0);return U.useEffect(()=>{const a=Fu(Pi,"subjects"),l=ac(a,c=>{const d=c.docs.map(m=>m.data());t(d),s(!1)},c=>{console.error("Error fetching subjects:",c),s(!1)});return()=>l()},[]),{subjects:e,loading:n}},a4=()=>{const{subjects:e,loading:t}=r4();return t?B.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[B.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-blue-600 my-8",children:"التقييمات الاسبوعية محلولة"}),B.jsx("div",{className:"spinner"})]}):B.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[B.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-blue-600 my-8",children:"التقييمات الاسبوعية محلولة"}),B.jsx("div",{id:"subjects-container",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length===0?B.jsx("p",{className:"col-span-full text-center text-gray-600",children:"لا توجد مواد متاحة."}):e.map((n,s)=>B.jsxs("a",{href:n.link||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center justify-center space-y-4 cursor-pointer no-underline",children:[B.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:n.name}),B.jsxs("div",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 space-x-reverse",children:[B.jsx("i",{className:"fas fa-download"}),B.jsx("span",{children:"تنزيل"})]})]},s))})]})},o4="dKDZuuhTk0MccXsgAUK42i5XPJJ2",Jo=()=>{const[e,t]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>{const a=qP(dg,async l=>{if(l){const c=Wo(Pi,"users",l.uid);if(!(await U1(c)).exists()){const m=l.uid===o4,p={canAccessSite:!0,canViewDashboard:m,canEditProducts:m,canManageUsers:m,canViewOrders:m};try{await xy(c,{email:l.email,displayName:l.displayName,photoURL:l.photoURL,permissions:p,points:0,createdAt:new Date})}catch(y){console.error("Error creating user document:",y)}}}t(l),s(!1)});return()=>a()},[]),{user:e,loading:n}},l4=()=>{const{user:e}=Jo(),[t,n]=U.useState(0),[s,a]=U.useState(!0);return U.useEffect(()=>{if(e){const l=Wo(Pi,"users",e.uid),c=ac(l,d=>{d.exists()?n(d.data().points||0):n(0),a(!1)},d=>{console.error("Error fetching user points:",d),a(!1)});return()=>c()}else n(0),a(!1)},[e]),{points:t,loading:s}},u4=({isOpen:e,onClose:t,product:n,onSubmit:s})=>{const[a,l]=U.useState("whatsapp"),[c,d]=U.useState("");if(!e)return null;const m=p=>{if(p.preventDefault(),!c){alert("يرجى إدخال رقم الهاتف");return}s({contactMethod:a,phoneNumber:c})};return B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:B.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md mx-4",children:[B.jsxs("h2",{className:"text-2xl font-bold mb-4 text-right",children:["شراء ",n.name]}),B.jsxs("p",{className:"mb-6 text-right",children:["سعر المنتج: ",n.price," نقاط"]}),B.jsxs("form",{onSubmit:m,children:[B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block text-right mb-2 font-bold",children:"طريقة التواصل"}),B.jsxs("div",{className:"flex justify-end gap-4",children:[B.jsxs("label",{className:"flex items-center gap-2",children:[B.jsx("span",{children:"Telegram"}),B.jsx("input",{type:"radio",name:"contactMethod",value:"telegram",checked:a==="telegram",onChange:p=>l(p.target.value),className:"form-radio"})]}),B.jsxs("label",{className:"flex items-center gap-2",children:[B.jsx("span",{children:"WhatsApp"}),B.jsx("input",{type:"radio",name:"contactMethod",value:"whatsapp",checked:a==="whatsapp",onChange:p=>l(p.target.value),className:"form-radio"})]})]})]}),B.jsxs("div",{className:"mb-6",children:[B.jsx("label",{htmlFor:"phoneNumber",className:"block text-right mb-2 font-bold",children:"رقم الهاتف"}),B.jsx("input",{type:"tel",id:"phoneNumber",value:c,onChange:p=>d(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg text-right",placeholder:"مثال: 966512345678+",required:!0})]}),B.jsxs("div",{className:"flex justify-end gap-4",children:[B.jsx("button",{type:"button",onClick:t,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:"إلغاء"}),B.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"إرسال الطلب"})]})]})]})})},c4=()=>{const{user:e}=Jo(),{points:t,loading:n}=l4(),[s,a]=U.useState([]),[l,c]=U.useState(!0),[d,m]=U.useState(!1),[p,y]=U.useState(null);U.useEffect(()=>{const L=Fu(Pi,"products"),N=ac(L,F=>{const q=F.docs.map($=>({id:$.id,...$.data()}));a(q),c(!1)},F=>{console.error("Error fetching products:",F),c(!1)});return()=>N()},[]);const T=L=>{t<L.price?alert("ليس لديك نقاط كافية"):(y(L),m(!0))},A=()=>{m(!1),y(null)},R=async L=>{if(!(!e||!p))try{await ZN(Fu(Pi,"orders"),{userId:e.uid,userEmail:e.email,productId:p.id,productName:p.name,productPrice:p.price,contactMethod:L.contactMethod,phoneNumber:L.phoneNumber,status:"pending",createdAt:JN()}),alert("تم إرسال طلبك بنجاح!")}catch(N){console.error("Error creating order:",N),alert("حدث خطأ أثناء إرسال طلبك.")}finally{A()}};return n||l?B.jsx("div",{className:"container mx-auto p-4 flex-grow flex justify-center items-center",children:B.jsx("div",{className:"spinner"})}):B.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[B.jsxs("div",{className:"fixed top-20 right-4 bg-blue-500 text-white p-3 rounded-full shadow-lg flex items-center",children:[B.jsx("span",{className:"text-xl font-bold",children:t}),B.jsx("span",{className:"mr-2 text-sm",children:"نقاط"})]}),B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-10",children:s.map(L=>B.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 cursor-pointer transform hover:scale-105 transition-transform",onClick:()=>T(L),children:[B.jsx("h3",{className:"text-xl font-bold mb-2",children:L.name}),B.jsxs("p",{className:"text-gray-700 text-lg",children:[L.price," نقطة"]})]},L.id))}),p&&B.jsx(u4,{isOpen:d,onClose:A,product:p,onSubmit:R})]})},_w=U.createContext({});function h4(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const jy=typeof window<"u",f4=jy?U.useLayoutEffect:U.useEffect,By=U.createContext(null);function zy(e,t){e.indexOf(t)===-1&&e.push(t)}function Fy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vs=(e,t,n)=>n>t?t:n<e?e:n;let qy=()=>{};const _s={},Tw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ew(e){return typeof e=="object"&&e!==null}const Aw=e=>/^0[^.\s]+$/u.test(e);function Hy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hn=e=>e,d4=(e,t)=>n=>t(e(n)),cc=(...e)=>e.reduce(d4),Hu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Gy{constructor(){this.subscriptions=[]}add(t){return zy(this.subscriptions,t),()=>Fy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ii=e=>e*1e3,Di=e=>e/1e3;function Sw(e,t){return t?e*(1e3/t):0}const bw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,m4=1e-7,p4=12;function g4(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=bw(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>m4&&++d<p4);return c}function hc(e,t,n,s){if(e===t&&n===s)return Hn;const a=l=>g4(l,0,1,e,n);return l=>l===0||l===1?l:bw(a(l),t,s)}const ww=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rw=e=>t=>1-e(1-t),Cw=hc(.33,1.53,.69,.99),Ky=Rw(Cw),xw=ww(Ky),Iw=e=>(e*=2)<1?.5*Ky(e):.5*(2-Math.pow(2,-10*(e-1))),Yy=e=>1-Math.sin(Math.acos(e)),Dw=Rw(Yy),Vw=ww(Yy),y4=hc(.42,0,1,1),v4=hc(0,0,.58,1),Mw=hc(.42,0,.58,1),_4=e=>Array.isArray(e)&&typeof e[0]!="number",Nw=e=>Array.isArray(e)&&typeof e[0]=="number",T4={linear:Hn,easeIn:y4,easeInOut:Mw,easeOut:v4,circIn:Yy,circInOut:Vw,circOut:Dw,backIn:Ky,backInOut:xw,backOut:Cw,anticipate:Iw},E4=e=>typeof e=="string",gA=e=>{if(Nw(e)){qy(e.length===4);const[t,n,s,a]=e;return hc(t,n,s,a)}else if(E4(e))return T4[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function A4(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,T=!1,A=!1)=>{const I=A&&a?n:s;return T&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const S4=40;function Pw(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Gh.reduce(($,lt)=>($[lt]=A4(l),$),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:A,render:R,postRender:I}=c,L=()=>{const $=_s.useManualTiming?a.timestamp:performance.now();n=!1,_s.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,S4),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),A.process(a),R.process(a),I.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(L))},N=()=>{n=!0,s=!0,a.isProcessing||e(L)};return{schedule:Gh.reduce(($,lt)=>{const it=c[lt];return $[lt]=(dt,V=!1,w=!1)=>(n||N(),it.schedule(dt,V,w)),$},{}),cancel:$=>{for(let lt=0;lt<Gh.length;lt++)c[Gh[lt]].cancel($)},state:a,steps:c}}const{schedule:ae,cancel:pr,state:$e,steps:bp}=Pw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let of;function b4(){of=void 0}const yn={now:()=>(of===void 0&&yn.set($e.isProcessing||_s.useManualTiming?$e.timestamp:performance.now()),of),set:e=>{of=e,queueMicrotask(b4)}},Ow=e=>t=>typeof t=="string"&&t.startsWith(e),$y=Ow("--"),w4=Ow("var(--"),Qy=e=>w4(e)?R4.test(e.split("/*")[0].trim()):!1,R4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gu={...tl,transform:e=>vs(0,1,e)},Kh={...tl,default:1},Cu=e=>Math.round(e*1e5)/1e5,Xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C4(e){return e==null}const x4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wy=(e,t)=>n=>!!(typeof n=="string"&&x4.test(n)&&n.startsWith(e)||t&&!C4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Lw=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Xy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},I4=e=>vs(0,255,e),wp={...tl,transform:e=>Math.round(I4(e))},oa={test:Wy("rgb","red"),parse:Lw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+wp.transform(e)+", "+wp.transform(t)+", "+wp.transform(n)+", "+Cu(Gu.transform(s))+")"};function D4(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const mg={test:Wy("#"),parse:D4,transform:oa.transform},fc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zs=fc("deg"),Vi=fc("%"),At=fc("px"),V4=fc("vh"),M4=fc("vw"),yA={...Vi,parse:e=>Vi.parse(e)/100,transform:e=>Vi.transform(e*100)},Eo={test:Wy("hsl","hue"),parse:Lw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Vi.transform(Cu(t))+", "+Vi.transform(Cu(n))+", "+Cu(Gu.transform(s))+")"},Ce={test:e=>oa.test(e)||mg.test(e)||Eo.test(e),parse:e=>oa.test(e)?oa.parse(e):Eo.test(e)?Eo.parse(e):mg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oa.transform(e):Eo.transform(e),getAnimatableNone:e=>{const t=Ce.parse(e);return t.alpha=0,Ce.transform(t)}},N4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Xy)?.length||0)+(e.match(N4)?.length||0)>0}const kw="number",Uw="color",O4="var",L4="var(",vA="${}",k4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ku(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(k4,m=>(Ce.test(m)?(s.color.push(l),a.push(Uw),n.push(Ce.parse(m))):m.startsWith(L4)?(s.var.push(l),a.push(O4),n.push(m)):(s.number.push(l),a.push(kw),n.push(parseFloat(m))),++l,vA)).split(vA);return{values:n,split:d,indexes:s,types:a}}function jw(e){return Ku(e).values}function Bw(e){const{split:t,types:n}=Ku(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===kw?l+=Cu(a[c]):d===Uw?l+=Ce.transform(a[c]):l+=a[c]}return l}}const U4=e=>typeof e=="number"?0:Ce.test(e)?Ce.getAnimatableNone(e):e;function j4(e){const t=jw(e);return Bw(e)(t.map(U4))}const gr={test:P4,parse:jw,createTransformer:Bw,getAnimatableNone:j4};function Rp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function B4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Rp(m,d,e+1/3),l=Rp(m,d,e),c=Rp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Df(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,Cp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},z4=[mg,oa,Eo],F4=e=>z4.find(t=>t.test(e));function _A(e){const t=F4(e);if(!t)return!1;let n=t.parse(e);return t===Eo&&(n=B4(n)),n}const TA=(e,t)=>{const n=_A(e),s=_A(t);if(!n||!s)return Df(e,t);const a={...n};return l=>(a.red=Cp(n.red,s.red,l),a.green=Cp(n.green,s.green,l),a.blue=Cp(n.blue,s.blue,l),a.alpha=le(n.alpha,s.alpha,l),oa.transform(a))},pg=new Set(["none","hidden"]);function q4(e,t){return pg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function H4(e,t){return n=>le(e,t,n)}function Zy(e){return typeof e=="number"?H4:typeof e=="string"?Qy(e)?Df:Ce.test(e)?TA:Y4:Array.isArray(e)?zw:typeof e=="object"?Ce.test(e)?TA:G4:Df}function zw(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Zy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function G4(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Zy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function K4(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const Y4=(e,t)=>{const n=gr.createTransformer(t),s=Ku(e),a=Ku(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?pg.has(e)&&!a.values.length||pg.has(t)&&!s.values.length?q4(e,t):cc(zw(K4(s,a),a.values),n):Df(e,t)};function Fw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):Zy(e)(e,t)}const $4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>pr(t),now:()=>$e.isProcessing?$e.timestamp:yn.now()}},qw=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Vf=2e4;function Jy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Vf;)t+=n,s=e.next(t);return t>=Vf?1/0:t}function Q4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Jy(s),Vf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Di(a)}}const X4=5;function Hw(e,t,n){const s=Math.max(t-X4,0);return Sw(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xp=.001;function W4({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=vs(me.minDamping,me.maxDamping,c),e=vs(me.minDuration,me.maxDuration,Di(e)),c<1?(a=p=>{const y=p*c,T=y*e,A=y-n,R=gg(p,c),I=Math.exp(-T);return xp-A/R*I},l=p=>{const T=p*c*e,A=T*n+n,R=Math.pow(c,2)*Math.pow(p,2)*e,I=Math.exp(-T),L=gg(Math.pow(p,2),c);return(-a(p)+xp>0?-1:1)*((A-R)*I)/L}):(a=p=>{const y=Math.exp(-p*e),T=(p-n)*e+1;return-xp+y*T},l=p=>{const y=Math.exp(-p*e),T=(n-p)*(e*e);return y*T});const d=5/e,m=J4(a,l,d);if(e=Ii(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const Z4=12;function J4(e,t,n){let s=n;for(let a=1;a<Z4;a++)s=s-e(s)/t(s);return s}function gg(e,t){return e*Math.sqrt(1-t*t)}const tL=["duration","bounce"],eL=["stiffness","damping","mass"];function EA(e,t){return t.some(n=>e[n]!==void 0)}function nL(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!EA(e,eL)&&EA(e,tL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*vs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=W4(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Mf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:A,isResolvedFromDuration:R}=nL({...n,velocity:-Di(n.velocity||0)}),I=A||0,L=p/(2*Math.sqrt(m*y)),N=c-l,F=Di(Math.sqrt(m/y)),q=Math.abs(N)<5;s||(s=q?me.restSpeed.granular:me.restSpeed.default),a||(a=q?me.restDelta.granular:me.restDelta.default);let $;if(L<1){const it=gg(F,L);$=dt=>{const V=Math.exp(-L*F*dt);return c-V*((I+L*F*N)/it*Math.sin(it*dt)+N*Math.cos(it*dt))}}else if(L===1)$=it=>c-Math.exp(-F*it)*(N+(I+F*N)*it);else{const it=F*Math.sqrt(L*L-1);$=dt=>{const V=Math.exp(-L*F*dt),w=Math.min(it*dt,300);return c-V*((I+L*F*N)*Math.sinh(w)+it*N*Math.cosh(w))/it}}const lt={calculatedDuration:R&&T||null,next:it=>{const dt=$(it);if(R)d.done=it>=T;else{let V=it===0?I:0;L<1&&(V=it===0?Ii(I):Hw($,it,dt));const w=Math.abs(V)<=s,C=Math.abs(c-dt)<=a;d.done=w&&C}return d.value=d.done?c:dt,d},toString:()=>{const it=Math.min(Jy(lt),Vf),dt=qw(V=>lt.next(it*V).value,it,30);return it+"ms "+dt},toTransition:()=>{}};return lt}Mf.applyToOptions=e=>{const t=Q4(e,100,Mf);return e.ease=t.ease,e.duration=Ii(t.duration),e.type="keyframes",e};function yg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=e[0],A={done:!1,value:T},R=w=>d!==void 0&&w<d||m!==void 0&&w>m,I=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let L=n*t;const N=T+L,F=c===void 0?N:c(N);F!==N&&(L=F-T);const q=w=>-L*Math.exp(-w/s),$=w=>F+q(w),lt=w=>{const C=q(w),P=$(w);A.done=Math.abs(C)<=p,A.value=A.done?F:P};let it,dt;const V=w=>{R(A.value)&&(it=w,dt=Mf({keyframes:[A.value,I(A.value)],velocity:Hw($,w,A.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:w=>{let C=!1;return!dt&&it===void 0&&(C=!0,lt(w),V(w)),it!==void 0&&w>=it?dt.next(w-it):(!C&&lt(w),A)}}}function iL(e,t,n){const s=[],a=n||_s.mix||Fw,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Hn:t;d=cc(m,d)}s.push(d)}return s}function sL(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(qy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=iL(t,s,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const A=Hu(e[T],e[T+1],y);return d[T](A)};return n?y=>p(vs(e[0],e[l-1],y)):p}function rL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Hu(0,t,s);e.push(le(n,1,a))}}function aL(e){const t=[0];return rL(t,e.length-1),t}function oL(e,t){return e.map(n=>n*t)}function lL(e,t){return e.map(()=>t||Mw).splice(0,e.length-1)}function xu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=_4(s)?s.map(gA):gA(s),l={done:!1,value:t[0]},c=oL(n&&n.length===t.length?n:aL(t),e),d=sL(c,t,{ease:Array.isArray(a)?a:lL(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const uL=e=>e!==null;function tv(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(uL),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const cL={decay:yg,inertia:yg,tween:xu,keyframes:xu,spring:Mf};function Gw(e){typeof e.type=="string"&&(e.type=cL[e.type])}class ev{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hL=e=>e/100;class nv extends ev{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Gw(t);const{type:n=xu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||xu;m!==xu&&typeof d[0]!="number"&&(this.mixKeyframes=cc(hL,Fw(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Jy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:A,repeatDelay:R,type:I,onUpdate:L,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,lt=s;if(T){const w=Math.min(this.currentTime,a)/d;let C=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(A==="reverse"?(P=1-P,R&&(P-=R/d)):A==="mirror"&&(lt=c)),$=vs(0,1,P)*d}const it=q?{done:!1,value:y[0]}:lt.next($);l&&(it.value=l(it.value));let{done:dt}=it;!q&&m!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return V&&I!==yg&&(it.value=tv(y,this.options,N,this.speed)),L&&L(it.value),V&&this.finish(),it}then(t,n){return this.finished.then(t,n)}get duration(){return Di(this.calculatedDuration)}get time(){return Di(this.currentTime)}set time(t){t=Ii(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Di(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$4,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function fL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const la=e=>e*180/Math.PI,vg=e=>{const t=la(Math.atan2(e[1],e[0]));return _g(t)},dL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vg,rotateZ:vg,skewX:e=>la(Math.atan(e[1])),skewY:e=>la(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_g=e=>(e=e%360,e<0&&(e+=360),e),AA=vg,SA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SA,scaleY:bA,scale:e=>(SA(e)+bA(e))/2,rotateX:e=>_g(la(Math.atan2(e[6],e[5]))),rotateY:e=>_g(la(Math.atan2(-e[2],e[0]))),rotateZ:AA,rotate:AA,skewX:e=>la(Math.atan(e[4])),skewY:e=>la(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Tg(e){return e.includes("scale")?1:0}function Eg(e,t){if(!e||e==="none")return Tg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=mL,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=dL,a=d}if(!a)return Tg(t);const l=s[t],c=a[1].split(",").map(gL);return typeof l=="function"?l(c):c[l]}const pL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Eg(n,t)};function gL(e){return parseFloat(e.trim())}const el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(el),wA=e=>e===tl||e===At,yL=new Set(["x","y","z"]),vL=el.filter(e=>!yL.has(e));function _L(e){const t=[];return vL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ha={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Eg(t,"x"),y:(e,{transform:t})=>Eg(t,"y")};ha.translateX=ha.x;ha.translateY=ha.y;const fa=new Set;let Ag=!1,Sg=!1,bg=!1;function Kw(){if(Sg){const e=Array.from(fa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=_L(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Sg=!1,Ag=!1,fa.forEach(e=>e.complete(bg)),fa.clear()}function Yw(){fa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sg=!0)})}function TL(){bg=!0,Yw(),Kw(),bg=!1}class iv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),Ag||(Ag=!0,ae.read(Yw),ae.resolveKeyframes(Kw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}fL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fa.delete(this)}cancel(){this.state==="scheduled"&&(fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EL=e=>e.startsWith("--");function AL(e,t,n){EL(t)?e.style.setProperty(t,n):e.style[t]=n}const SL=Hy(()=>window.ScrollTimeline!==void 0),bL={};function wL(e,t){const n=Hy(e);return()=>bL[t]??n()}const $w=wL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,RA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function Qw(e,t){if(e)return typeof e=="function"?$w()?qw(e,t):"ease-out":Nw(e)?Tu(e):Array.isArray(e)?e.map(n=>Qw(n,t)||RA.easeOut):RA[e]}function RL(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const T=Qw(d,a);Array.isArray(T)&&(y.easing=T);const A={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(A.pseudoElement=p),e.animate(y,A)}function Xw(e){return typeof e=="function"&&"applyToOptions"in e}function CL({type:e,...t}){return Xw(e)&&$w()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class xL extends ev{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,qy(typeof t.type!="string");const p=CL(t);this.animation=RL(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=tv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):AL(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Di(Number(t))}get time(){return Di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ii(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&SL()?(this.animation.timeline=t,Hn):n(this)}}const Ww={anticipate:Iw,backInOut:xw,circInOut:Vw};function IL(e){return e in Ww}function DL(e){typeof e.ease=="string"&&IL(e.ease)&&(e.ease=Ww[e.ease])}const CA=10;class VL extends xL{constructor(t){DL(t),Gw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new nv({...c,autoplay:!1}),m=Ii(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-CA).value,d.sample(m).value,CA),d.stop()}}const xA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gr.test(e)||e==="0")&&!e.startsWith("url("));function ML(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function NL(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=xA(a,t),d=xA(l,t);return!c||!d?!1:ML(e)||(n==="spring"||Xw(n))&&s}function wg(e){e.duration=0,e.type}const PL=new Set(["opacity","clipPath","filter","transform"]),OL=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LL(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return OL()&&n&&PL.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const kL=40;class UL extends ev{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const A={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},R=y?.KeyframeResolver||iv;this.keyframeResolver=new R(d,(I,L,N)=>this.onKeyframesResolved(I,L,A,!N),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=yn.now(),NL(t,l,c,d)||((_s.instantAnimations||!m)&&y?.(tv(t,s,n)),t[0]=t[t.length-1],wg(s),s.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>kL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!p&&LL(A)?new VL({...A,element:A.motionValue.owner.current}):new nv(A);R.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),TL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BL(e){const t=jL.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Zw(e,t,n=1){const[s,a]=BL(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Tw(c)?parseFloat(c):c}return Qy(a)?Zw(a,t,n+1):a}function sv(e,t){return e?.[t]??e?.default??e}const Jw=new Set(["width","height","top","left","right","bottom",...el]),zL={test:e=>e==="auto",parse:e=>e},tR=e=>t=>t.test(e),eR=[tl,At,Vi,Zs,M4,V4,zL],IA=e=>eR.find(tR(e));function FL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Aw(e):!0}const qL=new Set(["brightness","contrast","saturate","opacity"]);function HL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Xy)||[];if(!s)return e;const a=n.replace(s,"");let l=qL.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const GL=/\b([a-z-]*)\(.*?\)/gu,Rg={...gr,getAnimatableNone:e=>{const t=e.match(GL);return t?t.map(HL).join(" "):e}},DA={...tl,transform:Math.round},KL={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:Zs,skewX:Zs,skewY:Zs,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Gu,originX:yA,originY:yA,originZ:At},rv={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...KL,zIndex:DA,fillOpacity:Gu,strokeOpacity:Gu,numOctaves:DA},YL={...rv,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Rg,WebkitFilter:Rg},nR=e=>YL[e];function iR(e,t){let n=nR(e);return n!==Rg&&(n=gr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $L=new Set(["auto","none","0"]);function QL(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!$L.has(l)&&Ku(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=iR(n,a)}class XL extends iv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Qy(p))){const y=Zw(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Jw.has(s)||t.length!==2)return;const[a,l]=t,c=IA(a),d=IA(l);if(c!==d)if(wA(c)&&wA(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ha[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||FL(t[a]))&&s.push(a);s.length&&QL(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ha[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ha[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function WL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const sR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ZL(e){return Ew(e)&&"offsetHeight"in e}const VA=30,JL=e=>!isNaN(parseFloat(e));class tk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gy);const s=this.events[t].add(n);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VA);return Sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zo(e,t){return new tk(e,t)}const{schedule:av}=Pw(queueMicrotask,!1),Wn={x:!1,y:!1};function rR(){return Wn.x||Wn.y}function ek(e){return e==="x"||e==="y"?Wn[e]?null:(Wn[e]=!0,()=>{Wn[e]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function aR(e,t){const n=WL(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function MA(e){return!(e.pointerType==="touch"||rR())}function nk(e,t,n={}){const[s,a,l]=aR(e,n),c=d=>{if(!MA(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=T=>{MA(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const oR=(e,t)=>t?e===t?!0:oR(e,t.parentElement):!1,ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ik=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sk(e){return ik.has(e.tagName)||e.tabIndex!==-1}const lf=new WeakSet;function NA(e){return t=>{t.key==="Enter"&&e(t)}}function Ip(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=NA(()=>{if(lf.has(n))return;Ip(n,"down");const a=NA(()=>{Ip(n,"up")}),l=()=>Ip(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function PA(e){return ov(e)&&!rR()}function ak(e,t,n={}){const[s,a,l]=aR(e,n),c=d=>{const m=d.currentTarget;if(!PA(d))return;lf.add(m);const p=t(m,d),y=(R,I)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",A),lf.has(m)&&lf.delete(m),PA(R)&&typeof p=="function"&&p(R,{success:I})},T=R=>{y(R,m===window||m===document||n.useGlobalTarget||oR(m,R.target))},A=R=>{y(R,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",A,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),ZL(d)&&(d.addEventListener("focus",p=>rk(p,a)),!sk(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function lR(e){return Ew(e)&&"ownerSVGElement"in e}function ok(e){return lR(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),lk=[...eR,Ce,gr],uk=e=>lk.find(tR(e)),uR=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ck(e=!0){const t=U.useContext(By);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=U.useId();U.useEffect(()=>{if(e)return a(l)},[e]);const c=U.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const cR=U.createContext({strict:!1}),OA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const e in OA)Fo[e]={isEnabled:t=>OA[e].some(n=>!!t[n])};function hk(e){for(const t in e)Fo[t]={...Fo[t],...e[t]}}const fk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fk.has(e)}let hR=e=>!Nf(e);function dk(e){typeof e=="function"&&(hR=t=>t.startsWith("on")?!Nf(t):e(t))}try{dk(require("@emotion/is-prop-valid").default)}catch{}function mk(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(hR(a)||n===!0&&Nf(a)||!t&&!Nf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ed=U.createContext({});function nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yu(e){return typeof e=="string"||Array.isArray(e)}const lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uv=["initial",...lv];function id(e){return nd(e.animate)||uv.some(t=>Yu(e[t]))}function fR(e){return!!(id(e)||e.variants)}function pk(e,t){if(id(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Yu(n)?n:void 0,animate:Yu(s)?s:void 0}}return e.inherit!==!1?t:{}}function gk(e){const{initial:t,animate:n}=pk(e,U.useContext(ed));return U.useMemo(()=>({initial:t,animate:n}),[LA(t),LA(n)])}function LA(e){return Array.isArray(e)?e.join(" "):e}const $u={};function yk(e){for(const t in e)$u[t]=e[t],$y(t)&&($u[t].isCSSVariable=!0)}function dR(e,{layout:t,layoutId:n}){return nl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$u[e]||e==="opacity")}const vk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_k=el.length;function Tk(e,t,n){let s="",a=!0;for(let l=0;l<_k;l++){const c=el[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=sR(d,rv[c]);if(!m){a=!1;const y=vk[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function cv(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(nl.has(m)){c=!0;continue}else if($y(m)){a[m]=p;continue}else{const y=sR(p,rv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=Tk(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mR(e,t,n){for(const s in t)!rn(t[s])&&!dR(s,n)&&(e[s]=t[s])}function Ek({transformTemplate:e},t){return U.useMemo(()=>{const n=hv();return cv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ak(e,t){const n=e.style||{},s={};return mR(s,n,e),Object.assign(s,Ek(e,t)),s}function Sk(e,t){const n={},s=Ak(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const bk={offset:"stroke-dashoffset",array:"stroke-dasharray"},wk={offset:"strokeDashoffset",array:"strokeDasharray"};function Rk(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?bk:wk;e[l.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(n);e[l.array]=`${c} ${d}`}function pR(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(cv(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:A}=e;T.transform&&(A.transform=T.transform,delete T.transform),(A.transform||T.transformOrigin)&&(A.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),A.transform&&(A.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&Rk(T,a,l,c,!1)}const gR=()=>({...hv(),attrs:{}}),yR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ck(e,t,n,s){const a=U.useMemo(()=>{const l=gR();return pR(l,t,yR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};mR(l,e.style,e),a.style={...l,...a.style}}return a}const xk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(e){return typeof e!="string"||e.includes("-")?!1:!!(xk.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ik(e,t,n,{latestValues:s},a,l=!1){const d=(fv(e)?Ck:Sk)(t,s,a,e),m=mk(t,typeof e=="string",l),p=e!==U.Fragment?{...m,...d,ref:n}:{},{children:y}=t,T=U.useMemo(()=>rn(y)?y.get():y,[y]);return U.createElement(e,{...p,children:T})}function kA(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function dv(e,t,n,s){if(typeof t=="function"){const[a,l]=kA(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=kA(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function uf(e){return rn(e)?e.get():e}function Dk({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:Vk(n,s,a,e),renderState:t()}}function Vk(e,t,n,s){const a={},l=s(e,{});for(const A in l)a[A]=uf(l[A]);let{initial:c,animate:d}=e;const m=id(e),p=fR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!nd(T)){const A=Array.isArray(T)?T:[T];for(let R=0;R<A.length;R++){const I=dv(e,A[R]);if(I){const{transitionEnd:L,transition:N,...F}=I;for(const q in F){let $=F[q];if(Array.isArray($)){const lt=y?$.length-1:0;$=$[lt]}$!==null&&(a[q]=$)}for(const q in L)a[q]=L[q]}}}return a}const vR=e=>(t,n)=>{const s=U.useContext(ed),a=U.useContext(By),l=()=>Dk(e,t,s,a);return n?l():h4(l)};function mv(e,t,n){const{style:s}=e,a={};for(const l in s)(rn(s[l])||t.style&&rn(t.style[l])||dR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const Mk=vR({scrapeMotionValuesFromProps:mv,createRenderState:hv});function _R(e,t,n){const s=mv(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=el.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const Nk=vR({scrapeMotionValuesFromProps:_R,createRenderState:gR}),Pk=Symbol.for("motionComponentSymbol");function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ok(e,t,n){return U.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ao(n)&&(n.current=s))},[t])}const pv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lk="framerAppearId",TR="data-"+pv(Lk),ER=U.createContext({});function kk(e,t,n,s,a){const{visualElement:l}=U.useContext(ed),c=U.useContext(cR),d=U.useContext(By),m=U.useContext(uR).reducedMotion,p=U.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=U.useContext(ER);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Uk(p.current,n,a,T);const A=U.useRef(!1);U.useInsertionEffect(()=>{y&&A.current&&y.update(n,d)});const R=n[TR],I=U.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return f4(()=>{y&&(A.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),U.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),I.current=!1),y.enteringChildren=void 0)}),y}function Uk(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:AR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ao(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function AR(e){if(e)return e.options.allowProjection!==!1?e.projection:AR(e.parent)}function Dp(e,{forwardMotionProps:t=!1}={},n,s){n&&hk(n);const a=fv(e)?Nk:Mk;function l(d,m){let p;const y={...U.useContext(uR),...d,layoutId:jk(d)},{isStatic:T}=y,A=gk(d),R=a(d,T);if(!T&&jy){Bk();const I=zk(y);p=I.MeasureLayout,A.visualElement=kk(e,R,y,s,I.ProjectionNode)}return B.jsxs(ed.Provider,{value:A,children:[p&&A.visualElement?B.jsx(p,{visualElement:A.visualElement,...y}):null,Ik(e,d,Ok(R,A.visualElement,m),R,T,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=U.forwardRef(l);return c[Pk]=e,c}function jk({layoutId:e}){const t=U.useContext(_w).id;return t&&e!==void 0?t+"-"+e:e}function Bk(e,t){U.useContext(cR).strict}function zk(e){const{drag:t,layout:n}=Fo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Fk(e,t){if(typeof Proxy>"u")return Dp;const n=new Map,s=(l,c)=>Dp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Dp(c,void 0,e,t)),n.get(c))})}function SR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function qk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Hk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Vp(e){return e===void 0||e===1}function Cg({scale:e,scaleX:t,scaleY:n}){return!Vp(e)||!Vp(t)||!Vp(n)}function sa(e){return Cg(e)||bR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bR(e){return UA(e.x)||UA(e.y)}function UA(e){return e&&e!=="0%"}function Pf(e,t,n){const s=e-n,a=t*s;return n+a}function jA(e,t,n,s,a){return a!==void 0&&(e=Pf(e,a,s)),Pf(e,n,s)+t}function xg(e,t=0,n=1,s,a){e.min=jA(e.min,t,n,s,a),e.max=jA(e.max,t,n,s,a)}function wR(e,{x:t,y:n}){xg(e.x,t.translate,t.scale,t.originPoint),xg(e.y,n.translate,n.scale,n.originPoint)}const BA=.999999999999,zA=1.0000000000001;function Gk(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,wR(e,c)),s&&sa(l.latestValues)&&bo(e,l.latestValues))}t.x<zA&&t.x>BA&&(t.x=1),t.y<zA&&t.y>BA&&(t.y=1)}function So(e,t){e.min=e.min+t,e.max=e.max+t}function FA(e,t,n,s,a=.5){const l=le(e.min,e.max,a);xg(e,t,n,l,s)}function bo(e,t){FA(e.x,t.x,t.scaleX,t.scale,t.originX),FA(e.y,t.y,t.scaleY,t.scale,t.originY)}function RR(e,t){return SR(Hk(e.getBoundingClientRect(),t))}function Kk(e,t,n){const s=RR(e,n),{scroll:a}=t;return a&&(So(s.x,a.offset.x),So(s.y,a.offset.y)),s}const qA=()=>({translate:0,scale:1,origin:0,originPoint:0}),wo=()=>({x:qA(),y:qA()}),HA=()=>({min:0,max:0}),ve=()=>({x:HA(),y:HA()}),Ig={current:null},CR={current:!1};function Yk(){if(CR.current=!0,!!jy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ig.current=e.matches;e.addEventListener("change",t),t()}else Ig.current=!1}const $k=new WeakMap;function Qk(e,t,n){for(const s in t){const a=t[s],l=n[s];if(rn(a))e.addValue(s,a);else if(rn(l))e.addValue(s,zo(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,zo(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const GA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xk{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=yn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=id(n),this.isVariantNode=fR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in T){const R=T[A];m[A]!==void 0&&rn(R)&&R.set(m[A])}}mount(t){this.current=t,$k.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),CR.current||Yk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ig.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=nl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fo){const n=Fo[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<GA.length;s++){const a=GA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Qk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=zo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Tw(s)||Aw(s))?s=parseFloat(s):!uk(s)&&gr.test(n)&&(s=iR(t,n)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=dv(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){av.render(this.render)}}class xR extends Xk{constructor(){super(...arguments),this.KeyframeResolver=XL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IR(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function Wk(e){return window.getComputedStyle(e)}class Zk extends xR{constructor(){super(...arguments),this.type="html",this.renderInstance=IR}readValueFromInstance(t,n){if(nl.has(n))return this.projection?.isProjecting?Tg(n):pL(t,n);{const s=Wk(t),a=($y(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return RR(t,n)}build(t,n,s){cv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return mv(t,n,s)}}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jk(e,t,n,s){IR(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(DR.has(a)?a:pv(a),t.attrs[a])}class t3 extends xR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nl.has(n)){const s=nR(n);return s&&s.default||0}return n=DR.has(n)?n:pv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return _R(t,n,s)}build(t,n,s){pR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){Jk(t,n,s,a)}mount(t){this.isSVGTag=yR(t.tagName),super.mount(t)}}const e3=(e,t)=>fv(e)?new t3(t):new Zk(t,{allowProjection:e!==U.Fragment});function Vo(e,t,n){const s=e.getProps();return dv(s,t,n!==void 0?n:s.custom,e)}const Dg=e=>Array.isArray(e);function n3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zo(n))}function i3(e){return Dg(e)?e[e.length-1]||0:e}function s3(e,t){const n=Vo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=i3(l[c]);n3(e,c,d)}}function r3(e){return!!(rn(e)&&e.add)}function Vg(e,t){const n=e.getValue("willChange");if(r3(n))return n.add(t);if(!n&&_s.WillChange){const s=new _s.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function VR(e){return e.props[TR]}const a3=e=>e!==null;function o3(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(a3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const l3={type:"spring",stiffness:500,damping:25,restSpeed:10},u3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c3={type:"keyframes",duration:.8},h3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f3=(e,{keyframes:t})=>t.length>2?c3:nl.has(e)?e.startsWith("scale")?u3(t[1]):l3:h3;function d3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const gv=(e,t,n,s={},a,l)=>c=>{const d=sv(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ii(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};d3(d)||Object.assign(y,f3(e,y)),y.duration&&(y.duration=Ii(y.duration)),y.repeatDelay&&(y.repeatDelay=Ii(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(wg(y),y.delay===0&&(T=!0)),(_s.instantAnimations||_s.skipAnimations)&&(T=!0,wg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const A=o3(y.keyframes,d);if(A!==void 0){ae.update(()=>{y.onUpdate(A),y.onComplete()});return}}return d.isSync?new nv(y):new UL(y)};function m3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function MR(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const T=e.getValue(y,e.latestValues[y]??null),A=d[y];if(A===void 0||p&&m3(p,y))continue;const R={delay:n,...sv(l||{},y)},I=T.get();if(I!==void 0&&!T.isAnimating&&!Array.isArray(A)&&A===I&&!R.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const F=VR(e);if(F){const q=window.MotionHandoffAnimation(F,y,ae);q!==null&&(R.startTime=q,L=!0)}}Vg(e,y),T.start(gv(y,T,A,e.shouldReduceMotion&&Jw.has(y)?{type:!1}:R,e,L));const N=T.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{ae.update(()=>{c&&s3(e,c)})}),m}function NR(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Mg(e,t,n={}){const s=Vo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(MR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return p3(e,t,m,p,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function p3(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Mg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+NR(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function g3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Mg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Mg(e,t,n);else{const a=typeof t=="function"?Vo(e,t,n.custom):t;s=Promise.all(MR(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function PR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const y3=uv.length;function OR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?OR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<y3;n++){const s=uv[n],a=e.props[s];(Yu(a)||a===!1)&&(t[s]=a)}return t}const v3=[...lv].reverse(),_3=lv.length;function T3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>g3(e,n,s)))}function E3(e){let t=T3(e),n=KA(),s=!0;const a=m=>(p,y)=>{const T=Vo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:A,transitionEnd:R,...I}=T;p={...p,...I,...R}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=OR(e.parent)||{},T=[],A=new Set;let R={},I=1/0;for(let N=0;N<_3;N++){const F=v3[N],q=n[F],$=p[F]!==void 0?p[F]:y[F],lt=Yu($),it=F===m?q.isActive:null;it===!1&&(I=N);let dt=$===y[F]&&$!==p[F]&&lt;if(dt&&s&&e.manuallyAnimateOnMount&&(dt=!1),q.protectedKeys={...R},!q.isActive&&it===null||!$&&!q.prevProp||nd($)||typeof $=="boolean")continue;const V=A3(q.prevProp,$);let w=V||F===m&&q.isActive&&!dt&&lt||N>I&&lt,C=!1;const P=Array.isArray($)?$:[$];let k=P.reduce(a(F),{});it===!1&&(k={});const{prevResolvedValues:z={}}=q,D={...z,...k},Ee=rt=>{w=!0,A.has(rt)&&(C=!0,A.delete(rt)),q.needsAnimating[rt]=!0;const ht=e.getValue(rt);ht&&(ht.liveStyle=!1)};for(const rt in D){const ht=k[rt],xt=z[rt];if(R.hasOwnProperty(rt))continue;let M=!1;Dg(ht)&&Dg(xt)?M=!PR(ht,xt):M=ht!==xt,M?ht!=null?Ee(rt):A.add(rt):ht!==void 0&&A.has(rt)?Ee(rt):q.protectedKeys[rt]=!0}q.prevProp=$,q.prevResolvedValues=k,q.isActive&&(R={...R,...k}),s&&e.blockInitialAnimation&&(w=!1);const ne=dt&&V;w&&(!ne||C)&&T.push(...P.map(rt=>{const ht={type:F};if(typeof rt=="string"&&s&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:xt}=e,M=Vo(xt,rt);if(xt.enteringChildren&&M){const{delayChildren:st}=M.transition||{};ht.delay=NR(xt.enteringChildren,e,st)}}return{animation:rt,options:ht}}))}if(A.size){const N={};if(typeof p.initial!="boolean"){const F=Vo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(N.transition=F.transition)}A.forEach(F=>{const q=e.getBaseTarget(F),$=e.getValue(F);$&&($.liveStyle=!0),N[F]=q??null}),T.push({animation:N})}let L=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(L=!1),s=!1,L?t(T):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=KA(),s=!0}}}function A3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!PR(t,e):!1}function na(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KA(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class S3 extends vr{constructor(t){super(t),t.animationState||(t.animationState=E3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let b3=0;class w3 extends vr{constructor(){super(...arguments),this.id=b3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const R3={animation:{Feature:S3},exit:{Feature:w3}};function Qu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function dc(e){return{point:{x:e.pageX,y:e.pageY}}}const C3=e=>t=>ov(t)&&e(t,dc(t));function Iu(e,t,n,s){return Qu(e,t,C3(n),s)}const LR=1e-4,x3=1-LR,I3=1+LR,kR=.01,D3=0-kR,V3=0+kR;function hn(e){return e.max-e.min}function M3(e,t,n){return Math.abs(e-t)<=n}function YA(e,t,n,s=.5){e.origin=s,e.originPoint=le(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=x3&&e.scale<=I3||isNaN(e.scale))&&(e.scale=1),(e.translate>=D3&&e.translate<=V3||isNaN(e.translate))&&(e.translate=0)}function Du(e,t,n,s){YA(e.x,t.x,n.x,s?s.originX:void 0),YA(e.y,t.y,n.y,s?s.originY:void 0)}function $A(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function N3(e,t,n){$A(e.x,t.x,n.x),$A(e.y,t.y,n.y)}function QA(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Vu(e,t,n){QA(e.x,t.x,n.x),QA(e.y,t.y,n.y)}function zn(e){return[e("x"),e("y")]}const UR=({current:e})=>e?e.ownerDocument.defaultView:null,XA=(e,t)=>Math.abs(e-t);function P3(e,t){const n=XA(e.x,t.x),s=XA(e.y,t.y);return Math.sqrt(n**2+s**2)}class jR{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Np(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,I=P3(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!I)return;const{point:L}=A,{timestamp:N}=$e;this.history.push({...L,timestamp:N});const{onStart:F,onMove:q}=this.handlers;R||(F&&F(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,A)},this.handlePointerMove=(A,R)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Mp(R,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(A,R)=>{this.end();const{onEnd:I,onSessionEnd:L,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Np(A.type==="pointercancel"?this.lastMoveEventInfo:Mp(R,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,F),L&&L(A,F)},!ov(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=dc(t),m=Mp(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=$e;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(t,Np(m,this.history)),this.removeListeners=cc(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function Mp(e,t){return t?{point:t(e.point)}:e}function WA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Np({point:e},t){return{point:e,delta:WA(e,BR(t)),offset:WA(e,O3(t)),velocity:L3(t,.1)}}function O3(e){return e[0]}function BR(e){return e[e.length-1]}function L3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=BR(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Ii(t)));)n--;if(!s)return{x:0,y:0};const l=Di(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function k3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?le(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?le(n,e,s.max):Math.min(e,n)),e}function ZA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function U3(e,{top:t,left:n,bottom:s,right:a}){return{x:ZA(e.x,n,a),y:ZA(e.y,t,s)}}function JA(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function j3(e,t){return{x:JA(e.x,t.x),y:JA(e.y,t.y)}}function B3(e,t){let n=.5;const s=hn(e),a=hn(t);return a>s?n=Hu(t.min,t.max-s,e.min):s>a&&(n=Hu(e.min,e.max-a,t.min)),vs(0,1,n)}function z3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ng=.35;function F3(e=Ng){return e===!1?e=0:e===!0&&(e=Ng),{x:tS(e,"left","right"),y:tS(e,"top","bottom")}}function tS(e,t,n){return{min:eS(e,t),max:eS(e,n)}}function eS(e,t){return typeof e=="number"?e:e[t]||0}const q3=new WeakMap;class H3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dc(T).point)},c=(T,A)=>{const{drag:R,dragPropagation:I,onDragStart:L}=this.getProps();if(R&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ek(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(F=>{let q=this.getAxisMotionValue(F).get()||0;if(Vi.test(q)){const{projection:$}=this.visualElement;if($&&$.layout){const lt=$.layout.layoutBox[F];lt&&(q=hn(lt)*(parseFloat(q)/100))}}this.originPoint[F]=q}),L&&ae.postRender(()=>L(T,A)),Vg(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A;const{dragPropagation:R,dragDirectionLock:I,onDirectionLock:L,onDrag:N}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:F}=A;if(I&&this.currentDirection===null){this.currentDirection=G3(F),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",A.point,F),this.updateAxis("y",A.point,F),this.visualElement.render(),N&&N(T,A)},m=(T,A)=>{this.latestPointerEvent=T,this.latestPanInfo=A,this.stop(T,A),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>zn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new jR(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:UR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Yh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=k3(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=U3(s.layoutBox,t):this.constraints=!1,this.elastic=F3(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=z3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ao(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Kk(s,a.root,this.visualElement.getTransformPagePoint());let c=j3(a.layout.layoutBox,l);if(n){const d=n(qk(c));this.hasMutatedConstraints=!!d,d&&(c=SR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=zn(y=>{if(!Yh(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const A=a?200:1e6,R=a?40:1e7,I={type:"inertia",velocity:s?t[y]:0,bounceStiffness:A,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,I)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Vg(this.visualElement,t),s.start(gv(t,s,0,n,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:s}=this.getProps();if(!Yh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=B3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!Yh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(le(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;q3.set(this.visualElement,this);const t=this.visualElement.current,n=Iu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ao(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=Qu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(zn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ng,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Yh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function G3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class K3 extends vr{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new H3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const nS=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class Y3 extends vr{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new jR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:nS(t),onStart:nS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const mu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=iS(e,t.target.x),s=iS(e,t.target.y);return`${n}% ${s}%`}},$3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=gr.parse(e);if(a.length>5)return s;const l=gr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Pp=!1;class Q3 extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;yk(X3),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Pp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Pp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),av.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Pp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zR(e){const[t,n]=ck(),s=U.useContext(_w);return B.jsx(Q3,{...e,layoutGroup:s,switchLayoutGroup:U.useContext(ER),isPresent:t,safeToRemove:n})}const X3={borderRadius:{...mu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mu,borderTopRightRadius:mu,borderBottomLeftRadius:mu,borderBottomRightRadius:mu,boxShadow:$3};function W3(e,t,n){const s=rn(e)?e:zo(e);return s.start(gv("",s,t,n)),s.animation}const Z3=(e,t)=>e.depth-t.depth;class J3{constructor(){this.children=[],this.isDirty=!1}add(t){zy(this.children,t),this.isDirty=!0}remove(t){Fy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z3),this.isDirty=!1,this.children.forEach(t)}}function t6(e,t){const n=yn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(pr(s),e(l-t))};return ae.setup(s,!0),()=>pr(s)}const FR=["TopLeft","TopRight","BottomLeft","BottomRight"],e6=FR.length,sS=e=>typeof e=="string"?parseFloat(e):e,rS=e=>typeof e=="number"||At.test(e);function n6(e,t,n,s,a,l){a?(e.opacity=le(0,n.opacity??1,i6(s)),e.opacityExit=le(t.opacity??1,0,s6(s))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,s));for(let c=0;c<e6;c++){const d=`border${FR[c]}Radius`;let m=aS(t,d),p=aS(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||rS(m)===rS(p)?(e[d]=Math.max(le(sS(m),sS(p),s),0),(Vi.test(p)||Vi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,s))}function aS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const i6=qR(0,.5,Dw),s6=qR(.5,.95,Hn);function qR(e,t,n){return s=>s<e?0:s>t?1:n(Hu(e,t,s))}function oS(e,t){e.min=t.min,e.max=t.max}function Bn(e,t){oS(e.x,t.x),oS(e.y,t.y)}function lS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uS(e,t,n,s,a){return e-=t,e=Pf(e,1/n,s),a!==void 0&&(e=Pf(e,1/a,s)),e}function r6(e,t=0,n=1,s=.5,a,l=e,c=e){if(Vi.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(l.min,l.max,s);e===l&&(d-=t),e.min=uS(e.min,t,n,d,a),e.max=uS(e.max,t,n,d,a)}function cS(e,t,[n,s,a],l,c){r6(e,t[n],t[s],t[a],t.scale,l,c)}const a6=["x","scaleX","originX"],o6=["y","scaleY","originY"];function hS(e,t,n,s){cS(e.x,t,a6,n?n.x:void 0,s?s.x:void 0),cS(e.y,t,o6,n?n.y:void 0,s?s.y:void 0)}function fS(e){return e.translate===0&&e.scale===1}function HR(e){return fS(e.x)&&fS(e.y)}function dS(e,t){return e.min===t.min&&e.max===t.max}function l6(e,t){return dS(e.x,t.x)&&dS(e.y,t.y)}function mS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GR(e,t){return mS(e.x,t.x)&&mS(e.y,t.y)}function pS(e){return hn(e.x)/hn(e.y)}function gS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class u6{constructor(){this.members=[]}add(t){zy(this.members,t),t.scheduleRender()}remove(t){if(Fy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c6(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:A,skewX:R,skewY:I}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),A&&(s+=`rotateY(${A}deg) `),R&&(s+=`skewX(${R}deg) `),I&&(s+=`skewY(${I}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Op=["","X","Y","Z"],h6=1e3;let f6=0;function Lp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function KR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&KR(s)}function YR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=f6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p6),this.nodes.forEach(_6),this.nodes.forEach(T6),this.nodes.forEach(g6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new J3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=lR(c)&&!ok(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,T=0;const A=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{T=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,y&&y(),y=t6(A,250),cf.hasAnimatedSinceResize&&(cf.hasAnimatedSinceResize=!1,this.nodes.forEach(_S)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:A,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||w6,{onLayoutAnimationStart:L,onLayoutAnimationComplete:N}=p.getProps(),F=!this.targetLayout||!GR(this.targetLayout,R),q=!T&&A;if(this.options.layoutRoot||this.resumeFrom||q||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...sv(I,"layout"),onPlay:L,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,q)}else T||_S(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(v6),this.nodes.forEach(d6),this.nodes.forEach(m6)):this.nodes.forEach(vS),this.clearAllSnapshots();const d=yn.now();$e.delta=vs(0,1e3/60,d-$e.timestamp),$e.timestamp=d,$e.isProcessing=!0,bp.update.process($e),bp.preRender.process($e),bp.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y6),this.sharedNodes.forEach(A6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!HR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||sa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),R6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(C6))){const{scroll:p}=this.root;p&&(So(d.x,p.offset.x),So(d.y,p.offset.y))}return d}removeElementScroll(c){const d=ve();if(Bn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Bn(d,c),So(d.x,y.offset.x),So(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=ve();Bn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&bo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),sa(y.latestValues)&&bo(m,y.latestValues)}return sa(this.latestValues)&&bo(m,this.latestValues),m}removeTransform(c){const d=ve();Bn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!sa(p.latestValues))continue;Cg(p.latestValues)&&p.updateSnapshot();const y=ve(),T=p.measurePageBox();Bn(y,T),hS(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return sa(this.latestValues)&&hS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),wR(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Vu(this.relativeTargetOrigin,this.target,A.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cg(this.parent.latestValues)||bR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Bn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;Gk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lS(this.prevProjectionDelta.x,this.projectionDelta.x),lS(this.prevProjectionDelta.y,this.projectionDelta.y)),Du(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!gS(this.projectionDelta.x,this.prevProjectionDelta.x)||!gS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wo(),this.projectionDelta=wo(),this.projectionDeltaWithTransform=wo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ve(),R=m?m.source:void 0,I=this.layout?this.layout.source:void 0,L=R!==I,N=this.getStack(),F=!N||N.members.length<=1,q=!!(L&&!F&&this.options.crossfade===!0&&!this.path.some(b6));this.animationProgress=0;let $;this.mixTargetDelta=lt=>{const it=lt/1e3;TS(T.x,c.x,it),TS(T.y,c.y,it),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S6(this.relativeTarget,this.relativeTargetOrigin,A,it),$&&l6(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=ve()),Bn($,this.relativeTarget)),L&&(this.animationValues=y,n6(y,p,this.latestValues,it,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{cf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zo(0)),this.currentAnimation=W3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&$R(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const T=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const A=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+A}Bn(d,m),bo(d,y),Du(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new u6),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Lp("z",c,p,this.animationValues);for(let y=0;y<Op.length;y++)Lp(`rotate${Op[y]}`,c,p,this.animationValues),Lp(`skew${Op[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=uf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=uf(d?.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=c6(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:A,y:R}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in $u){if(y[I]===void 0)continue;const{correct:L,applyTo:N,isCSSVariable:F}=$u[I],q=T==="none"?y[I]:L(y[I],p);if(N){const $=N.length;for(let lt=0;lt<$;lt++)c[N[lt]]=q}else F?this.options.visualElement.renderState.vars[I]=q:c[I]=q}this.options.layoutId&&(c.pointerEvents=p===this?uf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(yS),this.root.sharedNodes.clear()}}}function d6(e){e.updateLayout()}function m6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?zn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],A=hn(T);T.min=n[y].min,T.max=T.min+A}):$R(a,t.layoutBox,n)&&zn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],A=hn(n[y]);T.max=T.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+A)});const c=wo();Du(c,n,t.layoutBox);const d=wo();l?Du(d,e.applyTransform(s,!0),t.measuredBox):Du(d,n,t.layoutBox);const m=!HR(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:A}=y;if(T&&A){const R=ve();Vu(R,t.layoutBox,T.layoutBox);const I=ve();Vu(I,n,A.layoutBox),GR(R,I)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function p6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function g6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y6(e){e.clearSnapshot()}function yS(e){e.clearMeasurements()}function vS(e){e.isLayoutDirty=!1}function v6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _S(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _6(e){e.resolveTargetDelta()}function T6(e){e.calcProjection()}function E6(e){e.resetSkewAndRotation()}function A6(e){e.removeLeadSnapshot()}function TS(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ES(e,t,n,s){e.min=le(t.min,n.min,s),e.max=le(t.max,n.max,s)}function S6(e,t,n,s){ES(e.x,t.x,n.x,s),ES(e.y,t.y,n.y,s)}function b6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const w6={duration:.45,ease:[.4,0,.1,1]},AS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),SS=AS("applewebkit/")&&!AS("chrome/")?Math.round:Hn;function bS(e){e.min=SS(e.min),e.max=SS(e.max)}function R6(e){bS(e.x),bS(e.y)}function $R(e,t,n){return e==="position"||e==="preserve-aspect"&&!M3(pS(t),pS(n),.2)}function C6(e){return e!==e.root&&e.scroll?.wasRoot}const x6=YR({attachResizeListener:(e,t)=>Qu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kp={current:void 0},QR=YR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kp.current){const e=new x6({});e.mount(window),e.setOptions({layoutScroll:!0}),kp.current=e}return kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),I6={pan:{Feature:Y3},drag:{Feature:K3,ProjectionNode:QR,MeasureLayout:zR}};function wS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ae.postRender(()=>l(t,dc(t)))}class D6 extends vr{mount(){const{current:t}=this.node;t&&(this.unmount=nk(t,(n,s)=>(wS(this.node,s,"Start"),a=>wS(this.node,a,"End"))))}unmount(){}}class V6 extends vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cc(Qu(this.node.current,"focus",()=>this.onFocus()),Qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ae.postRender(()=>l(t,dc(t)))}class M6 extends vr{mount(){const{current:t}=this.node;t&&(this.unmount=ak(t,(n,s)=>(RS(this.node,s,"Start"),(a,{success:l})=>RS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pg=new WeakMap,Up=new WeakMap,N6=e=>{const t=Pg.get(e.target);t&&t(e)},P6=e=>{e.forEach(N6)};function O6({root:e,...t}){const n=e||document;Up.has(n)||Up.set(n,{});const s=Up.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(P6,{root:e,...t})),s[a]}function L6(e,t,n){const s=O6(t);return Pg.set(e,n),s.observe(e),()=>{Pg.delete(e),s.unobserve(e)}}const k6={some:0,all:1};class U6 extends vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:k6[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),A=p?y:T;A&&A(m)};return L6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(j6(t,n))&&this.startObserver()}unmount(){}}function j6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const B6={inView:{Feature:U6},tap:{Feature:M6},focus:{Feature:V6},hover:{Feature:D6}},z6={layout:{ProjectionNode:QR,MeasureLayout:zR}},F6={...R3,...B6,...I6,...z6},CS=Fk(F6,e3),q6=()=>{const{user:e}=Jo(),[t,n]=U.useState([]),[s,a]=U.useState(!0),[l,c]=U.useState(null),[d,m]=U.useState(0),[p,y]=U.useState(0);return U.useEffect(()=>{const T=Fu(Pi,"users"),A=$N(T,QN("points","desc")),R=ac(A,I=>{const L=I.docs.map(N=>N.data());if(n(L.slice(0,10)),m(L.length),e){const N=L.findIndex(F=>F.uid===e.uid)+1;if(c(N),N>0)if(L.length<=1)y(100);else{const F=Math.round((L.length-N)/(L.length-1)*100);y(F)}else y(0)}else c(null),y(0);a(!1)},I=>{console.error("Error fetching leaderboard:",I),a(!1)});return()=>R()},[e]),{leaderboard:t,loading:s,userRank:l,totalUsers:d,percentage:p}},H6=()=>{const{leaderboard:e,loading:t,percentage:n}=q6(),{user:s,loading:a}=Jo();return t||a?B.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[B.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"قائمة المتصدرين"}),B.jsx("div",{className:"spinner"})]}):B.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[B.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"قائمة المتصدرين"}),s&&B.jsxs("div",{className:"text-center mb-6",children:[B.jsx("p",{className:"text-lg text-gray-700",children:"نسبة التصدر"}),B.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[n,"%"]}),B.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:B.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${n}%`}})})]}),B.jsx(CS.div,{id:"leaderboard-list",className:"space-y-4",children:e.map((l,c)=>B.jsxs(CS.div,{className:`flex items-center justify-between p-3 rounded-lg transition-all ${s&&s.uid===l.uid?"bg-blue-100 ring-2 ring-blue-500":"bg-gray-50"}`,children:[B.jsxs("div",{className:"flex items-center",children:[B.jsx("div",{className:"leaderboard-rank-box",children:c+1}),B.jsx("span",{className:"font-semibold text-gray-800 mr-3",children:l.name||"مستخدم غير معروف"})]}),B.jsxs("span",{className:"font-bold text-blue-600",children:[l.points||0," نقطة"]})]},l.uid))})]})},G6=()=>{const{user:e,loading:t}=Jo(),n=()=>{const a=new ls;cO(dg,a).then(l=>{const c=l.user,d=Wo(Pi,"users",c.uid);xy(d,{name:c.displayName,uid:c.uid},{merge:!0})}).catch(l=>{console.error("Google Sign-In Error:",l.message)})},s=()=>{HP(dg).catch(a=>{console.error("Sign-Out Error:",a)})};return t?B.jsxs("div",{className:"container mx-auto p-4 flex-grow text-center",children:[B.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-800 my-8",children:"الملف الشخصي"}),B.jsx("div",{className:"spinner"})]}):B.jsxs("div",{className:"container mx-auto p-4 flex-grow text-center",children:[B.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-800 my-8",children:"الملف الشخصي"}),e?B.jsxs("div",{children:[B.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[B.jsxs("p",{className:"text-lg md:text-xl",children:[B.jsx("strong",{children:"الاسم:"})," ",B.jsx("span",{children:e.displayName})]}),B.jsxs("p",{className:"text-lg md:text-xl mt-2",children:[B.jsx("strong",{children:"الرمز التعريفي:"})," ",B.jsx("span",{children:e.uid})]}),B.jsx("button",{onClick:s,className:"mt-6 bg-red-600 text-white font-bold py-2 px-4 rounded-lg",children:"تسجيل الخروج"})]}),B.jsx(H6,{})]}):B.jsxs("button",{onClick:n,className:"mt-6 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md",children:[B.jsx("i",{className:"fab fa-google mr-2"})," تسجيل الدخول باستخدام جوجل"]})]})},K6=()=>{const{examId:e}=u2(),t=kg(),[n,s]=U.useState(null),[a,l]=U.useState(!0),[c,d]=U.useState([]),[m,p]=U.useState(0);U.useEffect(()=>{(async()=>{const I=Wo(Pi,"exams",e),L=await U1(I);if(L.exists()){const N={id:L.id,...L.data()};s(N),d(new Array(N.questions.length).fill(null)),p((N.duration||30)*60)}else console.error("No such document!");l(!1)})()},[e]),U.useEffect(()=>{if(m===0&&n&&T(),!m)return;const R=setInterval(()=>{p(m-1)},1e3);return()=>clearInterval(R)},[m]);const y=(R,I)=>{const L=[...c];L[R]=I,d(L)},T=()=>{t(`/results/${e}`,{state:{userAnswers:c,exam:n}})};if(a)return B.jsx("div",{className:"spinner"});if(!n)return B.jsx("div",{children:"Exam not found"});const A=R=>{const I=Math.floor(R/60),L=R%60;return`${I}:${L<10?"0":""}${L}`};return B.jsxs("div",{className:"py-4 flex-grow",children:[B.jsx("div",{id:"exam-timer",className:"fixed top-4 left-4 bg-red-500 text-white p-2 rounded-lg shadow-lg",children:A(m)}),B.jsx("h2",{id:"exam-title",className:"text-3xl md:text-4xl font-bold text-gray-800 text-center mb-6",children:n.name}),B.jsx("div",{id:"questions-container",className:"space-y-8",children:n.questions.map((R,I)=>B.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md relative w-full md:h-[80vh]",children:[B.jsx("div",{className:"question-number-box",children:B.jsx("span",{children:I+1})}),B.jsx("div",{className:"question-points-box",children:B.jsxs("span",{children:[R.points||1," نقطة"]})}),B.jsx("p",{className:"text-lg md:text-3xl text-gray-800 mb-4 break-words pt-16",children:R.text}),B.jsx("div",{className:"space-y-3 md:space-y-8",children:R.options.map((L,N)=>{const F=typeof L=="string"?L:L.text,q=`option-${I}-${N}`;return B.jsxs("div",{className:"custom-radio p-2 rounded-lg",children:[B.jsx("input",{type:"radio",id:q,name:`question-${I}`,value:F,onChange:()=>y(I,F),className:"form-radio"}),B.jsx("label",{htmlFor:q,className:"text-gray-700 text-base md:text-2xl",children:F})]},N)})})]},I))}),B.jsx("div",{className:"flex justify-center mt-8",children:B.jsx("button",{onClick:T,className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform",children:"تسليم"})})]})},Y6=()=>{const e=yr(),t=kg(),{user:n}=Jo(),{userAnswers:s,exam:a}=e.state||{},{correctAnswersCount:l,earnedPoints:c,totalQuestions:d,percentage:m}=U.useMemo(()=>{if(!a)return{correctAnswersCount:0,earnedPoints:0,totalQuestions:0,percentage:0};let p=0,y=0;const T=a.questions.length;a.questions.forEach((R,I)=>{const L=s[I],N=R.correctAnswer;R.options.findIndex(q=>(typeof q=="string"?q:q.text)===L)===N&&(p++,y+=R.points||1)});const A=T>0?Math.round(p/T*100):0;return{correctAnswersCount:p,earnedPoints:y,totalQuestions:T,percentage:A}},[a,s]);return U.useEffect(()=>{if(n&&a){const p=Wo(Pi,"exam_results",a.id,"submissions",n.uid),y={email:n.email,userId:n.uid,percentage:m,correctAnswers:l,totalQuestions:d,earnedPoints:c,userAnswers:s,submittedAt:new Date};xy(p,y,{merge:!0}).then(()=>console.log("Exam results saved successfully!")).catch(T=>console.error("Error saving exam results: ",T))}},[n,a,m,l,d,c,s]),a?B.jsxs("div",{className:"py-4 flex-grow",children:[B.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 text-center mb-6",children:"نتائج الامتحان"}),B.jsxs("div",{className:"space-y-8",children:[B.jsxs("div",{className:"p-6 bg-blue-100 text-blue-800 rounded-lg shadow-md text-center mb-8",children:[B.jsxs("p",{className:"text-2xl md:text-3xl font-bold",children:["لقد أجبت على ",l," من ",d," بشكل صحيح"]}),B.jsxs("p",{className:"text-xl md:text-2xl mt-2",children:["لقد حصلت على ",B.jsx("span",{className:"font-bold text-green-600",children:c})," نقطة"]}),B.jsxs("p",{className:"text-4xl md:text-5xl font-bold mt-2",children:[m,"%"]})]}),a.questions.map((p,y)=>{const T=s[y],A=p.correctAnswer,R=p.options.findIndex(q=>(typeof q=="string"?q:q.text)===T),I=R===A,L=p.points||1,F=`<div class="result-points-box ${I?"text-black":"text-gray-500 strikethrough-center"}"><span>${L} نقطة</span></div>`;return B.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md relative w-full",children:[B.jsx("div",{className:"question-number-box",children:B.jsx("span",{children:y+1})}),B.jsx("div",{dangerouslySetInnerHTML:{__html:F}}),B.jsx("p",{className:"text-lg md:text-xl text-gray-800 mb-4 break-words pt-16",children:p.text}),B.jsx("div",{className:"space-y-3",children:p.options.map((q,$)=>{const lt=typeof q=="string"?q:q.text;let it="flex justify-between items-center p-2 rounded-lg",dt="text-gray-700 text-base md:text-lg",V="";return $===A&&(it+=" bg-green-100",dt="text-green-800 text-base md:text-lg font-bold",V='<i class="fas fa-check-circle text-green-600 ml-2"></i>'),R===$&&R!==A&&(it+=" bg-red-100",dt="text-red-800 text-base md:text-lg font-bold",V='<i class="fas fa-times-circle text-red-600 ml-2"></i>'),B.jsxs("div",{className:it,children:[B.jsxs("div",{className:"custom-radio",children:[B.jsx("input",{type:"radio",id:`result-option-${y}-${$}`,name:`result-question-${y}`,value:lt,className:"form-radio",checked:R===$,disabled:!0}),B.jsx("label",{htmlFor:`result-option-${y}-${$}`,className:dt,children:lt})]}),B.jsx("span",{dangerouslySetInnerHTML:{__html:V}})]},$)})})]},y)})]}),B.jsx("div",{className:"flex justify-center mt-8",children:B.jsx("button",{onClick:()=>t("/"),className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform",children:"العودة إلى الامتحانات"})})]}):B.jsx("div",{children:"No results to display."})},$6=()=>B.jsxs("div",{className:"md:flex md:flex-row-reverse min-h-screen",children:[B.jsx(iI,{}),B.jsx("main",{className:"flex-grow p-2 md:mb-0 mb-20 md:mr-48",children:B.jsx(S2,{})})]});function Q6(){return B.jsx($2,{children:B.jsxs(w2,{children:[B.jsxs(Ws,{path:"/",element:B.jsx($6,{}),children:[B.jsx(Ws,{index:!0,element:B.jsx(s4,{})}),B.jsx(Ws,{path:"evaluations",element:B.jsx(a4,{})}),B.jsx(Ws,{path:"store",element:B.jsx(c4,{})}),B.jsx(Ws,{path:"profile",element:B.jsx(G6,{})})]}),B.jsx(Ws,{path:"exam/:examId",element:B.jsx(K6,{})}),B.jsx(Ws,{path:"results/:examId",element:B.jsx(Y6,{})})]})})}Vx.createRoot(document.getElementById("root")).render(B.jsx(Sx.StrictMode,{children:B.jsx(Q6,{})}));
