(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function IS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sp={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function _x(){if(xT)return lu;xT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return lu.Fragment=t,lu.jsx=n,lu.jsxs=n,lu}var IT;function Tx(){return IT||(IT=1,sp.exports=_x()),sp.exports}var Y=Tx(),rp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function Ex(){if(DT)return Ct;DT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function O(M,st,ut){this.props=M,this.context=st,this.refs=j,this.updater=ut||R}O.prototype.isReactComponent={},O.prototype.setState=function(M,st){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,st,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=O.prototype;function q(M,st,ut){this.props=M,this.context=st,this.refs=j,this.updater=ut||R}var Q=q.prototype=new F;Q.constructor=q,D(Q,O.prototype),Q.isPureReactComponent=!0;var lt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function V(M,st,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:e,type:M,key:st,ref:ut!==void 0?ut:null,props:Dt}}function w(M,st){return V(M.type,st,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function N(M){var st={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return st[ut]})}var L=/\/+/g;function B(M,st){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):st.toString(36)}function I(){}function Ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(st){M.status==="pending"&&(M.status="fulfilled",M.value=st)},function(st){M.status==="pending"&&(M.status="rejected",M.reason=st)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,st,ut,at,yt){var Dt=typeof M;(Dt==="undefined"||Dt==="boolean")&&(M=null);var bt=!1;if(M===null)bt=!0;else switch(Dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(M.$$typeof){case e:case t:bt=!0;break;case y:return bt=M._init,ne(bt(M._payload),st,ut,at,yt)}}if(bt)return yt=yt(M),bt=at===""?"."+B(M,0):at,lt(yt)?(ut="",bt!=null&&(ut=bt.replace(L,"$&/")+"/"),ne(yt,st,ut,"",function(si){return si})):yt!=null&&(C(yt)&&(yt=w(yt,ut+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(L,"$&/")+"/")+bt)),st.push(yt)),1;bt=0;var Le=at===""?".":at+":";if(lt(M))for(var Jt=0;Jt<M.length;Jt++)at=M[Jt],Dt=Le+B(at,Jt),bt+=ne(at,st,ut,Dt,yt);else if(Jt=A(M),typeof Jt=="function")for(M=Jt.call(M),Jt=0;!(at=M.next()).done;)at=at.value,Dt=Le+B(at,Jt++),bt+=ne(at,st,ut,Dt,yt);else if(Dt==="object"){if(typeof M.then=="function")return ne(Ee(M),st,ut,at,yt);throw st=String(M),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return bt}function W(M,st,ut){if(M==null)return M;var at=[],yt=0;return ne(M,at,"","",function(Dt){return st.call(ut,Dt,yt++)}),at}function rt(M){if(M._status===-1){var st=M._result;st=st(),st.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=st)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function xt(){}return Ct.Children={map:W,forEach:function(M,st,ut){W(M,function(){st.apply(this,arguments)},ut)},count:function(M){var st=0;return W(M,function(){st++}),st},toArray:function(M){return W(M,function(st){return st})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ct.Component=O,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=q,Ct.StrictMode=s,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return it.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cloneElement=function(M,st,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=D({},M.props),yt=M.key,Dt=void 0;if(st!=null)for(bt in st.ref!==void 0&&(Dt=void 0),st.key!==void 0&&(yt=""+st.key),st)!dt.call(st,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&st.ref===void 0||(at[bt]=st[bt]);var bt=arguments.length-2;if(bt===1)at.children=ut;else if(1<bt){for(var Le=Array(bt),Jt=0;Jt<bt;Jt++)Le[Jt]=arguments[Jt+2];at.children=Le}return V(M.type,yt,void 0,void 0,Dt,at)},Ct.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ct.createElement=function(M,st,ut){var at,yt={},Dt=null;if(st!=null)for(at in st.key!==void 0&&(Dt=""+st.key),st)dt.call(st,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=st[at]);var bt=arguments.length-2;if(bt===1)yt.children=ut;else if(1<bt){for(var Le=Array(bt),Jt=0;Jt<bt;Jt++)Le[Jt]=arguments[Jt+2];yt.children=Le}if(M&&M.defaultProps)for(at in bt=M.defaultProps,bt)yt[at]===void 0&&(yt[at]=bt[at]);return V(M,Dt,void 0,void 0,null,yt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:d,render:M}},Ct.isValidElement=C,Ct.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:rt}},Ct.memo=function(M,st){return{$$typeof:g,type:M,compare:st===void 0?null:st}},Ct.startTransition=function(M){var st=it.T,ut={};it.T=ut;try{var at=M(),yt=it.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(xt,ht)}catch(Dt){ht(Dt)}finally{it.T=st}},Ct.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Ct.use=function(M){return it.H.use(M)},Ct.useActionState=function(M,st,ut){return it.H.useActionState(M,st,ut)},Ct.useCallback=function(M,st){return it.H.useCallback(M,st)},Ct.useContext=function(M){return it.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,st){return it.H.useDeferredValue(M,st)},Ct.useEffect=function(M,st,ut){var at=it.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,st)},Ct.useId=function(){return it.H.useId()},Ct.useImperativeHandle=function(M,st,ut){return it.H.useImperativeHandle(M,st,ut)},Ct.useInsertionEffect=function(M,st){return it.H.useInsertionEffect(M,st)},Ct.useLayoutEffect=function(M,st){return it.H.useLayoutEffect(M,st)},Ct.useMemo=function(M,st){return it.H.useMemo(M,st)},Ct.useOptimistic=function(M,st){return it.H.useOptimistic(M,st)},Ct.useReducer=function(M,st,ut){return it.H.useReducer(M,st,ut)},Ct.useRef=function(M){return it.H.useRef(M)},Ct.useState=function(M){return it.H.useState(M)},Ct.useSyncExternalStore=function(M,st,ut){return it.H.useSyncExternalStore(M,st,ut)},Ct.useTransition=function(){return it.H.useTransition()},Ct.version="19.1.1",Ct}var VT;function Pg(){return VT||(VT=1,rp.exports=Ex()),rp.exports}var U=Pg();const Ax=IS(U);var ap={exports:{}},uu={},op={exports:{}},lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function Sx(){return MT||(MT=1,(function(e){function t(W,rt){var ht=W.length;W.push(rt);t:for(;0<ht;){var xt=ht-1>>>1,M=W[xt];if(0<a(M,rt))W[xt]=rt,W[ht]=M,ht=xt;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var rt=W[0],ht=W.pop();if(ht!==rt){W[0]=ht;t:for(var xt=0,M=W.length,st=M>>>1;xt<st;){var ut=2*(xt+1)-1,at=W[ut],yt=ut+1,Dt=W[yt];if(0>a(at,ht))yt<M&&0>a(Dt,at)?(W[xt]=Dt,W[yt]=ht,xt=yt):(W[xt]=at,W[ut]=ht,xt=ut);else if(yt<M&&0>a(Dt,ht))W[xt]=Dt,W[yt]=ht,xt=yt;else break t}}return rt}function a(W,rt){var ht=W.sortIndex-rt.sortIndex;return ht!==0?ht:W.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,E=null,A=3,R=!1,D=!1,j=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function lt(W){for(var rt=n(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=W)s(g),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(g)}}function it(W){if(j=!1,lt(W),!D)if(n(m)!==null)D=!0,dt||(dt=!0,B());else{var rt=n(g);rt!==null&&ne(it,rt.startTime-W)}}var dt=!1,V=-1,w=5,C=-1;function N(){return O?!0:!(e.unstable_now()-C<w)}function L(){if(O=!1,dt){var W=e.unstable_now();C=W;var rt=!0;try{t:{D=!1,j&&(j=!1,q(V),V=-1),R=!0;var ht=A;try{e:{for(lt(W),E=n(m);E!==null&&!(E.expirationTime>W&&N());){var xt=E.callback;if(typeof xt=="function"){E.callback=null,A=E.priorityLevel;var M=xt(E.expirationTime<=W);if(W=e.unstable_now(),typeof M=="function"){E.callback=M,lt(W),rt=!0;break e}E===n(m)&&s(m),lt(W)}else s(m);E=n(m)}if(E!==null)rt=!0;else{var st=n(g);st!==null&&ne(it,st.startTime-W),rt=!1}}break t}finally{E=null,A=ht,R=!1}rt=void 0}}finally{rt?B():dt=!1}}}var B;if(typeof Q=="function")B=function(){Q(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ee=I.port2;I.port1.onmessage=L,B=function(){Ee.postMessage(null)}}else B=function(){F(L,0)};function ne(W,rt){V=F(function(){W(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_next=function(W){switch(A){case 1:case 2:case 3:var rt=3;break;default:rt=A}var ht=A;A=rt;try{return W()}finally{A=ht}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ht=A;A=W;try{return rt()}finally{A=ht}},e.unstable_scheduleCallback=function(W,rt,ht){var xt=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,W={id:y++,callback:rt,priorityLevel:W,startTime:ht,expirationTime:M,sortIndex:-1},ht>xt?(W.sortIndex=ht,t(g,W),n(m)===null&&W===n(g)&&(j?(q(V),V=-1):j=!0,ne(it,ht-xt))):(W.sortIndex=M,t(m,W),D||R||(D=!0,dt||(dt=!0,B()))),W},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(W){var rt=A;return function(){var ht=A;A=rt;try{return W.apply(this,arguments)}finally{A=ht}}}})(lp)),lp}var NT;function bx(){return NT||(NT=1,op.exports=Sx()),op.exports}var up={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function wx(){if(PT)return tn;PT=1;var e=Pg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},tn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},tn.requestFormReset=function(m){s.d.r(m)},tn.unstable_batchedUpdates=function(m,g){return m(g)},tn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var OT;function Rx(){if(OT)return up.exports;OT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),up.exports=wx(),up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function Cx(){if(LT)return uu;LT=1;var e=bx(),t=Pg(),n=Rx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),i;if(p===u)return d(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,u=p;break}if(S===u){T=!0,u=f,o=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===o){T=!0,o=p,u=f;break}if(S===u){T=!0,u=p,o=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case it:return"Suspense";case dt:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:Ee(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return Ee(i(r))}catch{}}return null}var ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],M=-1;function st(i){return{current:i}}function ut(i){0>M||(i.current=xt[M],xt[M]=null,M--)}function at(i,r){M++,xt[M]=i.current,i.current=r}var yt=st(null),Dt=st(null),bt=st(null),Le=st(null);function Jt(i,r){switch(at(bt,r),at(Dt,i),at(yt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?nT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=nT(r),i=iT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(yt),at(yt,i)}function si(){ut(yt),ut(Dt),ut(bt)}function _s(i){i.memoizedState!==null&&at(Le,i);var r=yt.current,o=iT(r,i.type);r!==o&&(at(Dt,i),at(yt,o))}function Pi(i){Dt.current===i&&(ut(yt),ut(Dt)),Le.current===i&&(ut(Le),iu._currentValue=ht)}var Tr=Object.prototype.hasOwnProperty,Er=e.unstable_scheduleCallback,Ar=e.unstable_cancelCallback,tl=e.unstable_shouldYield,fc=e.unstable_requestPaint,Cn=e.unstable_now,sd=e.unstable_getCurrentPriorityLevel,el=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,Sr=e.unstable_NormalPriority,rd=e.unstable_LowPriority,ba=e.unstable_IdlePriority,nl=e.log,dc=e.unstable_setDisableYieldValue,he=null,Gt=null;function vn(i){if(typeof nl=="function"&&dc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:br,mc=Math.log,ad=Math.LN2;function br(i){return i>>>=0,i===0?32:31-(mc(i)/ad|0)|0}var wr=256,Rr=4194304;function Gn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wa(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Gn(u):(T&=S,T!==0?f=Gn(T):o||(o=S&~i,o!==0&&(f=Gn(o))))):(S=u&~p,S!==0?f=Gn(S):T!==0?f=Gn(T):o||(o=u&~i,o!==0&&(f=Gn(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function Cr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function il(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var i=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),i}function rl(){var i=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),i}function Oi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Li(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function al(i,r,o,u,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,x=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Ze(o),et=1<<Z;S[Z]=0,x[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var $=K[Z];$!==null&&($.lane&=-536870913)}o&=~et}u!==0&&ri(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function ri(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ze(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ol(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Ts(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ra(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Es(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:AT(i.type))}function pc(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var se=Math.random().toString(36).slice(2),De="__reactFiber$"+se,Ae="__reactProps$"+se,xn="__reactContainer$"+se,ll="__reactEvents$"+se,od="__reactListeners$"+se,As="__reactHandles$"+se,gc="__reactResources$"+se,xr="__reactMarker$"+se;function Ss(i){delete i[De],delete i[Ae],delete i[ll],delete i[od],delete i[As]}function ki(i){var r=i[De];if(r)return r;for(var o=i.parentNode;o;){if(r=o[xn]||o[De]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=oT(i);i!==null;){if(o=i[De])return o;i=oT(i)}return r}i=o,o=i.parentNode}return null}function ai(i){if(i=i[De]||i[xn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function oi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function on(i){var r=i[gc];return r||(r=i[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[xr]=!0}var ul=new Set,Ca={};function Kn(i,r){Ui(i,r),Ui(i+"Capture",r)}function Ui(i,r){for(Ca[i]=r,i=0;i<r.length;i++)ul.add(r[i])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},Ir={};function _c(i){return Tr.call(Ir,i)?!0:Tr.call(vc,i)?!1:yc.test(i)?Ir[i]=!0:(vc[i]=!0,!1)}function bs(i,r,o){if(_c(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function li(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Dr,Tc;function Bi(i){if(Dr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Dr=r&&r[1]||"",Tc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+i+Tc}var xa=!1;function Ia(i,r){if(!i||xa)return"";xa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch($){var K=$}Reflect.construct(i,[],et)}else{try{et.call()}catch($){K=$}i.call(et.prototype)}}else{try{throw Error()}catch($){K=$}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var x=T.split(`
`),G=S.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===G.length)for(u=x.length-1,f=G.length-1;1<=u&&0<=f&&x[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==G[f]){var Z=`
`+x[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{xa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bi(o):""}function cl(i){switch(i.tag){case 26:case 27:case 5:return Bi(i.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ia(i.type,!1);case 11:return Ia(i.type.render,!1);case 1:return Ia(i.type,!0);case 31:return Bi("Activity");default:return""}}function Da(i){try{var r="";do r+=cl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ld(i){var r=hl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Va(i){i._valueTracker||(i._valueTracker=ld(i))}function fl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=hl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Vr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ud=/[\n"\\]/g;function Se(i){return i.replace(ud,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(i,r,o,u,f,p,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?ws(i,T,ln(r)):o!=null?ws(i,T,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ln(S):i.removeAttribute("name")}function Mr(i,r,o,u,f,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ws(i,r,o){r==="number"&&Vr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ji(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function $t(i,r,o){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ln(o):""}function Nr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ln(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function In(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Pr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function dl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Ec(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Ec(i,p,r[p])}function ml(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(i){return hd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var zi=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,qi=null;function pl(i){var r=ai(i);if(r&&(i=r.stateNode)){var o=i[Ae]||null;t:switch(i=r.stateNode,r.type){case"input":if(_n(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Ae]||null;if(!f)throw Error(s(90));_n(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&fl(u)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&ji(i,!!o.multiple,r,!1)}}}var ui=!1;function Ac(i,r,o){if(ui)return i(r,o);ui=!0;try{var u=i(r);return u}finally{if(ui=!1,(Fi!==null||qi!==null)&&(ph(),Fi&&(r=Fi,i=qi,qi=Fi=null,pl(r),i)))for(r=0;r<i.length;r++)pl(i[r])}}function Or(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ae]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Yn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Vn=!1}var ci=null,Rs=null,Hi=null;function gl(){if(Hi)return Hi;var i,r=Rs,o=r.length,u,f="value"in ci?ci.value:ci.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[p-u];u++);return Hi=f.slice(i,1<u?1-u:void 0)}function hi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function fi(){return!0}function yl(){return!1}function ke(i){function r(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fi:yl,this.isPropagationStopped=yl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),r}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=ke(qt),kr=y({},qt,{view:0,detail:0}),Sc=ke(kr),Pa,Oa,di,Ur=y({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(Pa=i.screenX-di.screenX,Oa=i.screenY-di.screenY):Oa=Pa=0,di=i),Pa)},movementY:function(i){return"movementY"in i?i.movementY:Oa}}),Mn=ke(Ur),bc=y({},Ur,{dataTransfer:0}),fd=ke(bc),Br=y({},kr,{relatedTarget:0}),La=ke(Br),vl=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=ke(vl),wc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ua=ke(wc),dd=y({},qt,{data:0}),_l=ke(dd),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Cc[i])?!!r[i]:!1}function zr(){return Tl}var xc=y({},kr,{key:function(i){if(i.key){var r=jr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=ke(xc),Ic=y({},Ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=ke(Ic),Gi=y({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),Dc=ke(Gi),Vc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mc=ke(Vc),Nc=y({},Ur,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=ke(Nc),un=y({},qt,{newState:0,oldState:0}),Pc=ke(un),Oc=[9,13,27,32],mi=Yn&&"CompositionEvent"in window,h=null;Yn&&"documentMode"in document&&(h=document.documentMode);var v=Yn&&"TextEvent"in window&&!h,_=Yn&&(!mi||h&&8<h&&11>=h),b=" ",z=!1;function X(i,r){switch(i){case"keyup":return Oc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kt=!1;function Ve(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return i=r.data,i===b&&z?null:i;default:return null}}function Ut(i,r){if(kt)return i==="compositionend"||!mi&&X(i,r)?(i=gl(),Hi=Rs=ci=null,kt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ue[i.type]:r==="textarea"}function Ki(i,r,o,u){Fi?qi?qi.push(u):qi=[u]:Fi=u,r=Eh(r,"onChange"),0<r.length&&(o=new Na("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,pi=null;function Al(i){W0(i,0)}function Lc(i){var r=oi(i);if(fl(r))return i}function vv(i,r){if(i==="change")return r}var _v=!1;if(Yn){var md;if(Yn){var pd="oninput"in document;if(!pd){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),pd=typeof Tv.oninput=="function"}md=pd}else md=!1;_v=md&&(!document.documentMode||9<document.documentMode)}function Ev(){He&&(He.detachEvent("onpropertychange",Av),pi=He=null)}function Av(i){if(i.propertyName==="value"&&Lc(pi)){var r=[];Ki(r,pi,i,Dn(i)),Ac(Al,r)}}function QR(i,r,o){i==="focusin"?(Ev(),He=r,pi=o,He.attachEvent("onpropertychange",Av)):i==="focusout"&&Ev()}function XR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lc(pi)}function WR(i,r){if(i==="click")return Lc(r)}function ZR(i,r){if(i==="input"||i==="change")return Lc(r)}function JR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:JR;function Sl(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Tr.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function Sv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function bv(i,r){var o=Sv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Sv(o)}}function wv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?wv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Rv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Vr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Vr(i.document)}return r}function gd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var tC=Yn&&"documentMode"in document&&11>=document.documentMode,za=null,yd=null,bl=null,vd=!1;function Cv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vd||za==null||za!==Vr(u)||(u=za,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bl&&Sl(bl,u)||(bl=u,u=Eh(yd,"onSelect"),0<u.length&&(r=new Na("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=za)))}function Fr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Fa={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},_d={},xv={};Yn&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function qr(i){if(_d[i])return _d[i];if(!Fa[i])return i;var r=Fa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in xv)return _d[i]=r[o];return i}var Iv=qr("animationend"),Dv=qr("animationiteration"),Vv=qr("animationstart"),eC=qr("transitionrun"),nC=qr("transitionstart"),iC=qr("transitioncancel"),Mv=qr("transitionend"),Nv=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function $n(i,r){Nv.set(i,r),Kn(r,[i])}var Pv=new WeakMap;function Nn(i,r){if(typeof i=="object"&&i!==null){var o=Pv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Da(r)},Pv.set(i,r),r)}return{value:i,source:r,stack:Da(r)}}var Pn=[],qa=0,Ed=0;function kc(){for(var i=qa,r=Ed=qa=0;r<i;){var o=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var p=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&Ov(o,f,p)}}function Uc(i,r,o,u){Pn[qa++]=i,Pn[qa++]=r,Pn[qa++]=o,Pn[qa++]=u,Ed|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ad(i,r,o,u){return Uc(i,r,o,u),Bc(i)}function Ha(i,r){return Uc(i,null,null,r),Bc(i)}function Ov(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Ze(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function Bc(i){if(50<Ql)throw Ql=0,xm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ga={};function sC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,r,o,u){return new sC(i,r,o,u)}function Sd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yi(i,r){var o=i.alternate;return o===null?(o=En(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Lv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function jc(i,r,o,u,f,p){var T=0;if(u=i,typeof i=="function")Sd(i)&&(T=1);else if(typeof i=="string")T=ax(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=En(31,o,r,f),i.elementType=C,i.lanes=p,i;case D:return Hr(o.children,f,p,r);case j:T=8,f|=24;break;case O:return i=En(12,o,r,f|2),i.elementType=O,i.lanes=p,i;case it:return i=En(13,o,r,f),i.elementType=it,i.lanes=p,i;case dt:return i=En(19,o,r,f),i.elementType=dt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case Q:T=10;break t;case q:T=9;break t;case lt:T=11;break t;case V:T=14;break t;case w:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=En(T,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function Hr(i,r,o,u){return i=En(7,i,u,r),i.lanes=o,i}function bd(i,r,o){return i=En(6,i,null,r),i.lanes=o,i}function wd(i,r,o){return r=En(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ka=[],Ya=0,zc=null,Fc=0,On=[],Ln=0,Gr=null,$i=1,Qi="";function Kr(i,r){Ka[Ya++]=Fc,Ka[Ya++]=zc,zc=i,Fc=r}function kv(i,r,o){On[Ln++]=$i,On[Ln++]=Qi,On[Ln++]=Gr,Gr=i;var u=$i;i=Qi;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var p=32-Ze(r)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,$i=1<<32-Ze(r)+f|o<<f|u,Qi=p+i}else $i=1<<p|o<<f|u,Qi=i}function Rd(i){i.return!==null&&(Kr(i,1),kv(i,1,0))}function Cd(i){for(;i===zc;)zc=Ka[--Ya],Ka[Ya]=null,Fc=Ka[--Ya],Ka[Ya]=null;for(;i===Gr;)Gr=On[--Ln],On[Ln]=null,Qi=On[--Ln],On[Ln]=null,$i=On[--Ln],On[Ln]=null}var cn=null,fe=null,Ft=!1,Yr=null,gi=!1,xd=Error(s(519));function $r(i){var r=Error(s(418,""));throw Cl(Nn(r,i)),xd}function Uv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[De]=i,r[Ae]=u,o){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(o=0;o<Wl.length;o++)Nt(Wl[o],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),Mr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Va(r);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),Nr(r,u.value,u.defaultValue,u.children),Va(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||eT(r.textContent,o)?(u.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),u.onScroll!=null&&Nt("scroll",r),u.onScrollEnd!=null&&Nt("scrollend",r),u.onClick!=null&&(r.onclick=Ah),r=!0):r=!1,r||$r(i)}function Bv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:cn=cn.return}}function wl(i){if(i!==cn)return!1;if(!Ft)return Bv(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Hm(i.type,i.memoizedProps)),o=!o),o&&fe&&$r(i),Bv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){fe=Xn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,Fs(i.type)?(i=$m,$m=null,fe=i):fe=r):fe=cn?Xn(i.stateNode.nextSibling):null;return!0}function Rl(){fe=cn=null,Ft=!1}function jv(){var i=Yr;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Yr=null),i}function Cl(i){Yr===null?Yr=[i]:Yr.push(i)}var Id=st(null),Qr=null,Xi=null;function Cs(i,r,o){at(Id,r._currentValue),r._currentValue=o}function Wi(i){i._currentValue=Id.current,ut(Id)}function Dd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Vd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var x=0;x<r.length;x++)if(S.context===r[x]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Dd(p.return,o,i),u||(T=null);break t}p=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Dd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xl(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;Tn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===Le.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(iu):i=[iu])}f=f.return}i!==null&&Vd(r,i,o,u),r.flags|=262144}function qc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xr(i){Qr=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return zv(Qr,i)}function Hc(i,r){return Qr===null&&Xr(i),zv(i,r)}function zv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Xi===null){if(i===null)throw Error(s(308));Xi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Xi=Xi.next=r;return o}var rC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},aC=e.unstable_scheduleCallback,oC=e.unstable_NormalPriority,Ne={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new rC,data:new Map,refCount:0}}function Il(i){i.refCount--,i.refCount===0&&aC(oC,function(){i.controller.abort()})}var Dl=null,Nd=0,$a=0,Qa=null;function lC(i,r){if(Dl===null){var o=Dl=[];Nd=0,$a=Om(),Qa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nd++,r.then(Fv,Fv),r}function Fv(){if(--Nd===0&&Dl!==null){Qa!==null&&(Qa.status="fulfilled");var i=Dl;Dl=null,$a=0,Qa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function uC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var qv=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&lC(i,r),qv!==null&&qv(i,r)};var Wr=st(null);function Pd(){var i=Wr.current;return i!==null?i:te.pooledCache}function Gc(i,r){r===null?at(Wr,Wr.current):at(Wr,r.pool)}function Hv(){var i=Pd();return i===null?null:{parent:Ne._currentValue,pool:i}}var Vl=Error(s(460)),Gv=Error(s(474)),Kc=Error(s(542)),Od={then:function(){}};function Kv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yc(){}function Yv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Yc,Yc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Qv(i),i;default:if(typeof r.status=="string")r.then(Yc,Yc);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Qv(i),i}throw Ml=r,Vl}}var Ml=null;function $v(){if(Ml===null)throw Error(s(459));var i=Ml;return Ml=null,i}function Qv(i){if(i===Vl||i===Kc)throw Error(s(483))}var xs=!1;function Ld(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Is(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Bc(i),Ov(i,null,o),r}return Uc(i,u,r,o),Bc(i)}function Nl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ol(i,o)}}function Ud(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Bd=!1;function Pl(){if(Bd){var i=Qa;if(i!==null)throw i}}function Ol(i,r,o,u){Bd=!1;var f=i.updateQueue;xs=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,G=x.next;x.next=null,T===null?p=G:T.next=G,T=x;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=x))}if(p!==null){var et=f.baseState;T=0,Z=G=x=null,S=p;do{var K=S.lane&-536870913,$=K!==S.lane;if($?(Bt&K)===K:(u&K)===K){K!==0&&K===$a&&(Bd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=i,vt=S;K=r;var Wt=o;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){et=Et.call(Wt,et,K);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,K=typeof Et=="function"?Et.call(Wt,et,K):Et,K==null)break t;et=y({},et,K);break t;case 2:xs=!0}}K=S.callback,K!==null&&(i.flags|=64,$&&(i.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=$,x=et):Z=Z.next=$,T|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(x=et),f.baseState=x,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),Us|=T,i.lanes=T,i.memoizedState=et}}function Xv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Wv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Xv(o[i],r)}var Xa=st(null),$c=st(0);function Zv(i,r){i=ss,at($c,i),at(Xa,r),ss=i|r.baseLanes}function jd(){at($c,ss),at(Xa,Xa.current)}function zd(){ss=$c.current,ut(Xa),ut($c)}var Vs=0,It=null,Qt=null,be=null,Qc=!1,Wa=!1,Zr=!1,Xc=0,Ll=0,Za=null,cC=0;function ge(){throw Error(s(321))}function Fd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Tn(i[o],r[o]))return!1;return!0}function qd(i,r,o,u,f,p){return Vs=p,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?O_:L_,Zr=!1,p=o(u,f),Zr=!1,Wa&&(p=t_(r,o,u,f)),Jv(i),p}function Jv(i){W.H=nh;var r=Qt!==null&&Qt.next!==null;if(Vs=0,be=Qt=It=null,Qc=!1,Ll=0,Za=null,r)throw Error(s(300));i===null||Be||(i=i.dependencies,i!==null&&qc(i)&&(Be=!0))}function t_(i,r,o,u){It=i;var f=0;do{if(Wa&&(Za=null),Ll=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,be=Qt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=yC,p=r(o,u)}while(Wa);return p}function hC(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?kl(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(It.flags|=1024),r}function Hd(){var i=Xc!==0;return Xc=0,i}function Gd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Kd(i){if(Qc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Qc=!1}Vs=0,be=Qt=It=null,Wa=!1,Ll=Xc=0,Za=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?It.memoizedState=be=i:be=be.next=i,be}function we(){if(Qt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=be===null?It.memoizedState:be.next;if(r!==null)be=r,Qt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},be===null?It.memoizedState=be=i:be=be.next=i}return be}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(i){var r=Ll;return Ll+=1,Za===null&&(Za=[]),i=Yv(Za,i,r),r=It,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?O_:L_),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kl(i);if(i.$$typeof===Q)return Je(i)}throw Error(s(438,String(i)))}function $d(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Yd(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=N;return r.index++,o}function Zi(i,r){return typeof r=="function"?r(i):r}function Zc(i){var r=we();return Qd(r,Qt,i)}function Qd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var S=T=null,x=null,G=r,Z=!1;do{var et=G.lane&-536870913;if(et!==G.lane?(Bt&et)===et:(Vs&et)===et){var K=G.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),et===$a&&(Z=!0);else if((Vs&K)===K){G=G.next,K===$a&&(Z=!0);continue}else et={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(S=x=et,T=p):x=x.next=et,It.lanes|=K,Us|=K;et=G.action,Zr&&o(p,et),p=G.hasEagerState?G.eagerState:o(p,et)}else K={lane:et,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(S=x=K,T=p):x=x.next=K,It.lanes|=et,Us|=et;G=G.next}while(G!==null&&G!==r);if(x===null?T=p:x.next=S,!Tn(p,i.memoizedState)&&(Be=!0,Z&&(o=Qa,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=x,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Xd(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Tn(p,r.memoizedState)||(Be=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function e_(i,r,o){var u=It,f=we(),p=Ft;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Tn((Qt||f).memoizedState,o);T&&(f.memoizedState=o,Be=!0),f=f.queue;var S=s_.bind(null,u,f,i);if(Ul(2048,8,S,[i]),f.getSnapshot!==r||T||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,Ja(9,Jc(),i_.bind(null,u,f,o,r),null),te===null)throw Error(s(349));p||(Vs&124)!==0||n_(u,r,o)}return o}function n_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=Yd(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function i_(i,r,o,u){r.value=o,r.getSnapshot=u,r_(r)&&a_(i)}function s_(i,r,o){return o(function(){r_(r)&&a_(i)})}function r_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Tn(i,o)}catch{return!0}}function a_(i){var r=Ha(i,2);r!==null&&Rn(r,i,2)}function Wd(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),Zr){vn(!0);try{o()}finally{vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:i},r}function o_(i,r,o,u){return i.baseState=o,Qd(i,Qt,typeof u=="function"?u:Zi)}function fC(i,r,o,u,f){if(eh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,l_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function l_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=W.T,T={};W.T=T;try{var S=o(f,u),x=W.S;x!==null&&x(T,S),u_(i,r,S)}catch(G){Zd(i,r,G)}finally{W.T=p}}else try{p=o(f,u),u_(i,r,p)}catch(G){Zd(i,r,G)}}function u_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){c_(i,r,u)},function(u){return Zd(i,r,u)}):c_(i,r,o)}function c_(i,r,o){r.status="fulfilled",r.value=o,h_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,l_(i,o)))}function Zd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,h_(r),r=r.next;while(r!==u)}i.action=null}function h_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function f_(i,r){return r}function d_(i,r){if(Ft){var o=te.formState;if(o!==null){t:{var u=It;if(Ft){if(fe){e:{for(var f=fe,p=gi;f.nodeType!==8;){if(!p){f=null;break e}if(f=Xn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){fe=Xn(f.nextSibling),u=f.data==="F!";break t}}$r(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:r},o.queue=u,o=M_.bind(null,It,u),u.dispatch=o,u=Wd(!1),p=im.bind(null,It,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=fC.bind(null,It,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function m_(i){var r=we();return p_(r,Qt,i)}function p_(i,r,o){if(r=Qd(i,r,f_)[0],i=Zc(Zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=kl(r)}catch(T){throw T===Vl?Kc:T}else u=r;r=we();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(It.flags|=2048,Ja(9,Jc(),dC.bind(null,f,o),null)),[u,p,i]}function dC(i,r){i.action=r}function g_(i){var r=we(),o=Qt;if(o!==null)return p_(r,o,i);we(),r=r.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Ja(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=Yd(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Jc(){return{destroy:void 0,resource:void 0}}function y_(){return we().memoizedState}function th(i,r,o,u){var f=dn();u=u===void 0?null:u,It.flags|=i,f.memoizedState=Ja(1|r,Jc(),o,u)}function Ul(i,r,o,u){var f=we();u=u===void 0?null:u;var p=f.memoizedState.inst;Qt!==null&&u!==null&&Fd(u,Qt.memoizedState.deps)?f.memoizedState=Ja(r,p,o,u):(It.flags|=i,f.memoizedState=Ja(1|r,p,o,u))}function v_(i,r){th(8390656,8,i,r)}function __(i,r){Ul(2048,8,i,r)}function T_(i,r){return Ul(4,2,i,r)}function E_(i,r){return Ul(4,4,i,r)}function A_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function S_(i,r,o){o=o!=null?o.concat([i]):null,Ul(4,4,A_.bind(null,r,i),o)}function Jd(){}function b_(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Fd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function w_(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Fd(r,u[1]))return u[0];if(u=i(),Zr){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,r],u}function tm(i,r,o){return o===void 0||(Vs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=x0(),It.lanes|=i,Us|=i,o)}function R_(i,r,o,u){return Tn(o,r)?o:Xa.current!==null?(i=tm(i,o,u),Tn(i,r)||(Be=!0),i):(Vs&42)===0?(Be=!0,i.memoizedState=o):(i=x0(),It.lanes|=i,Us|=i,r)}function C_(i,r,o,u,f){var p=rt.p;rt.p=p!==0&&8>p?p:8;var T=W.T,S={};W.T=S,im(i,!1,r,o);try{var x=f(),G=W.S;if(G!==null&&G(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=uC(x,u);Bl(i,r,Z,wn(i))}else Bl(i,r,u,wn(i))}catch(et){Bl(i,r,{then:function(){},status:"rejected",reason:et},wn())}finally{rt.p=p,W.T=T}}function mC(){}function em(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=x_(i).queue;C_(i,f,r,ht,o===null?mC:function(){return I_(i),o(u)})}function x_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ht},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function I_(i){var r=x_(i).next.queue;Bl(i,r,{},wn())}function nm(){return Je(iu)}function D_(){return we().memoizedState}function V_(){return we().memoizedState}function pC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=wn();i=Is(o);var u=Ds(r,i,o);u!==null&&(Rn(u,r,o),Nl(u,r,o)),r={cache:Md()},i.payload=r;return}r=r.return}}function gC(i,r,o){var u=wn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},eh(i)?N_(r,o):(o=Ad(i,r,o,u),o!==null&&(Rn(o,i,u),P_(o,r,u)))}function M_(i,r,o){var u=wn();Bl(i,r,o,u)}function Bl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(eh(i))N_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,S=p(T,o);if(f.hasEagerState=!0,f.eagerState=S,Tn(S,T))return Uc(i,r,f,0),te===null&&kc(),!1}catch{}finally{}if(o=Ad(i,r,f,u),o!==null)return Rn(o,i,u),P_(o,r,u),!0}return!1}function im(i,r,o,u){if(u={lane:2,revertLane:Om(),action:u,hasEagerState:!1,eagerState:null,next:null},eh(i)){if(r)throw Error(s(479))}else r=Ad(i,o,u,2),r!==null&&Rn(r,i,2)}function eh(i){var r=i.alternate;return i===It||r!==null&&r===It}function N_(i,r){Wa=Qc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function P_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ol(i,o)}}var nh={readContext:Je,use:Wc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},O_={readContext:Je,use:Wc,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:v_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,th(4194308,4,A_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return th(4194308,4,i,r)},useInsertionEffect:function(i,r){th(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(Zr){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(Zr){vn(!0);try{o(r)}finally{vn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=gC.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Wd(i);var r=i.queue,o=M_.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Jd,useDeferredValue:function(i,r){var o=dn();return tm(o,i,r)},useTransition:function(){var i=Wd(!1);return i=C_.bind(null,It,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=dn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(Bt&124)!==0||n_(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,v_(s_.bind(null,u,p,i),[i]),u.flags|=2048,Ja(9,Jc(),i_.bind(null,u,p,o,r),null),o},useId:function(){var i=dn(),r=te.identifierPrefix;if(Ft){var o=Qi,u=$i;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,r=""+r+"R"+o,o=Xc++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=cC++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:nm,useFormState:d_,useActionState:d_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=im.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:$d,useCacheRefresh:function(){return dn().memoizedState=pC.bind(null,It)}},L_={readContext:Je,use:Wc,useCallback:b_,useContext:Je,useEffect:__,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:E_,useMemo:w_,useReducer:Zc,useRef:y_,useState:function(){return Zc(Zi)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=we();return R_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Zc(Zi)[0],r=we().memoizedState;return[typeof i=="boolean"?i:kl(i),r]},useSyncExternalStore:e_,useId:D_,useHostTransitionStatus:nm,useFormState:m_,useActionState:m_,useOptimistic:function(i,r){var o=we();return o_(o,Qt,i,r)},useMemoCache:$d,useCacheRefresh:V_},yC={readContext:Je,use:Wc,useCallback:b_,useContext:Je,useEffect:__,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:E_,useMemo:w_,useReducer:Xd,useRef:y_,useState:function(){return Xd(Zi)},useDebugValue:Jd,useDeferredValue:function(i,r){var o=we();return Qt===null?tm(o,i,r):R_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Xd(Zi)[0],r=we().memoizedState;return[typeof i=="boolean"?i:kl(i),r]},useSyncExternalStore:e_,useId:D_,useHostTransitionStatus:nm,useFormState:g_,useActionState:g_,useOptimistic:function(i,r){var o=we();return Qt!==null?o_(o,Qt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:$d,useCacheRefresh:V_},to=null,jl=0;function ih(i){var r=jl;return jl+=1,to===null&&(to=[]),Yv(to,i,r)}function zl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function sh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function k_(i){var r=i._init;return r(i._payload)}function U_(i){function r(k,P){if(i){var H=k.deletions;H===null?(k.deletions=[P],k.flags|=16):H.push(P)}}function o(k,P){if(!i)return null;for(;P!==null;)r(k,P),P=P.sibling;return null}function u(k){for(var P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function f(k,P){return k=Yi(k,P),k.index=0,k.sibling=null,k}function p(k,P,H){return k.index=H,i?(H=k.alternate,H!==null?(H=H.index,H<P?(k.flags|=67108866,P):H):(k.flags|=67108866,P)):(k.flags|=1048576,P)}function T(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function S(k,P,H,J){return P===null||P.tag!==6?(P=bd(H,k.mode,J),P.return=k,P):(P=f(P,H),P.return=k,P)}function x(k,P,H,J){var mt=H.type;return mt===D?Z(k,P,H.props.children,J,H.key):P!==null&&(P.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&k_(mt)===P.type)?(P=f(P,H.props),zl(P,H),P.return=k,P):(P=jc(H.type,H.key,H.props,null,k.mode,J),zl(P,H),P.return=k,P)}function G(k,P,H,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=wd(H,k.mode,J),P.return=k,P):(P=f(P,H.children||[]),P.return=k,P)}function Z(k,P,H,J,mt){return P===null||P.tag!==7?(P=Hr(H,k.mode,J,mt),P.return=k,P):(P=f(P,H),P.return=k,P)}function et(k,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=bd(""+P,k.mode,H),P.return=k,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return H=jc(P.type,P.key,P.props,null,k.mode,H),zl(H,P),H.return=k,H;case R:return P=wd(P,k.mode,H),P.return=k,P;case w:var J=P._init;return P=J(P._payload),et(k,P,H)}if(ne(P)||B(P))return P=Hr(P,k.mode,H,null),P.return=k,P;if(typeof P.then=="function")return et(k,ih(P),H);if(P.$$typeof===Q)return et(k,Hc(k,P),H);sh(k,P)}return null}function K(k,P,H,J){var mt=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return mt!==null?null:S(k,P,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===mt?x(k,P,H,J):null;case R:return H.key===mt?G(k,P,H,J):null;case w:return mt=H._init,H=mt(H._payload),K(k,P,H,J)}if(ne(H)||B(H))return mt!==null?null:Z(k,P,H,J,null);if(typeof H.then=="function")return K(k,P,ih(H),J);if(H.$$typeof===Q)return K(k,P,Hc(k,H),J);sh(k,H)}return null}function $(k,P,H,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(H)||null,S(P,k,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return k=k.get(J.key===null?H:J.key)||null,x(P,k,J,mt);case R:return k=k.get(J.key===null?H:J.key)||null,G(P,k,J,mt);case w:var Vt=J._init;return J=Vt(J._payload),$(k,P,H,J,mt)}if(ne(J)||B(J))return k=k.get(H)||null,Z(P,k,J,mt,null);if(typeof J.then=="function")return $(k,P,H,ih(J),mt);if(J.$$typeof===Q)return $(k,P,H,Hc(P,J),mt);sh(P,J)}return null}function Et(k,P,H,J){for(var mt=null,Vt=null,pt=P,_t=P=0,ze=null;pt!==null&&_t<H.length;_t++){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var zt=K(k,pt,H[_t],J);if(zt===null){pt===null&&(pt=ze);break}i&&pt&&zt.alternate===null&&r(k,pt),P=p(zt,P,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt,pt=ze}if(_t===H.length)return o(k,pt),Ft&&Kr(k,_t),mt;if(pt===null){for(;_t<H.length;_t++)pt=et(k,H[_t],J),pt!==null&&(P=p(pt,P,_t),Vt===null?mt=pt:Vt.sibling=pt,Vt=pt);return Ft&&Kr(k,_t),mt}for(pt=u(pt);_t<H.length;_t++)ze=$(pt,k,_t,H[_t],J),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?_t:ze.key),P=p(ze,P,_t),Vt===null?mt=ze:Vt.sibling=ze,Vt=ze);return i&&pt.forEach(function(Ys){return r(k,Ys)}),Ft&&Kr(k,_t),mt}function vt(k,P,H,J){if(H==null)throw Error(s(151));for(var mt=null,Vt=null,pt=P,_t=P=0,ze=null,zt=H.next();pt!==null&&!zt.done;_t++,zt=H.next()){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var Ys=K(k,pt,zt.value,J);if(Ys===null){pt===null&&(pt=ze);break}i&&pt&&Ys.alternate===null&&r(k,pt),P=p(Ys,P,_t),Vt===null?mt=Ys:Vt.sibling=Ys,Vt=Ys,pt=ze}if(zt.done)return o(k,pt),Ft&&Kr(k,_t),mt;if(pt===null){for(;!zt.done;_t++,zt=H.next())zt=et(k,zt.value,J),zt!==null&&(P=p(zt,P,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt);return Ft&&Kr(k,_t),mt}for(pt=u(pt);!zt.done;_t++,zt=H.next())zt=$(pt,k,_t,zt.value,J),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),P=p(zt,P,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt);return i&&pt.forEach(function(vx){return r(k,vx)}),Ft&&Kr(k,_t),mt}function Wt(k,P,H,J){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var mt=H.key;P!==null;){if(P.key===mt){if(mt=H.type,mt===D){if(P.tag===7){o(k,P.sibling),J=f(P,H.props.children),J.return=k,k=J;break t}}else if(P.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&k_(mt)===P.type){o(k,P.sibling),J=f(P,H.props),zl(J,H),J.return=k,k=J;break t}o(k,P);break}else r(k,P);P=P.sibling}H.type===D?(J=Hr(H.props.children,k.mode,J,H.key),J.return=k,k=J):(J=jc(H.type,H.key,H.props,null,k.mode,J),zl(J,H),J.return=k,k=J)}return T(k);case R:t:{for(mt=H.key;P!==null;){if(P.key===mt)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(k,P.sibling),J=f(P,H.children||[]),J.return=k,k=J;break t}else{o(k,P);break}else r(k,P);P=P.sibling}J=wd(H,k.mode,J),J.return=k,k=J}return T(k);case w:return mt=H._init,H=mt(H._payload),Wt(k,P,H,J)}if(ne(H))return Et(k,P,H,J);if(B(H)){if(mt=B(H),typeof mt!="function")throw Error(s(150));return H=mt.call(H),vt(k,P,H,J)}if(typeof H.then=="function")return Wt(k,P,ih(H),J);if(H.$$typeof===Q)return Wt(k,P,Hc(k,H),J);sh(k,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(k,P.sibling),J=f(P,H),J.return=k,k=J):(o(k,P),J=bd(H,k.mode,J),J.return=k,k=J),T(k)):o(k,P)}return function(k,P,H,J){try{jl=0;var mt=Wt(k,P,H,J);return to=null,mt}catch(pt){if(pt===Vl||pt===Kc)throw pt;var Vt=En(29,pt,null,k.mode);return Vt.lanes=J,Vt.return=k,Vt}finally{}}}var eo=U_(!0),B_=U_(!1),kn=st(null),yi=null;function Ms(i){var r=i.alternate;at(Pe,Pe.current&1),at(kn,i),yi===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(yi=i)}function j_(i){if(i.tag===22){if(at(Pe,Pe.current),at(kn,i),yi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(yi=i)}}else Ns()}function Ns(){at(Pe,Pe.current),at(kn,kn.current)}function Ji(i){ut(kn),yi===i&&(yi=null),ut(Pe)}var Pe=st(0);function rh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ym(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=wn(),f=Is(u);f.payload=r,o!=null&&(f.callback=o),r=Ds(i,f,u),r!==null&&(Rn(r,i,u),Nl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=wn(),f=Is(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ds(i,f,u),r!==null&&(Rn(r,i,u),Nl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=wn(),u=Is(o);u.tag=2,r!=null&&(u.callback=r),r=Ds(i,u,o),r!==null&&(Rn(r,i,o),Nl(r,i,o))}};function z_(i,r,o,u,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!Sl(o,u)||!Sl(f,p):!0}function F_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&rm.enqueueReplaceState(r,r.state,null)}function Jr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function q_(i){ah(i)}function H_(i){console.error(i)}function G_(i){ah(i)}function oh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function K_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(i,r,o){return o=Is(o),o.tag=3,o.payload={element:null},o.callback=function(){oh(i,r)},o}function Y_(i){return i=Is(i),i.tag=3,i}function $_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){K_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){K_(r,o,u),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&xl(r,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 13:return yi===null?Dm():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Od?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Mm(i,u,f)),!1;case 22:return o.flags|=65536,u===Od?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Mm(i,u,f)),!1}throw Error(s(435,o.tag))}return Mm(i,u,f),Dm(),!1}if(Ft)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==xd&&(i=Error(s(422),{cause:u}),Cl(Nn(i,o)))):(u!==xd&&(r=Error(s(423),{cause:u}),Cl(Nn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Nn(u,o),f=am(i.stateNode,u,f),Ud(i,f),de!==4&&(de=2)),!1;var p=Error(s(520),{cause:u});if(p=Nn(p,o),$l===null?$l=[p]:$l.push(p),de!==4&&(de=2),r===null)return!0;u=Nn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=am(o.stateNode,u,i),Ud(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bs===null||!Bs.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Y_(f),$_(f,i,o,u),Ud(o,f),!1}o=o.return}while(o!==null);return!1}var Q_=Error(s(461)),Be=!1;function Ge(i,r,o,u){r.child=i===null?B_(r,null,o,u):eo(r,i.child,o,u)}function X_(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return Xr(r),u=qd(i,r,o,T,p,f),S=Hd(),i!==null&&!Be?(Gd(i,r,f),ts(i,r,f)):(Ft&&S&&Rd(r),r.flags|=1,Ge(i,r,u,f),r.child)}function W_(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!Sd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Z_(i,r,p,u,f)):(i=jc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!mm(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Sl,o(T,u)&&i.ref===r.ref)return ts(i,r,f)}return r.flags|=1,i=Yi(p,u),i.ref=r.ref,i.return=r,r.child=i}function Z_(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(Sl(p,u)&&i.ref===r.ref)if(Be=!1,r.pendingProps=u=p,mm(i,f))(i.flags&131072)!==0&&(Be=!0);else return r.lanes=i.lanes,ts(i,r,f)}return om(i,r,o,u,f)}function J_(i,r,o){var u=r.pendingProps,f=u.children,p=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return t0(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gc(r,p!==null?p.cachePool:null),p!==null?Zv(r,p):jd(),j_(r);else return r.lanes=r.childLanes=536870912,t0(i,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Gc(r,p.cachePool),Zv(r,p),Ns(),r.memoizedState=null):(i!==null&&Gc(r,null),jd(),Ns());return Ge(i,r,f,o),r.child}function t0(i,r,o,u){var f=Pd();return f=f===null?null:{parent:Ne._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Gc(r,null),jd(),j_(r),i!==null&&xl(i,r,u,!0),null}function lh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function om(i,r,o,u,f){return Xr(r),o=qd(i,r,o,u,void 0,f),u=Hd(),i!==null&&!Be?(Gd(i,r,f),ts(i,r,f)):(Ft&&u&&Rd(r),r.flags|=1,Ge(i,r,o,f),r.child)}function e0(i,r,o,u,f,p){return Xr(r),r.updateQueue=null,o=t_(r,u,o,f),Jv(i),u=Hd(),i!==null&&!Be?(Gd(i,r,p),ts(i,r,p)):(Ft&&u&&Rd(r),r.flags|=1,Ge(i,r,o,p),r.child)}function n0(i,r,o,u,f){if(Xr(r),r.stateNode===null){var p=Ga,T=o.contextType;typeof T=="object"&&T!==null&&(p=Je(T)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Ld(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?Je(T):Ga,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(sm(r,o,T,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&rm.enqueueReplaceState(p,p.state,null),Ol(r,u,p,f),Pl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var S=r.memoizedProps,x=Jr(o,S);p.props=x;var G=p.context,Z=o.contextType;T=Ga,typeof Z=="object"&&Z!==null&&(T=Je(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||G!==T)&&F_(r,p,u,T),xs=!1;var K=r.memoizedState;p.state=K,Ol(r,u,p,f),Pl(),G=r.memoizedState,S||K!==G||xs?(typeof et=="function"&&(sm(r,o,et,u),G=r.memoizedState),(x=xs||z_(r,o,x,u,K,G,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=T,u=x):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,kd(i,r),T=r.memoizedProps,Z=Jr(o,T),p.props=Z,et=r.pendingProps,K=p.context,G=o.contextType,x=Ga,typeof G=="object"&&G!==null&&(x=Je(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==et||K!==x)&&F_(r,p,u,x),xs=!1,K=r.memoizedState,p.state=K,Ol(r,u,p,f),Pl();var $=r.memoizedState;T!==et||K!==$||xs||i!==null&&i.dependencies!==null&&qc(i.dependencies)?(typeof S=="function"&&(sm(r,o,S,u),$=r.memoizedState),(Z=xs||z_(r,o,Z,u,K,$,x)||i!==null&&i.dependencies!==null&&qc(i.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),p.props=u,p.state=$,p.context=x,u=Z):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,lh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=eo(r,i.child,null,f),r.child=eo(r,null,o,f)):Ge(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ts(i,r,f),i}function i0(i,r,o,u){return Rl(),r.flags|=256,Ge(i,r,o,u),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(i){return{baseLanes:i,cachePool:Hv()}}function cm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function s0(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Pe.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?Ms(r):Ns(),Ft){var S=fe,x;if(x=S){t:{for(x=S,S=gi;x.nodeType!==8;){if(!S){S=null;break t}if(x=Xn(x.nextSibling),x===null){S=null;break t}}S=x}S!==null?(r.memoizedState={dehydrated:S,treeContext:Gr!==null?{id:$i,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},x=En(18,null,null,0),x.stateNode=S,x.return=r,r.child=x,cn=r,fe=null,x=!0):x=!1}x||$r(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ym(S)?r.lanes=32:r.lanes=536870912,null;Ji(r)}return S=u.children,u=u.fallback,f?(Ns(),f=r.mode,S=uh({mode:"hidden",children:S},f),u=Hr(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=um(o),f.childLanes=cm(i,T,o),r.memoizedState=lm,u):(Ms(r),hm(r,S))}if(x=i.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(p)r.flags&256?(Ms(r),r.flags&=-257,r=fm(i,r,o)):r.memoizedState!==null?(Ns(),r.child=i.child,r.flags|=128,r=null):(Ns(),f=u.fallback,S=r.mode,u=uh({mode:"visible",children:u.children},S),f=Hr(f,S,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,eo(r,i.child,null,o),u=r.child,u.memoizedState=um(o),u.childLanes=cm(i,T,o),r.memoizedState=lm,r=f);else if(Ms(r),Ym(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(s(419)),u.stack="",u.digest=T,Cl({value:u,source:null,stack:null}),r=fm(i,r,o)}else if(Be||xl(i,r,o,!1),T=(o&i.childLanes)!==0,Be||T){if(T=te,T!==null&&(u=o&-o,u=(u&42)!==0?1:Ts(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,Ha(i,u),Rn(T,i,u),Q_;S.data==="$?"||Dm(),r=fm(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=x.treeContext,fe=Xn(S.nextSibling),cn=r,Ft=!0,Yr=null,gi=!1,i!==null&&(On[Ln++]=$i,On[Ln++]=Qi,On[Ln++]=Gr,$i=i.id,Qi=i.overflow,Gr=r),r=hm(r,u.children),r.flags|=4096);return r}return f?(Ns(),f=u.fallback,S=r.mode,x=i.child,G=x.sibling,u=Yi(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,G!==null?f=Yi(G,f):(f=Hr(f,S,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=i.child.memoizedState,S===null?S=um(o):(x=S.cachePool,x!==null?(G=Ne._currentValue,x=x.parent!==G?{parent:G,pool:G}:x):x=Hv(),S={baseLanes:S.baseLanes|o,cachePool:x}),f.memoizedState=S,f.childLanes=cm(i,T,o),r.memoizedState=lm,u):(Ms(r),o=i.child,i=o.sibling,o=Yi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function hm(i,r){return r=uh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function uh(i,r){return i=En(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function fm(i,r,o){return eo(r,i.child,null,o),i=hm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function r0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Dd(i.return,r,o)}function dm(i,r,o,u,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function a0(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Ge(i,r,u.children,o),u=Pe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&r0(i,o,r);else if(i.tag===19)r0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(at(Pe,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&rh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),dm(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&rh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}dm(r,!0,o,null,p);break;case"together":dm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ts(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Us|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(xl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Yi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Yi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function mm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&qc(i)))}function _C(i,r,o){switch(r.tag){case 3:Jt(r,r.stateNode.containerInfo),Cs(r,Ne,i.memoizedState.cache),Rl();break;case 27:case 5:_s(r);break;case 4:Jt(r,r.stateNode.containerInfo);break;case 10:Cs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ms(r),r.flags|=128,null):(o&r.child.childLanes)!==0?s0(i,r,o):(Ms(r),i=ts(i,r,o),i!==null?i.sibling:null);Ms(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(xl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return a0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Pe,Pe.current),u)break;return null;case 22:case 23:return r.lanes=0,J_(i,r,o);case 24:Cs(r,Ne,i.memoizedState.cache)}return ts(i,r,o)}function o0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Be=!0;else{if(!mm(i,o)&&(r.flags&128)===0)return Be=!1,_C(i,r,o);Be=(i.flags&131072)!==0}else Be=!1,Ft&&(r.flags&1048576)!==0&&kv(r,Fc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Sd(u)?(i=Jr(u,i),r.tag=1,r=n0(null,r,u,i,o)):(r.tag=0,r=om(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===lt){r.tag=11,r=X_(null,r,u,i,o);break t}else if(f===V){r.tag=14,r=W_(null,r,u,i,o);break t}}throw r=Ee(u)||u,Error(s(306,r,""))}}return r;case 0:return om(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Jr(u,r.pendingProps),n0(i,r,u,f,o);case 3:t:{if(Jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,kd(i,r),Ol(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Cs(r,Ne,u),u!==p.cache&&Vd(r,[Ne],o,!0),Pl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=i0(i,r,u,o);break t}else if(u!==f){f=Nn(Error(s(424)),r),Cl(f),r=i0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Xn(i.firstChild),cn=r,Ft=!0,Yr=null,gi=!0,o=B_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Rl(),u===f){r=ts(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return lh(i,r),i===null?(o=hT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=Sh(bt.current).createElement(o),u[De]=r,u[Ae]=i,Ye(u,o,i),pe(u),r.stateNode=u):r.memoizedState=hT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return _s(r),i===null&&Ft&&(u=r.stateNode=lT(r.type,r.pendingProps,bt.current),cn=r,gi=!0,f=fe,Fs(r.type)?($m=f,fe=Xn(u.firstChild)):fe=f),Ge(i,r,r.pendingProps.children,o),lh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=fe)&&(u=YC(u,r.type,r.pendingProps,gi),u!==null?(r.stateNode=u,cn=r,fe=Xn(u.firstChild),gi=!1,f=!0):f=!1),f||$r(r)),_s(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,Hm(f,p)?u=null:T!==null&&Hm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=qd(i,r,hC,null,null,o),iu._currentValue=f),lh(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=fe)&&(o=$C(o,r.pendingProps,gi),o!==null?(r.stateNode=o,cn=r,fe=null,i=!0):i=!1),i||$r(r)),null;case 13:return s0(i,r,o);case 4:return Jt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=eo(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return X_(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Cs(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Xr(r),f=Je(f),u=u(f),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return W_(i,r,r.type,r.pendingProps,o);case 15:return Z_(i,r,r.type,r.pendingProps,o);case 19:return a0(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=uh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Yi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return J_(i,r,o);case 24:return Xr(r),u=Je(Ne),i===null?(f=Pd(),f===null&&(f=te,p=Md(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Ld(r),Cs(r,Ne,f)):((i.lanes&o)!==0&&(kd(i,r),Ol(r,null,null,o),Pl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Cs(r,Ne,u)):(u=p.cache,Cs(r,Ne,u),u!==f.cache&&Vd(r,[Ne],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function es(i){i.flags|=4}function l0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gT(r)){if(r=kn.current,r!==null&&((Bt&4194048)===Bt?yi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==yi))throw Ml=Od,Gv;i.flags|=8192}}function ch(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?rl():536870912,i.lanes|=r,ro|=r)}function Fl(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function TC(i,r,o){var u=r.pendingProps;switch(Cd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wi(Ne),si(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(wl(r)?es(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(es(r),o!==null?(oe(r),l0(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(es(r),oe(r),l0(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==u&&es(r),oe(r),r.flags&=-16777217),null;case 27:Pi(r),o=bt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=yt.current,wl(r)?Uv(r):(i=lT(f,u,o),r.stateNode=i,es(r))}return oe(r),null;case 5:if(Pi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=yt.current,wl(r))Uv(r);else{switch(f=Sh(bt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[De]=r,i[Ae]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&es(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,wl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[De]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||eT(i.nodeValue,o)),i||$r(r)}else i=Sh(i).createTextNode(u),i[De]=r,r.stateNode=i}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=wl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[De]=r}else Rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=jv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ji(r),r):(Ji(r),null)}if(Ji(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),ch(r,r.updateQueue),oe(r),null;case 4:return si(),i===null&&Bm(r.stateNode.containerInfo),oe(r),null;case 10:return Wi(r.type),oe(r),null;case 19:if(ut(Pe),f=r.memoizedState,f===null)return oe(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)Fl(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=rh(i),p!==null){for(r.flags|=128,Fl(f,!1),i=p.updateQueue,r.updateQueue=i,ch(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Lv(o,i),o=o.sibling;return at(Pe,Pe.current&1|2),r.child}i=i.sibling}f.tail!==null&&Cn()>dh&&(r.flags|=128,u=!0,Fl(f,!1),r.lanes=4194304)}else{if(!u)if(i=rh(p),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,ch(r,i),Fl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ft)return oe(r),null}else 2*Cn()-f.renderingStartTime>dh&&o!==536870912&&(r.flags|=128,u=!0,Fl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,i=Pe.current,at(Pe,u?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return Ji(r),zd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&ch(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ut(Wr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Wi(Ne),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function EC(i,r){switch(Cd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Wi(Ne),si(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pi(r),null;case 13:if(Ji(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Rl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ut(Pe),null;case 4:return si(),null;case 10:return Wi(r.type),null;case 22:case 23:return Ji(r),zd(),i!==null&&ut(Wr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Wi(Ne),null;case 25:return null;default:return null}}function u0(i,r){switch(Cd(r),r.tag){case 3:Wi(Ne),si();break;case 26:case 27:case 5:Pi(r);break;case 4:si();break;case 13:Ji(r);break;case 19:ut(Pe);break;case 10:Wi(r.type);break;case 22:case 23:Ji(r),zd(),i!==null&&ut(Wr);break;case 24:Wi(Ne)}}function ql(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(S){Zt(r,r.return,S)}}function Ps(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var x=o,G=S;try{G()}catch(Z){Zt(f,x,Z)}}}u=u.next}while(u!==p)}}catch(Z){Zt(r,r.return,Z)}}function c0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Wv(r,o)}catch(u){Zt(i,i.return,u)}}}function h0(i,r,o){o.props=Jr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function Hl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Zt(i,r,f)}}function vi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function f0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function pm(i,r,o){try{var u=i.stateNode;FC(u,i.type,o,r),u[Ae]=r}catch(f){Zt(i,i.return,f)}}function d0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function gm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||d0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ym(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ah));else if(u!==4&&(u===27&&Fs(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(ym(i,r,o),i=i.sibling;i!==null;)ym(i,r,o),i=i.sibling}function hh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Fs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(hh(i,r,o),i=i.sibling;i!==null;)hh(i,r,o),i=i.sibling}function m0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,u,o),r[De]=i,r[Ae]=o}catch(p){Zt(i,i.return,p)}}var ns=!1,ye=!1,vm=!1,p0=typeof WeakSet=="function"?WeakSet:Set,je=null;function AC(i,r){if(i=i.containerInfo,Fm=Ih,i=Rv(i),gd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,S=-1,x=-1,G=0,Z=0,et=i,K=null;e:for(;;){for(var $;et!==o||f!==0&&et.nodeType!==3||(S=T+f),et!==p||u!==0&&et.nodeType!==3||(x=T+u),et.nodeType===3&&(T+=et.nodeValue.length),($=et.firstChild)!==null;)K=et,et=$;for(;;){if(et===i)break e;if(K===o&&++G===f&&(S=T),K===p&&++Z===u&&(x=T),($=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=$}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:i,selectionRange:o},Ih=!1,je=r;je!==null;)if(r=je,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,je=i;else for(;je!==null;){switch(r=je,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Et=Jr(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Et,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Km(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Km(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,je=i;break}je=r.return}}function g0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Os(i,o),u&4&&ql(5,o);break;case 1:if(Os(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var f=Jr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}u&64&&c0(o),u&512&&Hl(o,o.return);break;case 3:if(Os(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Wv(i,r)}catch(T){Zt(o,o.return,T)}}break;case 27:r===null&&u&4&&m0(o);case 26:case 5:Os(i,o),r===null&&u&4&&f0(o),u&512&&Hl(o,o.return);break;case 12:Os(i,o);break;case 13:Os(i,o),u&4&&_0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=VC.bind(null,o),QC(i,o))));break;case 22:if(u=o.memoizedState!==null||ns,!u){r=r!==null&&r.memoizedState!==null||ye,f=ns;var p=ye;ns=u,(ye=r)&&!p?Ls(i,o,(o.subtreeFlags&8772)!==0):Os(i,o),ns=f,ye=p}break;case 30:break;default:Os(i,o)}}function y0(i){var r=i.alternate;r!==null&&(i.alternate=null,y0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ss(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,mn=!1;function is(i,r,o){for(o=o.child;o!==null;)v0(i,r,o),o=o.sibling}function v0(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||vi(o,r),is(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||vi(o,r);var u=re,f=mn;Fs(o.type)&&(re=o.stateNode,mn=!1),is(i,r,o),Jl(o.stateNode),re=u,mn=f;break;case 5:ye||vi(o,r);case 6:if(u=re,f=mn,re=null,is(i,r,o),re=u,mn=f,re!==null)if(mn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(p){Zt(o,r,p)}else try{re.removeChild(o.stateNode)}catch(p){Zt(o,r,p)}break;case 18:re!==null&&(mn?(i=re,aT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ou(i)):aT(re,o.stateNode));break;case 4:u=re,f=mn,re=o.stateNode.containerInfo,mn=!0,is(i,r,o),re=u,mn=f;break;case 0:case 11:case 14:case 15:ye||Ps(2,o,r),ye||Ps(4,o,r),is(i,r,o);break;case 1:ye||(vi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&h0(o,r,u)),is(i,r,o);break;case 21:is(i,r,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,is(i,r,o),ye=u;break;default:is(i,r,o)}}function _0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ou(i)}catch(o){Zt(r,r.return,o)}}function SC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new p0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new p0),r;default:throw Error(s(435,i.tag))}}function _m(i,r){var o=SC(i);r.forEach(function(u){var f=MC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function An(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(Fs(S.type)){re=S.stateNode,mn=!1;break t}break;case 5:re=S.stateNode,mn=!1;break t;case 3:case 4:re=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(re===null)throw Error(s(160));v0(p,T,f),re=null,mn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)T0(r,i),r=r.sibling}var Qn=null;function T0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),Sn(i),u&4&&(Ps(3,i,i.return),ql(3,i),Ps(5,i,i.return));break;case 1:An(r,i),Sn(i),u&512&&(ye||o===null||vi(o,o.return)),u&64&&ns&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Qn;if(An(r,i),Sn(i),u&512&&(ye||o===null||vi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[xr]||p[De]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Ye(p,u,o),p[De]=i,pe(p),u=p;break t;case"link":var T=mT("link","href",f).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}p=f.createElement(u),Ye(p,u,o),f.head.appendChild(p);break;case"meta":if(T=mT("meta","content",f).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}p=f.createElement(u),Ye(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[De]=i,pe(p),u=p}i.stateNode=u}else pT(f,i.type,i.stateNode);else i.stateNode=dT(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?pT(f,i.type,i.stateNode):dT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&pm(i,i.memoizedProps,o.memoizedProps)}break;case 27:An(r,i),Sn(i),u&512&&(ye||o===null||vi(o,o.return)),o!==null&&u&4&&pm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(An(r,i),Sn(i),u&512&&(ye||o===null||vi(o,o.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch($){Zt(i,i.return,$)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,pm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(vm=!0);break;case 6:if(An(r,i),Sn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch($){Zt(i,i.return,$)}}break;case 3:if(Rh=null,f=Qn,Qn=bh(r.containerInfo),An(r,i),Qn=f,Sn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ou(r.containerInfo)}catch($){Zt(i,i.return,$)}vm&&(vm=!1,E0(i));break;case 4:u=Qn,Qn=bh(i.stateNode.containerInfo),An(r,i),Sn(i),Qn=u;break;case 12:An(r,i),Sn(i);break;case 13:An(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wm=Cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,_m(i,u)));break;case 22:f=i.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,G=ns,Z=ye;if(ns=G||f,ye=Z||x,An(r,i),ye=Z,ns=G,Sn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||x||ns||ye||ta(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){x=o=r;try{if(p=x.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=x.stateNode;var et=x.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Zt(x,x.return,$)}}}else if(r.tag===6){if(o===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch($){Zt(x,x.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_m(i,o))));break;case 19:An(r,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,_m(i,u)));break;case 30:break;case 21:break;default:An(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(d0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=gm(i);hh(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(In(T,""),o.flags&=-33);var S=gm(i);hh(i,S,T);break;case 3:case 4:var x=o.stateNode.containerInfo,G=gm(i);ym(i,G,x);break;default:throw Error(s(161))}}catch(Z){Zt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function E0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;E0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Os(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g0(i,r.alternate,r),r=r.sibling}function ta(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ps(4,r,r.return),ta(r);break;case 1:vi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&h0(r,r.return,o),ta(r);break;case 27:Jl(r.stateNode);case 26:case 5:vi(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}i=i.sibling}}function Ls(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ls(f,p,o),ql(4,p);break;case 1:if(Ls(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Zt(u,u.return,G)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Xv(x[f],S)}catch(G){Zt(u,u.return,G)}}o&&T&64&&c0(p),Hl(p,p.return);break;case 27:m0(p);case 26:case 5:Ls(f,p,o),o&&u===null&&T&4&&f0(p),Hl(p,p.return);break;case 12:Ls(f,p,o);break;case 13:Ls(f,p,o),o&&T&4&&_0(f,p);break;case 22:p.memoizedState===null&&Ls(f,p,o),Hl(p,p.return);break;case 30:break;default:Ls(f,p,o)}r=r.sibling}}function Tm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Il(o))}function Em(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Il(i))}function _i(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A0(i,r,o,u),r=r.sibling}function A0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(i,r,o,u),f&2048&&ql(9,r);break;case 1:_i(i,r,o,u);break;case 3:_i(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Il(i)));break;case 12:if(f&2048){_i(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Zt(r,r.return,x)}}else _i(i,r,o,u);break;case 13:_i(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?_i(i,r,o,u):Gl(i,r):p._visibility&2?_i(i,r,o,u):(p._visibility|=2,no(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&Tm(T,r);break;case 24:_i(i,r,o,u),f&2048&&Em(r.alternate,r);break;default:_i(i,r,o,u)}}function no(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,S=o,x=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:no(p,T,S,x,f),ql(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?no(p,T,S,x,f):Gl(p,T):(Z._visibility|=2,no(p,T,S,x,f)),f&&G&2048&&Tm(T.alternate,T);break;case 24:no(p,T,S,x,f),f&&G&2048&&Em(T.alternate,T);break;default:no(p,T,S,x,f)}r=r.sibling}}function Gl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Gl(o,u),f&2048&&Tm(u.alternate,u);break;case 24:Gl(o,u),f&2048&&Em(u.alternate,u);break;default:Gl(o,u)}r=r.sibling}}var Kl=8192;function io(i){if(i.subtreeFlags&Kl)for(i=i.child;i!==null;)S0(i),i=i.sibling}function S0(i){switch(i.tag){case 26:io(i),i.flags&Kl&&i.memoizedState!==null&&lx(Qn,i.memoizedState,i.memoizedProps);break;case 5:io(i);break;case 3:case 4:var r=Qn;Qn=bh(i.stateNode.containerInfo),io(i),Qn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Kl,Kl=16777216,io(i),Kl=r):io(i));break;default:io(i)}}function b0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Yl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];je=u,R0(u,i)}b0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)w0(i),i=i.sibling}function w0(i){switch(i.tag){case 0:case 11:case 15:Yl(i),i.flags&2048&&Ps(9,i,i.return);break;case 3:Yl(i);break;case 12:Yl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,fh(i)):Yl(i);break;default:Yl(i)}}function fh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];je=u,R0(u,i)}b0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ps(8,r,r.return),fh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,fh(r));break;default:fh(r)}i=i.sibling}}function R0(i,r){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:Ps(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,je=u;else t:for(o=i;je!==null;){u=je;var f=u.sibling,p=u.return;if(y0(u),u===o){je=null;break t}if(f!==null){f.return=p,je=f;break t}je=p}}}var bC={getCacheForType:function(i){var r=Je(Ne),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},wC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Mt=null,Bt=0,Yt=0,bn=null,ks=!1,so=!1,Am=!1,ss=0,de=0,Us=0,ea=0,Sm=0,Un=0,ro=0,$l=null,pn=null,bm=!1,wm=0,dh=1/0,mh=null,Bs=null,Ke=0,js=null,ao=null,oo=0,Rm=0,Cm=null,C0=null,Ql=0,xm=null;function wn(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(W.T!==null){var i=$a;return i!==0?i:Om()}return Es()}function x0(){Un===0&&(Un=(Bt&536870912)===0||Ft?sl():536870912);var i=kn.current;return i!==null&&(i.flags|=32),Un}function Rn(i,r,o){(i===te&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(lo(i,0),zs(i,Bt,Un,!1)),Li(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(ea|=o),de===4&&zs(i,Bt,Un,!1)),Ti(i))}function I0(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Cr(i,r),f=u?xC(i,r):Vm(i,r,!0),p=u;do{if(f===0){so&&!u&&zs(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!RC(o)){f=Vm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;f=$l;var x=S.current.memoizedState.isDehydrated;if(x&&(lo(S,T).flags|=256),T=Vm(S,T,!1),T!==2){if(Am&&!x){S.errorRecoveryDisabledLanes|=p,ea|=p,f=4;break t}p=pn,pn=f,p!==null&&(pn===null?pn=p:pn.push.apply(pn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){lo(i,0),zs(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:zs(u,r,Un,!ks);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wm+300-Cn(),10<f)){if(zs(u,r,Un,!ks),wa(u,0,!0)!==0)break t;u.timeoutHandle=sT(D0.bind(null,u,o,pn,mh,bm,r,Un,ea,ro,ks,p,2,-0,0),f);break t}D0(u,o,pn,mh,bm,r,Un,ea,ro,ks,p,0,-0,0)}}break}while(!0);Ti(i)}function D0(i,r,o,u,f,p,T,S,x,G,Z,et,K,$){if(i.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:ox},S0(r),et=ux(),et!==null)){i.cancelPendingCommit=et(k0.bind(null,i,r,p,o,u,f,T,S,x,Z,1,K,$)),zs(i,p,T,!G);return}k0(i,r,p,o,u,f,T,S,x)}function RC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Tn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zs(i,r,o,u){r&=~Sm,r&=~ea,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-Ze(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&ri(i,o,r)}function ph(){return(Kt&6)===0?(Xl(0),!1):!0}function Im(){if(Mt!==null){if(Yt===0)var i=Mt.return;else i=Mt,Xi=Qr=null,Kd(i),to=null,jl=0,i=Mt;for(;i!==null;)u0(i.alternate,i),i=i.return;Mt=null}}function lo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,HC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Im(),te=i,Mt=o=Yi(i.current,null),Bt=r,Yt=0,bn=null,ks=!1,so=Cr(i,r),Am=!1,ro=Un=Sm=ea=Us=de=0,pn=$l=null,bm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ze(u),p=1<<f;r|=i[f],u&=~p}return ss=r,kc(),o}function V0(i,r){It=null,W.H=nh,r===Vl||r===Kc?(r=$v(),Yt=3):r===Gv?(r=$v(),Yt=4):Yt=r===Q_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Mt===null&&(de=1,oh(i,Nn(r,i.current)))}function M0(){var i=W.H;return W.H=nh,i===null?nh:i}function N0(){var i=W.A;return W.A=bC,i}function Dm(){de=4,ks||(Bt&4194048)!==Bt&&kn.current!==null||(so=!0),(Us&134217727)===0&&(ea&134217727)===0||te===null||zs(te,Bt,Un,!1)}function Vm(i,r,o){var u=Kt;Kt|=2;var f=M0(),p=N0();(te!==i||Bt!==r)&&(mh=null,lo(i,r)),r=!1;var T=de;t:do try{if(Yt!==0&&Mt!==null){var S=Mt,x=bn;switch(Yt){case 8:Im(),T=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var G=Yt;if(Yt=0,bn=null,uo(i,S,x,G),o&&so){T=0;break t}break;default:G=Yt,Yt=0,bn=null,uo(i,S,x,G)}}CC(),T=de;break}catch(Z){V0(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Xi=Qr=null,Kt=u,W.H=f,W.A=p,Mt===null&&(te=null,Bt=0,kc()),T}function CC(){for(;Mt!==null;)P0(Mt)}function xC(i,r){var o=Kt;Kt|=2;var u=M0(),f=N0();te!==i||Bt!==r?(mh=null,dh=Cn()+500,lo(i,r)):so=Cr(i,r);t:do try{if(Yt!==0&&Mt!==null){r=Mt;var p=bn;e:switch(Yt){case 1:Yt=0,bn=null,uo(i,r,p,1);break;case 2:case 9:if(Kv(p)){Yt=0,bn=null,O0(r);break}r=function(){Yt!==2&&Yt!==9||te!==i||(Yt=7),Ti(i)},p.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Kv(p)?(Yt=0,bn=null,O0(r)):(Yt=0,bn=null,uo(i,r,p,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var S=Mt;if(!T||gT(T)){Yt=0,bn=null;var x=S.sibling;if(x!==null)Mt=x;else{var G=S.return;G!==null?(Mt=G,gh(G)):Mt=null}break e}}Yt=0,bn=null,uo(i,r,p,5);break;case 6:Yt=0,bn=null,uo(i,r,p,6);break;case 8:Im(),de=6;break t;default:throw Error(s(462))}}IC();break}catch(Z){V0(i,Z)}while(!0);return Xi=Qr=null,W.H=u,W.A=f,Kt=o,Mt!==null?0:(te=null,Bt=0,kc(),de)}function IC(){for(;Mt!==null&&!tl();)P0(Mt)}function P0(i){var r=o0(i.alternate,i,ss);i.memoizedProps=i.pendingProps,r===null?gh(i):Mt=r}function O0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=e0(o,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=e0(o,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Kd(r);default:u0(o,r),r=Mt=Lv(r,ss),r=o0(o,r,ss)}i.memoizedProps=i.pendingProps,r===null?gh(i):Mt=r}function uo(i,r,o,u){Xi=Qr=null,Kd(r),to=null,jl=0;var f=r.return;try{if(vC(i,f,r,o,Bt)){de=1,oh(i,Nn(o,i.current)),Mt=null;return}}catch(p){if(f!==null)throw Mt=f,p;de=1,oh(i,Nn(o,i.current)),Mt=null;return}r.flags&32768?(Ft||u===1?i=!0:so||(Bt&536870912)!==0?i=!1:(ks=i=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),L0(r,i)):gh(r)}function gh(i){var r=i;do{if((r.flags&32768)!==0){L0(r,ks);return}i=r.return;var o=TC(r.alternate,r,ss);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);de===0&&(de=5)}function L0(i,r){do{var o=EC(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);de=6,Mt=null}function k0(i,r,o,u,f,p,T,S,x){i.cancelPendingCommit=null;do yh();while(Ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Ed,al(i,o,p,T,S,x),i===te&&(Mt=te=null,Bt=0),ao=r,js=i,oo=o,Rm=p,Cm=f,C0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,NC(Sr,function(){return F0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=rt.p,rt.p=2,T=Kt,Kt|=4;try{AC(i,r,o)}finally{Kt=T,rt.p=f,W.T=u}}Ke=1,U0(),B0(),j0()}}function U0(){if(Ke===1){Ke=0;var i=js,r=ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Kt;Kt|=4;try{T0(r,i);var p=qm,T=Rv(i.containerInfo),S=p.focusedElem,x=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&wv(S.ownerDocument.documentElement,S)){if(x!==null&&gd(S)){var G=x.start,Z=x.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var et=S.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var $=K.getSelection(),Et=S.textContent.length,vt=Math.min(x.start,Et),Wt=x.end===void 0?vt:Math.min(x.end,Et);!$.extend&&vt>Wt&&(T=Wt,Wt=vt,vt=T);var k=bv(S,vt),P=bv(S,Wt);if(k&&P&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var H=et.createRange();H.setStart(k.node,k.offset),$.removeAllRanges(),vt>Wt?($.addRange(H),$.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),$.addRange(H))}}}}for(et=[],$=S;$=$.parentNode;)$.nodeType===1&&et.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var J=et[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ih=!!Fm,qm=Fm=null}finally{Kt=f,rt.p=u,W.T=o}}i.current=r,Ke=2}}function B0(){if(Ke===2){Ke=0;var i=js,r=ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Kt;Kt|=4;try{g0(i,r.alternate,r)}finally{Kt=f,rt.p=u,W.T=o}}Ke=3}}function j0(){if(Ke===4||Ke===3){Ke=0,fc();var i=js,r=ao,o=oo,u=C0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,ao=js=null,z0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Bs=null),Ra(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=rt.p,rt.p=2,W.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var S=u[T];p(S.value,{componentStack:S.stack})}}finally{W.T=r,rt.p=f}}(oo&3)!==0&&yh(),Ti(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===xm?Ql++:(Ql=0,xm=i):Ql=0,Xl(0)}}function z0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Il(r)))}function yh(i){return U0(),B0(),j0(),F0()}function F0(){if(Ke!==5)return!1;var i=js,r=Rm;Rm=0;var o=Ra(oo),u=W.T,f=rt.p;try{rt.p=32>o?32:o,W.T=null,o=Cm,Cm=null;var p=js,T=oo;if(Ke=0,ao=js=null,oo=0,(Kt&6)!==0)throw Error(s(331));var S=Kt;if(Kt|=4,w0(p.current),A0(p,p.current,T,o),Kt=S,Xl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,p)}catch{}return!0}finally{rt.p=f,W.T=u,z0(i,r)}}function q0(i,r,o){r=Nn(o,r),r=am(i.stateNode,r,2),i=Ds(i,r,2),i!==null&&(Li(i,2),Ti(i))}function Zt(i,r,o){if(i.tag===3)q0(i,i,o);else for(;r!==null;){if(r.tag===3){q0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bs===null||!Bs.has(u))){i=Nn(o,i),o=Y_(2),u=Ds(r,o,2),u!==null&&($_(o,u,r,i),Li(u,2),Ti(u));break}}r=r.return}}function Mm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new wC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Am=!0,f.add(o),i=DC.bind(null,i,r,o),r.then(i,i))}function DC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(Bt&o)===o&&(de===4||de===3&&(Bt&62914560)===Bt&&300>Cn()-wm?(Kt&2)===0&&lo(i,0):Sm|=o,ro===Bt&&(ro=0)),Ti(i)}function H0(i,r){r===0&&(r=rl()),i=Ha(i,r),i!==null&&(Li(i,r),Ti(i))}function VC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),H0(i,o)}function MC(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),H0(i,o)}function NC(i,r){return Er(i,r)}var vh=null,co=null,Nm=!1,_h=!1,Pm=!1,na=0;function Ti(i){i!==co&&i.next===null&&(co===null?vh=co=i:co=co.next=i),_h=!0,Nm||(Nm=!0,OC())}function Xl(i,r){if(!Pm&&_h){Pm=!0;do for(var o=!1,u=vh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Ze(42|i)+1)-1,p&=f&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,$0(u,p))}else p=Bt,p=wa(u,u===te?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Cr(u,p)||(o=!0,$0(u,p));u=u.next}while(o);Pm=!1}}function PC(){G0()}function G0(){_h=Nm=!1;var i=0;na!==0&&(qC()&&(i=na),na=0);for(var r=Cn(),o=null,u=vh;u!==null;){var f=u.next,p=K0(u,r);p===0?(u.next=null,o===null?vh=f:o.next=f,f===null&&(co=o)):(o=u,(i!==0||(p&3)!==0)&&(_h=!0)),u=f}Xl(i)}function K0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Ze(p),S=1<<T,x=f[T];x===-1?((S&o)===0||(S&u)!==0)&&(f[T]=il(S,r)):x<=r&&(i.expiredLanes|=S),p&=~S}if(r=te,o=Bt,o=wa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ar(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Cr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ar(u),Ra(o)){case 2:case 8:o=Sa;break;case 32:o=Sr;break;case 268435456:o=ba;break;default:o=Sr}return u=Y0.bind(null,i),o=Er(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ar(u),i.callbackPriority=2,i.callbackNode=null,2}function Y0(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(yh()&&i.callbackNode!==o)return null;var u=Bt;return u=wa(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(I0(i,u,r),K0(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?Y0.bind(null,i):null)}function $0(i,r){if(yh())return null;I0(i,r,!0)}function OC(){GC(function(){(Kt&6)!==0?Er(el,PC):G0()})}function Om(){return na===0&&(na=sl()),na}function Q0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ma(""+i)}function X0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function LC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=Q0((f[Ae]||null).action),T=u.submitter;T&&(r=(r=T[Ae]||null)?Q0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var S=new Na("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(na!==0){var x=T?X0(f,T):new FormData(f);em(o,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(S.preventDefault(),x=T?X0(f,T):new FormData(f),em(o,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var Lm=0;Lm<Td.length;Lm++){var km=Td[Lm],kC=km.toLowerCase(),UC=km[0].toUpperCase()+km.slice(1);$n(kC,"on"+UC)}$n(Iv,"onAnimationEnd"),$n(Dv,"onAnimationIteration"),$n(Vv,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(eC,"onTransitionRun"),$n(nC,"onTransitionStart"),$n(iC,"onTransitionCancel"),$n(Mv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function W0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var S=u[T],x=S.instance,G=S.currentTarget;if(S=S.listener,x!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=G;try{p(f)}catch(Z){ah(Z)}f.currentTarget=null,p=x}else for(T=0;T<u.length;T++){if(S=u[T],x=S.instance,G=S.currentTarget,S=S.listener,x!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=G;try{p(f)}catch(Z){ah(Z)}f.currentTarget=null,p=x}}}}function Nt(i,r){var o=r[ll];o===void 0&&(o=r[ll]=new Set);var u=i+"__bubble";o.has(u)||(Z0(r,i,2,!1),o.add(u))}function Um(i,r,o){var u=0;r&&(u|=4),Z0(o,i,u,r)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Bm(i){if(!i[Th]){i[Th]=!0,ul.forEach(function(o){o!=="selectionchange"&&(BC.has(o)||Um(o,!1,i),Um(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Th]||(r[Th]=!0,Um("selectionchange",!1,r))}}function Z0(i,r,o,u){switch(AT(r)){case 2:var f=fx;break;case 8:f=dx;break;default:f=Jm}o=f.bind(null,r,o,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function jm(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=ki(S),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){u=p=T;continue t}S=S.parentNode}}u=u.return}Ac(function(){var G=p,Z=Dn(o),et=[];t:{var K=Nv.get(i);if(K!==void 0){var $=Na,Et=i;switch(i){case"keypress":if(hi(o)===0)break t;case"keydown":case"keyup":$=Ba;break;case"focusin":Et="focus",$=La;break;case"focusout":Et="blur",$=La;break;case"beforeblur":case"afterblur":$=La;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Dc;break;case Iv:case Dv:case Vv:$=ka;break;case Mv:$=Mc;break;case"scroll":case"scrollend":$=Sc;break;case"wheel":$=ja;break;case"copy":case"cut":case"paste":$=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=El;break;case"toggle":case"beforetoggle":$=Pc}var vt=(r&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),k=vt?K!==null?K+"Capture":null:K;vt=[];for(var P=G,H;P!==null;){var J=P;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||k===null||(J=Or(P,k),J!=null&&vt.push(Zl(P,J,H))),Wt)break;P=P.return}0<vt.length&&(K=new $(K,Et,null,o,Z),et.push({event:K,listeners:vt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",K&&o!==zi&&(Et=o.relatedTarget||o.fromElement)&&(ki(Et)||Et[xn]))break t;if(($||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Et=o.relatedTarget||o.toElement,$=G,Et=Et?ki(Et):null,Et!==null&&(Wt=l(Et),vt=Et.tag,Et!==Wt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):($=null,Et=G),$!==Et)){if(vt=Mn,J="onMouseLeave",k="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(vt=El,J="onPointerLeave",k="onPointerEnter",P="pointer"),Wt=$==null?K:oi($),H=Et==null?K:oi(Et),K=new vt(J,P+"leave",$,o,Z),K.target=Wt,K.relatedTarget=H,J=null,ki(Z)===G&&(vt=new vt(k,P+"enter",Et,o,Z),vt.target=H,vt.relatedTarget=Wt,J=vt),Wt=J,$&&Et)e:{for(vt=$,k=Et,P=0,H=vt;H;H=ho(H))P++;for(H=0,J=k;J;J=ho(J))H++;for(;0<P-H;)vt=ho(vt),P--;for(;0<H-P;)k=ho(k),H--;for(;P--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=ho(vt),k=ho(k)}vt=null}else vt=null;$!==null&&J0(et,K,$,vt,!1),Et!==null&&Wt!==null&&J0(et,Wt,Et,vt,!0)}}t:{if(K=G?oi(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var mt=vv;else if(Me(K))if(_v)mt=ZR;else{mt=XR;var Vt=QR}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&ml(G.elementType)&&(mt=vv):mt=WR;if(mt&&(mt=mt(i,G))){Ki(et,mt,o,Z);break t}Vt&&Vt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&ws(K,"number",K.value)}switch(Vt=G?oi(G):window,i){case"focusin":(Me(Vt)||Vt.contentEditable==="true")&&(za=Vt,yd=G,bl=null);break;case"focusout":bl=yd=za=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Cv(et,o,Z);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":Cv(et,o,Z)}var pt;if(mi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else kt?X(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(_&&o.locale!=="ko"&&(kt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&kt&&(pt=gl()):(ci=Z,Rs="value"in ci?ci.value:ci.textContent,kt=!0)),Vt=Eh(G,_t),0<Vt.length&&(_t=new _l(_t,i,null,o,Z),et.push({event:_t,listeners:Vt}),pt?_t.data=pt:(pt=ot(o),pt!==null&&(_t.data=pt)))),(pt=v?Ve(i,o):Ut(i,o))&&(_t=Eh(G,"onBeforeInput"),0<_t.length&&(Vt=new _l("onBeforeInput","beforeinput",null,o,Z),et.push({event:Vt,listeners:_t}),Vt.data=pt)),LC(et,i,G,o,Z)}W0(et,r)})}function Zl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Eh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Or(i,o),f!=null&&u.unshift(Zl(i,f,p)),f=Or(i,r),f!=null&&u.push(Zl(i,f,p))),i.tag===3)return u;i=i.return}return[]}function ho(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J0(i,r,o,u,f){for(var p=r._reactName,T=[];o!==null&&o!==u;){var S=o,x=S.alternate,G=S.stateNode;if(S=S.tag,x!==null&&x===u)break;S!==5&&S!==26&&S!==27||G===null||(x=G,f?(G=Or(o,p),G!=null&&T.unshift(Zl(o,G,x))):f||(G=Or(o,p),G!=null&&T.push(Zl(o,G,x)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var jC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function tT(i){return(typeof i=="string"?i:""+i).replace(jC,`
`).replace(zC,"")}function eT(i,r){return r=tT(r),tT(i)===r}function Ah(){}function Xt(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(i,""+u);break;case"className":li(i,"class",u);break;case"tabIndex":li(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":li(i,o,u);break;case"style":dl(i,u,p);break;case"data":if(r!=="object"){li(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ma(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Xt(i,r,"name",f.name,f,null),Xt(i,r,"formEncType",f.formEncType,f,null),Xt(i,r,"formMethod",f.formMethod,f,null),Xt(i,r,"formTarget",f.formTarget,f,null)):(Xt(i,r,"encType",f.encType,f,null),Xt(i,r,"method",f.method,f,null),Xt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ma(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ah);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ma(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),bs(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":bs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=cd.get(o)||o,bs(i,o,u))}}function zm(i,r,o,u,f,p){switch(o){case"style":dl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?In(i,u):(typeof u=="number"||typeof u=="bigint")&&In(i,""+u);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Ae]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):bs(i,o,u)}}}function Ye(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,p,T,o,null)}}f&&Xt(i,r,"srcSet",o.srcSet,o,null),u&&Xt(i,r,"src",o.src,o,null);return;case"input":Nt("invalid",i);var S=p=T=f=null,x=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":T=Z;break;case"checked":x=Z;break;case"defaultChecked":G=Z;break;case"value":p=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Xt(i,r,u,Z,o,null)}}Mr(i,p,S,x,G,T,f,!1),Va(i);return;case"select":Nt("invalid",i),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:Xt(i,r,f,S,o,null)}r=p,o=T,i.multiple=!!u,r!=null?ji(i,!!u,r,!1):o!=null&&ji(i,!!u,o,!0);return;case"textarea":Nt("invalid",i),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xt(i,r,T,S,o,null)}Nr(i,u,f,p),Va(i);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xt(i,r,x,u,o,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(u=0;u<Wl.length;u++)Nt(Wl[u],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,G,u,o,null)}return;default:if(ml(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&zm(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Xt(i,r,S,u,o,null))}function FC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,S=null,x=null,G=null,Z=null;for($ in o){var et=o[$];if(o.hasOwnProperty($)&&et!=null)switch($){case"checked":break;case"value":break;case"defaultValue":x=et;default:u.hasOwnProperty($)||Xt(i,r,$,null,u,et)}}for(var K in u){var $=u[K];if(et=o[K],u.hasOwnProperty(K)&&($!=null||et!=null))switch(K){case"type":p=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":Z=$;break;case"value":T=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==et&&Xt(i,r,K,$,u,et)}}_n(i,T,S,x,G,Z,p,f);return;case"select":$=T=S=K=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":$=x;default:u.hasOwnProperty(p)||Xt(i,r,p,null,u,x)}for(f in u)if(p=u[f],x=o[f],u.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==x&&Xt(i,r,f,p,u,x)}r=S,o=T,u=$,K!=null?ji(i,!!o,K,!1):!!u!=!!o&&(r!=null?ji(i,!!o,r,!0):ji(i,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xt(i,r,S,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Xt(i,r,T,f,u,p)}$t(i,K,$);return;case"option":for(var Et in o)if(K=o[Et],o.hasOwnProperty(Et)&&K!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Xt(i,r,Et,null,u,K)}for(x in u)if(K=u[x],$=o[x],u.hasOwnProperty(x)&&K!==$&&(K!=null||$!=null))switch(x){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Xt(i,r,x,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Xt(i,r,vt,null,u,K);for(G in u)if(K=u[G],$=o[G],u.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Xt(i,r,G,K,u,$)}return;default:if(ml(r)){for(var Wt in o)K=o[Wt],o.hasOwnProperty(Wt)&&K!==void 0&&!u.hasOwnProperty(Wt)&&zm(i,r,Wt,void 0,u,K);for(Z in u)K=u[Z],$=o[Z],!u.hasOwnProperty(Z)||K===$||K===void 0&&$===void 0||zm(i,r,Z,K,u,$);return}}for(var k in o)K=o[k],o.hasOwnProperty(k)&&K!=null&&!u.hasOwnProperty(k)&&Xt(i,r,k,null,u,K);for(et in u)K=u[et],$=o[et],!u.hasOwnProperty(et)||K===$||K==null&&$==null||Xt(i,r,et,K,u,$)}var Fm=null,qm=null;function Sh(i){return i.nodeType===9?i:i.ownerDocument}function nT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Hm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gm=null;function qC(){var i=window.event;return i&&i.type==="popstate"?i===Gm?!1:(Gm=i,!0):(Gm=null,!1)}var sT=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,rT=typeof Promise=="function"?Promise:void 0,GC=typeof queueMicrotask=="function"?queueMicrotask:typeof rT<"u"?function(i){return rT.resolve(null).then(i).catch(KC)}:sT;function KC(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function aT(i,r){var o=r,u=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var T=i.ownerDocument;if(o&1&&Jl(T.documentElement),o&2&&Jl(T.body),o&4)for(o=T.head,Jl(o),T=o.firstChild;T;){var S=T.nextSibling,x=T.nodeName;T[xr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){i.removeChild(p),ou(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);ou(r)}function Km(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Km(o),Ss(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function YC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[xr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Xn(i.nextSibling),i===null)break}return null}function $C(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Xn(i.nextSibling),i===null))return null;return i}function Ym(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function QC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Xn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var $m=null;function oT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function lT(i,r,o){switch(r=Sh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Jl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ss(i)}var Bn=new Map,uT=new Set;function bh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rs=rt.d;rt.d={f:XC,r:WC,D:ZC,C:JC,L:tx,m:ex,X:ix,S:nx,M:sx};function XC(){var i=rs.f(),r=ph();return i||r}function WC(i){var r=ai(i);r!==null&&r.tag===5&&r.type==="form"?I_(r):rs.r(i)}var fo=typeof document>"u"?null:document;function cT(i,r,o){var u=fo;if(u&&typeof r=="string"&&r){var f=Se(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),uT.has(f)||(uT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ye(r,"link",i),pe(r),u.head.appendChild(r)))}}function ZC(i){rs.D(i),cT("dns-prefetch",i,null)}function JC(i,r){rs.C(i,r),cT("preconnect",i,r)}function tx(i,r,o){rs.L(i,r,o);var u=fo;if(u&&i&&r){var f='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Se(o.imageSizes)+'"]')):f+='[href="'+Se(i)+'"]';var p=f;switch(r){case"style":p=mo(i);break;case"script":p=po(i)}Bn.has(p)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Bn.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(tu(p))||r==="script"&&u.querySelector(eu(p))||(r=u.createElement("link"),Ye(r,"link",i),pe(r),u.head.appendChild(r)))}}function ex(i,r){rs.m(i,r);var o=fo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=po(i)}if(!Bn.has(p)&&(i=y({rel:"modulepreload",href:i},r),Bn.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(eu(p)))return}u=o.createElement("link"),Ye(u,"link",i),pe(u),o.head.appendChild(u)}}}function nx(i,r,o){rs.S(i,r,o);var u=fo;if(u&&i){var f=on(u).hoistableStyles,p=mo(i);r=r||"default";var T=f.get(p);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(tu(p)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Bn.get(p))&&Qm(i,o);var x=T=u.createElement("link");pe(x),Ye(x,"link",i),x._p=new Promise(function(G,Z){x.onload=G,x.onerror=Z}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(p,T)}}}function ix(i,r){rs.X(i,r);var o=fo;if(o&&i){var u=on(o).hoistableScripts,f=po(i),p=u.get(f);p||(p=o.querySelector(eu(f)),p||(i=y({src:i,async:!0},r),(r=Bn.get(f))&&Xm(i,r),p=o.createElement("script"),pe(p),Ye(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function sx(i,r){rs.M(i,r);var o=fo;if(o&&i){var u=on(o).hoistableScripts,f=po(i),p=u.get(f);p||(p=o.querySelector(eu(f)),p||(i=y({src:i,async:!0,type:"module"},r),(r=Bn.get(f))&&Xm(i,r),p=o.createElement("script"),pe(p),Ye(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function hT(i,r,o,u){var f=(f=bt.current)?bh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=mo(o.href),o=on(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=mo(o.href);var p=on(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(tu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Bn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(i,o),p||rx(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(o),o=on(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function mo(i){return'href="'+Se(i)+'"'}function tu(i){return'link[rel="stylesheet"]['+i+"]"}function fT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function rx(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ye(r,"link",o),pe(r),i.head.appendChild(r))}function po(i){return'[src="'+Se(i)+'"]'}function eu(i){return"script[async]"+i}function dT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Se(o.href)+'"]');if(u)return r.instance=u,pe(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Ye(u,"style",f),wh(u,o.precedence,i),r.instance=u;case"stylesheet":f=mo(o.href);var p=i.querySelector(tu(f));if(p)return r.state.loading|=4,r.instance=p,pe(p),p;u=fT(o),(f=Bn.get(f))&&Qm(u,f),p=(i.ownerDocument||i).createElement("link"),pe(p);var T=p;return T._p=new Promise(function(S,x){T.onload=S,T.onerror=x}),Ye(p,"link",u),r.state.loading|=4,wh(p,o.precedence,i),r.instance=p;case"script":return p=po(o.src),(f=i.querySelector(eu(p)))?(r.instance=f,pe(f),f):(u=o,(f=Bn.get(p))&&(u=y({},o),Xm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ye(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,wh(u,o.precedence,i));return r.instance}function wh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Qm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Rh=null;function mT(i,r,o){if(Rh===null){var u=new Map,f=Rh=new Map;f.set(o,u)}else f=Rh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[xr]||p[De]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var S=u.get(T);S?S.push(p):u.set(T,[p])}}return u}function pT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function ax(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function gT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var nu=null;function ox(){}function lx(i,r,o){if(nu===null)throw Error(s(475));var u=nu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=mo(o.href),p=i.querySelector(tu(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ch.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=p,pe(p);return}p=i.ownerDocument||i,o=fT(o),(f=Bn.get(f))&&Qm(o,f),p=p.createElement("link"),pe(p);var T=p;T._p=new Promise(function(S,x){T.onload=S,T.onerror=x}),Ye(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Ch.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function ux(){if(nu===null)throw Error(s(475));var i=nu;return i.stylesheets&&i.count===0&&Wm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Wm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var xh=null;function Wm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,xh=new Map,r.forEach(cx,i),xh=null,Ch.call(i))}function cx(i,r){if(!(r.state.loading&4)){var o=xh.get(i);if(o)var u=o.get(null);else{o=new Map,xh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=Ch.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var iu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function hx(i,r,o,u,f,p,T,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function yT(i,r,o,u,f,p,T,S,x,G,Z,et){return i=new hx(i,r,o,T,S,x,G,et),r=1,p===!0&&(r|=24),p=En(3,null,null,r),i.current=p,p.stateNode=i,r=Md(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Ld(p),i}function vT(i){return i?(i=Ga,i):Ga}function _T(i,r,o,u,f,p){f=vT(f),u.context===null?u.context=f:u.pendingContext=f,u=Is(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ds(i,u,r),o!==null&&(Rn(o,i,r),Nl(o,i,r))}function TT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Zm(i,r){TT(i,r),(i=i.alternate)&&TT(i,r)}function ET(i){if(i.tag===13){var r=Ha(i,67108864);r!==null&&Rn(r,i,67108864),Zm(i,67108864)}}var Ih=!0;function fx(i,r,o,u){var f=W.T;W.T=null;var p=rt.p;try{rt.p=2,Jm(i,r,o,u)}finally{rt.p=p,W.T=f}}function dx(i,r,o,u){var f=W.T;W.T=null;var p=rt.p;try{rt.p=8,Jm(i,r,o,u)}finally{rt.p=p,W.T=f}}function Jm(i,r,o,u){if(Ih){var f=tp(u);if(f===null)jm(i,r,u,Dh,o),ST(i,u);else if(px(f,i,r,o,u))u.stopPropagation();else if(ST(i,u),r&4&&-1<mx.indexOf(i)){for(;f!==null;){var p=ai(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Gn(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var x=1<<31-Ze(T);S.entanglements[1]|=x,T&=~x}Ti(p),(Kt&6)===0&&(dh=Cn()+500,Xl(0))}}break;case 13:S=Ha(p,2),S!==null&&Rn(S,p,2),ph(),Zm(p,2)}if(p=tp(u),p===null&&jm(i,r,u,Dh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else jm(i,r,u,null,o)}}function tp(i){return i=Dn(i),ep(i)}var Dh=null;function ep(i){if(Dh=null,i=ki(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Dh=i,null}function AT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sd()){case el:return 2;case Sa:return 8;case Sr:case rd:return 32;case ba:return 268435456;default:return 32}default:return 32}}var np=!1,qs=null,Hs=null,Gs=null,su=new Map,ru=new Map,Ks=[],mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ST(i,r){switch(i){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":su.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(r.pointerId)}}function au(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=ai(r),r!==null&&ET(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function px(i,r,o,u,f){switch(r){case"focusin":return qs=au(qs,i,r,o,u,f),!0;case"dragenter":return Hs=au(Hs,i,r,o,u,f),!0;case"mouseover":return Gs=au(Gs,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return su.set(p,au(su.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,ru.set(p,au(ru.get(p)||null,i,r,o,u,f)),!0}return!1}function bT(i){var r=ki(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,pc(i.priority,function(){if(o.tag===13){var u=wn();u=Ts(u);var f=Ha(o,u);f!==null&&Rn(f,o,u),Zm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);zi=u,o.target.dispatchEvent(u),zi=null}else return r=ai(o),r!==null&&ET(r),i.blockedOn=o,!1;r.shift()}return!0}function wT(i,r,o){Vh(i)&&o.delete(r)}function gx(){np=!1,qs!==null&&Vh(qs)&&(qs=null),Hs!==null&&Vh(Hs)&&(Hs=null),Gs!==null&&Vh(Gs)&&(Gs=null),su.forEach(wT),ru.forEach(wT)}function Mh(i,r){i.blockedOn===r&&(i.blockedOn=null,np||(np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gx)))}var Nh=null;function RT(i){Nh!==i&&(Nh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nh===i&&(Nh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(ep(u||o)===null)continue;break}var p=ai(o);p!==null&&(i.splice(r,3),r-=3,em(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ou(i){function r(x){return Mh(x,i)}qs!==null&&Mh(qs,i),Hs!==null&&Mh(Hs,i),Gs!==null&&Mh(Gs,i),su.forEach(r),ru.forEach(r);for(var o=0;o<Ks.length;o++){var u=Ks[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ks.length&&(o=Ks[0],o.blockedOn===null);)bT(o),o.blockedOn===null&&Ks.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[Ae]||null;if(typeof p=="function")T||RT(o);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Ae]||null)S=T.formAction;else if(ep(f)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),RT(o)}}}function ip(i){this._internalRoot=i}Ph.prototype.render=ip.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=wn();_T(o,u,i,r,null,null)},Ph.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;_T(i.current,2,null,i,null,null),ph(),r[xn]=null}};function Ph(i){this._internalRoot=i}Ph.prototype.unstable_scheduleHydration=function(i){if(i){var r=Es();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ks.length&&r!==0&&r<Ks[o].priority;o++);Ks.splice(o,0,i),o===0&&bT(i)}};var CT=t.version;if(CT!=="19.1.1")throw Error(s(527,CT,"19.1.1"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var yx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{he=Oh.inject(yx),Gt=Oh}catch{}}return uu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=q_,p=H_,T=G_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=yT(i,1,!1,null,null,o,u,f,p,T,S,null),i[xn]=r.current,Bm(i),new ip(r)},uu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=q_,T=H_,S=G_,x=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=yT(i,1,!0,r,o??null,u,f,p,T,S,x,G),r.context=vT(null),o=r.current,u=wn(),u=Ts(u),f=Is(u),f.callback=null,Ds(o,f,u),o=u,r.current.lanes=o,Li(r,o),Ti(r),i[xn]=r.current,Bm(i),new Ph(r)},uu.version="19.1.1",uu}var kT;function xx(){if(kT)return ap.exports;kT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ap.exports=Cx(),ap.exports}var Ix=xx();const Dx=IS(Ix);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var UT="popstate";function Vx(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return Bp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Iu(a)}return Nx(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function BT(e,t){return{usr:e.state,key:e.key,idx:t}}function Bp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?zo(t):t,state:n,key:t&&t.key||s||Mx()}}function Iu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Nx(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function E(){d="POP";let O=y(),F=O==null?null:O-g;g=O,m&&m({action:d,location:j.location,delta:F})}function A(O,F){d="PUSH";let q=Bp(j.location,O,F);g=y()+1;let Q=BT(q,g),lt=j.createHref(q);try{c.pushState(Q,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(lt)}l&&m&&m({action:d,location:j.location,delta:1})}function R(O,F){d="REPLACE";let q=Bp(j.location,O,F);g=y();let Q=BT(q,g),lt=j.createHref(q);c.replaceState(Q,"",lt),l&&m&&m({action:d,location:j.location,delta:0})}function D(O){return Px(O)}let j={get action(){return d},get location(){return e(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(UT,E),m=O,()=>{a.removeEventListener(UT,E),m=null}},createHref(O){return t(a,O)},createURL:D,encodeLocation(O){let F=D(O);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:R,go(O){return c.go(O)}};return j}function Px(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Iu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function DS(e,t,n="/"){return Ox(e,t,n,!1)}function Ox(e,t,n,s){let a=typeof t=="string"?zo(t):t,l=hs(a.pathname||"/",n);if(l==null)return null;let c=VS(e);Lx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Yx(l);d=Gx(c[m],g,s)}return d}function VS(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ue(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let E=us([s,y.relativePath]),A=n.concat(y);c.children&&c.children.length>0&&(ue(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),VS(c.children,t,A,E,m)),!(c.path==null&&!c.index)&&t.push({path:E,score:qx(E,c.index),routesMeta:A})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of MS(c.path))l(c,d,!0,m)}),t}function MS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=MS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function Lx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hx(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kx=/^:[\w-]+$/,Ux=3,Bx=2,jx=1,zx=10,Fx=-2,jT=e=>e==="*";function qx(e,t){let n=e.split("/"),s=n.length;return n.some(jT)&&(s+=Fx),t&&(s+=Bx),n.filter(a=>!jT(a)).reduce((a,l)=>a+(kx.test(l)?Ux:l===""?jx:zx),s)}function Hx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Gx(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",E=uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),A=m.route;if(!E&&g&&n&&!s[s.length-1].route.index&&(E=uf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:us([l,E.pathname]),pathnameBase:Wx(us([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=us([l,E.pathnameBase]))}return c}function uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Kx(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:E},A)=>{if(y==="*"){let D=d[A]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const R=d[A];return E&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function Kx(e,t=!1,n=!0){Di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Yx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Di(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function $x(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?zo(e):e;return{pathname:n?n.startsWith("/")?n:Qx(n,t):t,search:Zx(s),hash:Jx(a)}}function Qx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function NS(e){let t=Xx(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function PS(e,t,n,s=!1){let a;typeof e=="string"?a=zo(e):(a={...e},ue(!a.pathname||!a.pathname.includes("?"),cp("?","pathname","search",a)),ue(!a.pathname||!a.pathname.includes("#"),cp("#","pathname","hash",a)),ue(!a.search||!a.search.includes("#"),cp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let E=t.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;a.pathname=A.join("/")}d=E>=0?t[E]:"/"}let m=$x(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var us=e=>e.join("/").replace(/\/\/+/g,"/"),Wx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var OS=["POST","PUT","PATCH","DELETE"];new Set(OS);var e2=["GET",...OS];new Set(e2);var Fo=U.createContext(null);Fo.displayName="DataRouter";var Pf=U.createContext(null);Pf.displayName="DataRouterState";U.createContext(!1);var LS=U.createContext({isTransitioning:!1});LS.displayName="ViewTransition";var n2=U.createContext(new Map);n2.displayName="Fetchers";var i2=U.createContext(null);i2.displayName="Await";var Ni=U.createContext(null);Ni.displayName="Navigation";var Yu=U.createContext(null);Yu.displayName="Location";var ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Og=U.createContext(null);Og.displayName="RouteError";function s2(e,{relative:t}={}){ue($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Ni),{hash:a,pathname:l,search:c}=Qu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:us([n,l])),s.createHref({pathname:d,search:c,hash:a})}function $u(){return U.useContext(Yu)!=null}function gr(){return ue($u(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Yu).location}var kS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function US(e){U.useContext(Ni).static||U.useLayoutEffect(e)}function Lg(){let{isDataRoute:e}=U.useContext(ii);return e?T2():r2()}function r2(){ue($u(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(Fo),{basename:t,navigator:n}=U.useContext(Ni),{matches:s}=U.useContext(ii),{pathname:a}=gr(),l=JSON.stringify(NS(s)),c=U.useRef(!1);return US(()=>{c.current=!0}),U.useCallback((m,g={})=>{if(Di(c.current,kS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=PS(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:us([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}var a2=U.createContext(null);function o2(e){let t=U.useContext(ii).outlet;return t&&U.createElement(a2.Provider,{value:e},t)}function l2(){let{matches:e}=U.useContext(ii),t=e[e.length-1];return t?t.params:{}}function Qu(e,{relative:t}={}){let{matches:n}=U.useContext(ii),{pathname:s}=gr(),a=JSON.stringify(NS(n));return U.useMemo(()=>PS(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function u2(e,t){return BS(e,t)}function BS(e,t,n,s,a){ue($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(Ni),{matches:c}=U.useContext(ii),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let q=E&&E.path||"";jS(g,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let A=gr(),R;if(t){let q=typeof t=="string"?zo(t):t;ue(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=A;let D=R.pathname||"/",j=D;if(y!=="/"){let q=y.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=DS(e,{pathname:j});Di(E||O!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Di(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=m2(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:us([y,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:us([y,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,n,s,a);return t&&F?U.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function c2(){let e=_2(),t=t2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var h2=U.createElement(c2,null),f2=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?U.createElement(ii.Provider,{value:this.props.routeContext},U.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d2({routeContext:e,match:t,children:n}){let s=U.useContext(Fo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(ii.Provider,{value:e},n)}function m2(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ue(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=n,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let A,R=!1,D=null,j=null;n&&(A=c&&y.route.id?c[y.route.id]:void 0,D=y.route.errorElement||h2,d&&(m<0&&E===0?(jS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===E&&(R=!0,j=y.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,E+1)),F=()=>{let q;return A?q=D:R?q=j:y.route.Component?q=U.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=g,U.createElement(d2,{match:y,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?U.createElement(f2,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:F(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:s}):F()},null)}function kg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p2(e){let t=U.useContext(Fo);return ue(t,kg(e)),t}function g2(e){let t=U.useContext(Pf);return ue(t,kg(e)),t}function y2(e){let t=U.useContext(ii);return ue(t,kg(e)),t}function Ug(e){let t=y2(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function v2(){return Ug("useRouteId")}function _2(){let e=U.useContext(Og),t=g2("useRouteError"),n=Ug("useRouteError");return e!==void 0?e:t.errors?.[n]}function T2(){let{router:e}=p2("useNavigate"),t=Ug("useNavigate"),n=U.useRef(!1);return US(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{Di(n.current,kS),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var zT={};function jS(e,t,n){!t&&!zT[e]&&(zT[e]=!0,Di(!1,n))}U.memo(E2);function E2({routes:e,future:t,state:n,unstable_onError:s}){return BS(e,void 0,n,s,t)}function A2(e){return o2(e.context)}function Qs(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S2({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ue(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=zo(n));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:A="default"}=n,R=U.useMemo(()=>{let D=hs(m,c);return D==null?null:{location:{pathname:D,search:g,hash:y,state:E,key:A},navigationType:s}},[c,m,g,y,E,A,s]);return Di(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:U.createElement(Ni.Provider,{value:d},U.createElement(Yu.Provider,{children:t,value:R}))}function b2({children:e,location:t}){return u2(jp(e),t)}function jp(e,t=[]){let n=[];return U.Children.forEach(e,(s,a)=>{if(!U.isValidElement(s))return;let l=[...t,a];if(s.type===U.Fragment){n.push.apply(n,jp(s.props.children,l));return}ue(s.type===Qs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=jp(s.props.children,l)),n.push(c)}),n}var Kh="get",Yh="application/x-www-form-urlencoded";function Of(e){return e!=null&&typeof e.tagName=="string"}function w2(e){return Of(e)&&e.tagName.toLowerCase()==="button"}function R2(e){return Of(e)&&e.tagName.toLowerCase()==="form"}function C2(e){return Of(e)&&e.tagName.toLowerCase()==="input"}function x2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I2(e,t){return e.button===0&&(!t||t==="_self")&&!x2(e)}var Lh=null;function D2(){if(Lh===null)try{new FormData(document.createElement("form"),0),Lh=!1}catch{Lh=!0}return Lh}var V2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(e){return e!=null&&!V2.has(e)?(Di(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):e}function M2(e,t){let n,s,a,l,c;if(R2(e)){let d=e.getAttribute("action");s=d?hs(d,t):null,n=e.getAttribute("method")||Kh,a=hp(e.getAttribute("enctype"))||Yh,l=new FormData(e)}else if(w2(e)||C2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?hs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Kh,a=hp(e.getAttribute("formenctype"))||hp(d.getAttribute("enctype"))||Yh,l=new FormData(d,e),!D2()){let{name:g,type:y,value:E}=e;if(y==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,E)}}else{if(Of(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,s=null,a=Yh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N2(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&hs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function P2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function L2(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await P2(l,n);return c.links?c.links():[]}return[]}));return j2(s.flat(1).filter(O2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function FT(e,t,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?t.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function k2(e,t,{includeHydrateFallback:n}={}){return U2(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function U2(e){return[...new Set(e)]}function B2(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function j2(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(B2(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function zS(){let e=U.useContext(Fo);return Bg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function z2(){let e=U.useContext(Pf);return Bg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jg=U.createContext(void 0);jg.displayName="FrameworkContext";function FS(){let e=U.useContext(jg);return Bg(e,"You must render this element inside a <HydratedRouter> element"),e}function F2(e,t){let n=U.useContext(jg),[s,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=t,A=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=F=>{F.forEach(q=>{c(q.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return A.current&&O.observe(A.current),()=>{O.disconnect()}}},[e]),U.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let R=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,A,{}]:[l,A,{onFocus:cu(d,R),onBlur:cu(m,D),onMouseEnter:cu(g,R),onMouseLeave:cu(y,D),onTouchStart:cu(E,R)}]:[!1,A,{}]}function cu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function q2({page:e,...t}){let{router:n}=zS(),s=U.useMemo(()=>DS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?U.createElement(G2,{page:e,matches:s,...t}):null}function H2(e){let{manifest:t,routeModules:n}=FS(),[s,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return L2(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function G2({page:e,matches:t,...n}){let s=gr(),{manifest:a,routeModules:l}=FS(),{basename:c}=zS(),{loaderData:d,matches:m}=z2(),g=U.useMemo(()=>FT(e,t,m,a,s,"data"),[e,t,m,a,s]),y=U.useMemo(()=>FT(e,t,m,a,s,"assets"),[e,t,m,a,s]),E=U.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let D=new Set,j=!1;if(t.forEach(F=>{let q=a.routes[F.route.id];!q||!q.hasLoader||(!g.some(Q=>Q.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||q.hasClientLoader?j=!0:D.add(F.route.id))}),D.size===0)return[];let O=N2(e,c,"data");return j&&D.size>0&&O.searchParams.set("_routes",t.filter(F=>D.has(F.route.id)).map(F=>F.route.id).join(",")),[O.pathname+O.search]},[c,d,s,a,g,t,e,l]),A=U.useMemo(()=>k2(y,a),[y,a]),R=H2(y);return U.createElement(U.Fragment,null,E.map(D=>U.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>U.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:j})=>U.createElement("link",{key:D,nonce:n.nonce,...j})))}function K2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qS&&(window.__reactRouterVersion="7.8.2")}catch{}function Y2({basename:e,children:t,window:n}){let s=U.useRef();s.current==null&&(s.current=Vx({window:n,v5Compat:!0}));let a=s.current,[l,c]=U.useState({action:a.action,location:a.location}),d=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(d),[a,d]),U.createElement(S2,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var HS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zg=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:E,...A},R){let{basename:D}=U.useContext(Ni),j=typeof g=="string"&&HS.test(g),O,F=!1;if(typeof g=="string"&&j&&(O=g,qS))try{let C=new URL(window.location.href),N=g.startsWith("//")?new URL(C.protocol+g):new URL(g),L=hs(N.pathname,D);N.origin===C.origin&&L!=null?g=L+N.search+N.hash:F=!0}catch{Di(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=s2(g,{relative:a}),[Q,lt,it]=F2(s,A),dt=X2(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:E});function V(C){t&&t(C),C.defaultPrevented||dt(C)}let w=U.createElement("a",{...A,...it,href:O||q,onClick:F||l?t:V,ref:K2(R,lt),target:m,"data-discover":!j&&n==="render"?"true":void 0});return Q&&!j?U.createElement(U.Fragment,null,w,U.createElement(q2,{page:q})):w});zg.displayName="Link";var fu=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let E=Qu(c,{relative:g.relative}),A=gr(),R=U.useContext(Pf),{navigator:D,basename:j}=U.useContext(Ni),O=R!=null&&eI(E)&&d===!0,F=D.encodeLocation?D.encodeLocation(E).pathname:E.pathname,q=A.pathname,Q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),Q=Q?Q.toLowerCase():null,F=F.toLowerCase()),Q&&j&&(Q=hs(Q,j)||Q);const lt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let it=q===F||!a&&q.startsWith(F)&&q.charAt(lt)==="/",dt=Q!=null&&(Q===F||!a&&Q.startsWith(F)&&Q.charAt(F.length)==="/"),V={isActive:it,isPending:dt,isTransitioning:O},w=it?t:void 0,C;typeof s=="function"?C=s(V):C=[s,it?"active":null,dt?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(V):l;return U.createElement(zg,{...g,"aria-current":w,className:C,ref:y,style:N,to:c,viewTransition:d},typeof m=="function"?m(V):m)});fu.displayName="NavLink";var $2=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Kh,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,...A},R)=>{let D=J2(),j=tI(d,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&HS.test(d),q=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let lt=Q.nativeEvent.submitter,it=lt?.getAttribute("formmethod")||c;D(lt||Q.currentTarget,{fetcherKey:t,method:it,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:E})};return U.createElement("form",{ref:R,method:O,action:j,onSubmit:s?m:q,...A,"data-discover":!F&&e==="render"?"true":void 0})});$2.displayName="Form";function Q2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GS(e){let t=U.useContext(Fo);return ue(t,Q2(e)),t}function X2(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Lg(),m=gr(),g=Qu(e,{relative:l});return U.useCallback(y=>{if(I2(y,t)){y.preventDefault();let E=n!==void 0?n:Iu(m)===Iu(g);d(e,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,n,s,t,e,a,l,c])}var W2=0,Z2=()=>`__${String(++W2)}__`;function J2(){let{router:e}=GS("useSubmit"),{basename:t}=U.useContext(Ni),n=v2();return U.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=M2(s,t);if(a.navigate===!1){let y=a.fetcherKey||Z2();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function tI(e,{relative:t}={}){let{basename:n}=U.useContext(Ni),s=U.useContext(ii);ue(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Qu(e||".",{relative:t})},c=gr();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:us([n,l.pathname])),Iu(l)}function eI(e,{relative:t}={}){let n=U.useContext(LS);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GS("useViewTransitionState"),a=Qu(e,{relative:t});if(!n.isTransitioning)return!1;let l=hs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=hs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uf(a.pathname,c)!=null||uf(a.pathname,l)!=null}const nI=()=>{const e=({isActive:t})=>`flex flex-col items-center focus:outline-none p-2 md:flex-row md:justify-start md:items-center md:space-x-3 md:p-3 md:rounded-lg md:hover:bg-gray-100 ${t?"text-blue-600":"text-gray-500"}`;return Y.jsx("nav",{id:"bottom-nav",className:"fixed bottom-0 left-0 w-full bg-white shadow-2xl z-10 md:top-0 md:right-0 md:h-screen md:w-48 md:shadow-lg md:flex-shrink-0 md:flex md:flex-col md:justify-start md:p-4",children:Y.jsxs("div",{className:"flex justify-around items-center h-16 md:h-auto md:flex-col md:items-stretch md:space-y-6",children:[Y.jsxs(fu,{to:"/",className:e,children:[Y.jsx("svg",{className:"nav-icon-svg",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Y.jsx("path",{d:"M3 9H21M9 15L11 17L15 13M7 3V5M17 3V5M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Y.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:""})]}),Y.jsxs(fu,{to:"/evaluations",className:e,children:[Y.jsx("svg",{className:"nav-icon-svg",fill:"currentColor",height:"24px",width:"24px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 294.023 294.023",xmlSpace:"preserve",children:Y.jsx("path",{colorRendering:"auto",imageRendering:"auto",shapeRendering:"auto",colorInterpolation:"sRGB",d:"M124.916,0.002 c-1.649,0.045-3.169,0.9-4.064,2.285l-14.49,21.736h-49.35c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5 V39.574l-10,15v19.449h-40v-40h37.682L85.631,55.117l-6.146-12.293c-1.205-2.485-4.196-3.523-6.681-2.318 c-2.485,1.205-3.523,4.196-2.318,6.681c0.018,0.036,0.035,0.072,0.054,0.108l10,20c1.235,2.47,4.238,3.472,6.709,2.237 c0.778-0.389,1.441-0.974,1.924-1.698l40-60c1.565-2.276,0.989-5.389-1.287-6.954C127.013,0.281,125.974-0.027,124.916,0.002 L124.916,0.002z M147.012,44.025c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5 H147.012z M57.012,94.06c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5v-50c0-2.761-2.239-5-5-5H57.012z M62.012,104.06h40v40h-40V104.06z M147.012,114.023c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10 c0-2.761-2.239-5-5-5H147.012z M57.012,164.023c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5v-50 c0-2.761-2.239-5-5-5H57.012z M62.012,174.023h40v40h-40V174.023z M147.012,184.058c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90 c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5H147.012z M57.012,234.023c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50 c2.761,0,5-2.239,5-5v-50c0-2.761-2.239-5-5-5L57.012,234.023L57.012,234.023z M62.012,244.023h40v40h-40V244.023z M147.012,254.023 c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5H147.012z"})}),Y.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:""})]}),Y.jsxs(fu,{to:"/store",className:e,children:[Y.jsx("svg",{className:"nav-icon-svg",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Y.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4H6zM3 6h18M16 10a4 4 0 1 1-8 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Y.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:""})]}),Y.jsxs(fu,{to:"/profile",className:e,children:[Y.jsx("svg",{className:"nav-icon-svg",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Y.jsx("span",{className:"text-xs mt-1 md:mt-0 md:text-base",children:" "})]})]})})},iI=()=>{};var qT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},sI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,E=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(A=64)),s.push(n[y],n[E],n[A],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(KS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const E=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new rI;const A=l<<2|d>>4;if(s.push(A),g!==64){const R=d<<4&240|g>>2;if(s.push(R),E!==64){const D=g<<6&192|E;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(e){const t=KS(e);return YS.encodeByteArray(t,!0)},cf=function(e){return aI(e).replace(/\./g,"")},$S=function(e){try{return YS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>oI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof qT>"u")return;const e=qT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$S(e[1]);return t&&JSON.parse(t)},Lf=()=>{try{return iI()||lI()||uI()||cI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},QS=e=>Lf()?.emulatorHosts?.[e],hI=e=>{const t=QS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},XS=()=>Lf()?.config,WS=e=>Lf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[cf(JSON.stringify(n)),cf(JSON.stringify(c)),""].join(".")}const vu={};function mI(){const e={prod:[],emulator:[]};for(const t of Object.keys(vu))vu[t]?e.emulator.push(t):e.prod.push(t);return e}function pI(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let HT=!1;function JS(e,t){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||vu[e]===t||vu[e]||HT)return;vu[e]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",l=mI().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{HT=!0,c()},A}function y(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=pI(s),R=n("text"),D=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),F=n("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;d(Q),y(O,j);const lt=g();m(q,F),Q.append(q,D,O,lt),document.body.appendChild(Q)}l?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function yI(){const e=Lf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _I(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AI(){return!yI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SI(){try{return typeof indexedDB=="object"}catch{return!1}}function bI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class vs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=wI,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?RI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new vs(a,d,s)}}function RI(e,t){return e.replace(CI,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const CI=/\{\$([^}]+)}/g;function xI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ma(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(GT(l)&&GT(c)){if(!ma(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function GT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function II(e,t){const n=new DI(e,t);return n.subscribe.bind(n)}class DI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VI(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=fp),a.error===void 0&&(a.error=fp),a.complete===void 0&&(a.complete=fp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e&&e._delegate?e._delegate:e}class pa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new fI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PI(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NI(e){return e===sa?void 0:e}function PI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new MI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const LI={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},kI=Pt.INFO,UI={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},BI=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=UI[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fg{constructor(t){this.name=t,this._logLevel=kI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const jI=(e,t)=>t.some(n=>e instanceof n);let KT,YT;function zI(){return KT||(KT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FI(){return YT||(YT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,zp=new WeakMap,e1=new WeakMap,dp=new WeakMap,qg=new WeakMap;function qI(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(er(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&t1.set(n,e)}).catch(()=>{}),qg.set(t,e),t}function HI(e){if(zp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});zp.set(e,t)}let Fp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||e1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function GI(e){Fp=e(Fp)}function KI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mp(this),t,...n);return e1.set(s,t.sort?t.sort():[t]),er(s)}:FI().includes(e)?function(...t){return e.apply(mp(this),t),er(t1.get(this))}:function(...t){return er(e.apply(mp(this),t))}}function YI(e){return typeof e=="function"?KI(e):(e instanceof IDBTransaction&&HI(e),jI(e,zI())?new Proxy(e,Fp):e)}function er(e){if(e instanceof IDBRequest)return qI(e);if(dp.has(e))return dp.get(e);const t=YI(e);return t!==e&&(dp.set(e,t),qg.set(t,e)),t}const mp=e=>qg.get(e);function $I(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=er(c);return s&&c.addEventListener("upgradeneeded",m=>{s(er(c.result),m.oldVersion,m.newVersion,er(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const QI=["get","getKey","getAll","getAllKeys","count"],XI=["put","add","delete","clear"],pp=new Map;function $T(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pp.get(t))return pp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=XI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||QI.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return pp.set(t,l),l}GI(e=>({...e,get:(t,n,s)=>$T(t,n)||e.get(t,n,s),has:(t,n)=>!!$T(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZI(e){return e.getComponent()?.type==="VERSION"}const qp="@firebase/app",QT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Fg("@firebase/app"),JI="@firebase/app-compat",tD="@firebase/analytics-compat",eD="@firebase/analytics",nD="@firebase/app-check-compat",iD="@firebase/app-check",sD="@firebase/auth",rD="@firebase/auth-compat",aD="@firebase/database",oD="@firebase/data-connect",lD="@firebase/database-compat",uD="@firebase/functions",cD="@firebase/functions-compat",hD="@firebase/installations",fD="@firebase/installations-compat",dD="@firebase/messaging",mD="@firebase/messaging-compat",pD="@firebase/performance",gD="@firebase/performance-compat",yD="@firebase/remote-config",vD="@firebase/remote-config-compat",_D="@firebase/storage",TD="@firebase/storage-compat",ED="@firebase/firestore",AD="@firebase/ai",SD="@firebase/firestore-compat",bD="firebase",wD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",RD={[qp]:"fire-core",[JI]:"fire-core-compat",[eD]:"fire-analytics",[tD]:"fire-analytics-compat",[iD]:"fire-app-check",[nD]:"fire-app-check-compat",[sD]:"fire-auth",[rD]:"fire-auth-compat",[aD]:"fire-rtdb",[oD]:"fire-data-connect",[lD]:"fire-rtdb-compat",[uD]:"fire-fn",[cD]:"fire-fn-compat",[hD]:"fire-iid",[fD]:"fire-iid-compat",[dD]:"fire-fcm",[mD]:"fire-fcm-compat",[pD]:"fire-perf",[gD]:"fire-perf-compat",[yD]:"fire-rc",[vD]:"fire-rc-compat",[_D]:"fire-gcs",[TD]:"fire-gcs-compat",[ED]:"fire-fst",[SD]:"fire-fst-compat",[AD]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,CD=new Map,Gp=new Map;function XT(e,t){try{e.container.addComponent(t)}catch(n){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Vo(e){const t=e.name;if(Gp.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;Gp.set(t,e);for(const n of hf.values())XT(n,e);for(const n of CD.values())XT(n,e);return!0}function Hg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Xu("app","Firebase",xD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=wD;function n1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Hp,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw nr.create("bad-app-name",{appName:String(a)});if(n||(n=XS()),!n)throw nr.create("no-options");const l=hf.get(a);if(l){if(ma(n,l.options)&&ma(s,l.config))return l;throw nr.create("duplicate-app",{appName:a})}const c=new OI(a);for(const m of Gp.values())c.addComponent(m);const d=new ID(n,s,c);return hf.set(a,d),d}function i1(e=Hp){const t=hf.get(e);if(!t&&e===Hp&&XS())return n1();if(!t)throw nr.create("no-app",{appName:e});return t}function ir(e,t,n){let s=RD[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(c.join(" "));return}Vo(new pa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firebase-heartbeat-database",VD=1,Du="firebase-heartbeat-store";let gp=null;function s1(){return gp||(gp=$I(DD,VD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(e=>{throw nr.create("idb-open",{originalErrorMessage:e.message})})),gp}async function MD(e){try{const n=(await s1()).transaction(Du),s=await n.objectStore(Du).get(r1(e));return await n.done,s}catch(t){if(t instanceof vs)fs.warn(t.message);else{const n=nr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(n.message)}}}async function WT(e,t){try{const s=(await s1()).transaction(Du,"readwrite");await s.objectStore(Du).put(t,r1(e)),await s.done}catch(n){if(n instanceof vs)fs.warn(n.message);else{const s=nr.create("idb-set",{originalErrorMessage:n?.message});fs.warn(s.message)}}}function r1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1024,PD=30;class OD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PD){const a=UD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZT(),{heartbeatsToSend:n,unsentEntries:s}=LD(this._heartbeatsCache.heartbeats),a=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fs.warn(t),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function LD(e,t=ND){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),JT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),JT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SI()?bI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return WT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return WT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function JT(e){return cf(JSON.stringify({version:2,heartbeats:e})).length}function UD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e){Vo(new pa("platform-logger",t=>new WI(t),"PRIVATE")),Vo(new pa("heartbeat",t=>new OD(t),"PRIVATE")),ir(qp,QT,e),ir(qp,QT,"esm2020"),ir("fire-js","")}BD("");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,a1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function C(){}C.prototype=w.prototype,V.D=w.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(N,L,B){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return w.prototype[L].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,C){C||(C=0);var N=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)N[L]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(L=0;16>L;++L)N[L]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=V.g[0],C=V.g[1],L=V.g[2];var B=V.g[3],I=w+(B^C&(L^B))+N[0]+3614090360&4294967295;w=C+(I<<7&4294967295|I>>>25),I=B+(L^w&(C^L))+N[1]+3905402710&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(C^B&(w^C))+N[2]+606105819&4294967295,L=B+(I<<17&4294967295|I>>>15),I=C+(w^L&(B^w))+N[3]+3250441966&4294967295,C=L+(I<<22&4294967295|I>>>10),I=w+(B^C&(L^B))+N[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=B+(L^w&(C^L))+N[5]+1200080426&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(C^B&(w^C))+N[6]+2821735955&4294967295,L=B+(I<<17&4294967295|I>>>15),I=C+(w^L&(B^w))+N[7]+4249261313&4294967295,C=L+(I<<22&4294967295|I>>>10),I=w+(B^C&(L^B))+N[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=B+(L^w&(C^L))+N[9]+2336552879&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(C^B&(w^C))+N[10]+4294925233&4294967295,L=B+(I<<17&4294967295|I>>>15),I=C+(w^L&(B^w))+N[11]+2304563134&4294967295,C=L+(I<<22&4294967295|I>>>10),I=w+(B^C&(L^B))+N[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=B+(L^w&(C^L))+N[13]+4254626195&4294967295,B=w+(I<<12&4294967295|I>>>20),I=L+(C^B&(w^C))+N[14]+2792965006&4294967295,L=B+(I<<17&4294967295|I>>>15),I=C+(w^L&(B^w))+N[15]+1236535329&4294967295,C=L+(I<<22&4294967295|I>>>10),I=w+(L^B&(C^L))+N[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=B+(C^L&(w^C))+N[6]+3225465664&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^C&(B^w))+N[11]+643717713&4294967295,L=B+(I<<14&4294967295|I>>>18),I=C+(B^w&(L^B))+N[0]+3921069994&4294967295,C=L+(I<<20&4294967295|I>>>12),I=w+(L^B&(C^L))+N[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=B+(C^L&(w^C))+N[10]+38016083&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^C&(B^w))+N[15]+3634488961&4294967295,L=B+(I<<14&4294967295|I>>>18),I=C+(B^w&(L^B))+N[4]+3889429448&4294967295,C=L+(I<<20&4294967295|I>>>12),I=w+(L^B&(C^L))+N[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=B+(C^L&(w^C))+N[14]+3275163606&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^C&(B^w))+N[3]+4107603335&4294967295,L=B+(I<<14&4294967295|I>>>18),I=C+(B^w&(L^B))+N[8]+1163531501&4294967295,C=L+(I<<20&4294967295|I>>>12),I=w+(L^B&(C^L))+N[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=B+(C^L&(w^C))+N[2]+4243563512&4294967295,B=w+(I<<9&4294967295|I>>>23),I=L+(w^C&(B^w))+N[7]+1735328473&4294967295,L=B+(I<<14&4294967295|I>>>18),I=C+(B^w&(L^B))+N[12]+2368359562&4294967295,C=L+(I<<20&4294967295|I>>>12),I=w+(C^L^B)+N[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=B+(w^C^L)+N[8]+2272392833&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^C)+N[11]+1839030562&4294967295,L=B+(I<<16&4294967295|I>>>16),I=C+(L^B^w)+N[14]+4259657740&4294967295,C=L+(I<<23&4294967295|I>>>9),I=w+(C^L^B)+N[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=B+(w^C^L)+N[4]+1272893353&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^C)+N[7]+4139469664&4294967295,L=B+(I<<16&4294967295|I>>>16),I=C+(L^B^w)+N[10]+3200236656&4294967295,C=L+(I<<23&4294967295|I>>>9),I=w+(C^L^B)+N[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=B+(w^C^L)+N[0]+3936430074&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^C)+N[3]+3572445317&4294967295,L=B+(I<<16&4294967295|I>>>16),I=C+(L^B^w)+N[6]+76029189&4294967295,C=L+(I<<23&4294967295|I>>>9),I=w+(C^L^B)+N[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=B+(w^C^L)+N[12]+3873151461&4294967295,B=w+(I<<11&4294967295|I>>>21),I=L+(B^w^C)+N[15]+530742520&4294967295,L=B+(I<<16&4294967295|I>>>16),I=C+(L^B^w)+N[2]+3299628645&4294967295,C=L+(I<<23&4294967295|I>>>9),I=w+(L^(C|~B))+N[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=B+(C^(w|~L))+N[7]+1126891415&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~C))+N[14]+2878612391&4294967295,L=B+(I<<15&4294967295|I>>>17),I=C+(B^(L|~w))+N[5]+4237533241&4294967295,C=L+(I<<21&4294967295|I>>>11),I=w+(L^(C|~B))+N[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=B+(C^(w|~L))+N[3]+2399980690&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~C))+N[10]+4293915773&4294967295,L=B+(I<<15&4294967295|I>>>17),I=C+(B^(L|~w))+N[1]+2240044497&4294967295,C=L+(I<<21&4294967295|I>>>11),I=w+(L^(C|~B))+N[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=B+(C^(w|~L))+N[15]+4264355552&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~C))+N[6]+2734768916&4294967295,L=B+(I<<15&4294967295|I>>>17),I=C+(B^(L|~w))+N[13]+1309151649&4294967295,C=L+(I<<21&4294967295|I>>>11),I=w+(L^(C|~B))+N[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=B+(C^(w|~L))+N[11]+3174756917&4294967295,B=w+(I<<10&4294967295|I>>>22),I=L+(w^(B|~C))+N[2]+718787259&4294967295,L=B+(I<<15&4294967295|I>>>17),I=C+(B^(L|~w))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+B&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var C=w-this.blockSize,N=this.B,L=this.h,B=0;B<w;){if(L==0)for(;B<=C;)a(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<w;)if(N[L++]=V.charCodeAt(B++),L==this.blockSize){a(this,N),L=0;break}}else for(;B<w;)if(N[L++]=V[B++],L==this.blockSize){a(this,N),L=0;break}}this.h=L,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var C=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=C&255,C/=256;for(this.u(V),V=Array(16),w=C=0;4>w;++w)for(var N=0;32>N;N+=8)V[C++]=this.g[w]>>>N&255;return V};function l(V,w){var C=d;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=w(V)}function c(V,w){this.h=w;for(var C=[],N=!0,L=V.length-1;0<=L;L--){var B=V[L]|0;N&&B==w||(C[L]=B,N=!1)}this.g=C}var d={};function m(V){return-128<=V&&128>V?l(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return O(g(-V));for(var w=[],C=1,N=0;V>=C;N++)w[N]=V/C|0,C*=4294967296;return new c(w,0)}function y(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return O(y(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),N=E,L=0;L<V.length;L+=8){var B=Math.min(8,V.length-L),I=parseInt(V.substring(L,L+B),w);8>B?(B=g(Math.pow(w,B)),N=N.j(B).add(g(I))):(N=N.j(C),N=N.add(g(I)))}return N}var E=m(0),A=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-O(this).m();for(var V=0,w=1,C=0;C<this.g.length;C++){var N=this.i(C);V+=(0<=N?N:4294967296+N)*w,w*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(D(this))return"0";if(j(this))return"-"+O(this).toString(V);for(var w=g(Math.pow(V,6)),C=this,N="";;){var L=lt(C,w).g;C=F(C,L.j(w));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=L,D(C))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function D(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function j(V){return V.h==-1}e.l=function(V){return V=F(this,V),j(V)?-1:D(V)?0:1};function O(V){for(var w=V.g.length,C=[],N=0;N<w;N++)C[N]=~V.g[N];return new c(C,~V.h).add(A)}e.abs=function(){return j(this)?O(this):this},e.add=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],N=0,L=0;L<=w;L++){var B=N+(this.i(L)&65535)+(V.i(L)&65535),I=(B>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);N=I>>>16,B&=65535,I&=65535,C[L]=I<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function F(V,w){return V.add(O(w))}e.j=function(V){if(D(this)||D(V))return E;if(j(this))return j(V)?O(this).j(O(V)):O(O(this).j(V));if(j(V))return O(this.j(O(V)));if(0>this.l(R)&&0>V.l(R))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,C=[],N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<V.g.length;L++){var B=this.i(N)>>>16,I=this.i(N)&65535,Ee=V.i(L)>>>16,ne=V.i(L)&65535;C[2*N+2*L]+=I*ne,q(C,2*N+2*L),C[2*N+2*L+1]+=B*ne,q(C,2*N+2*L+1),C[2*N+2*L+1]+=I*Ee,q(C,2*N+2*L+1),C[2*N+2*L+2]+=B*Ee,q(C,2*N+2*L+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new c(C,0)};function q(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Q(V,w){this.g=V,this.h=w}function lt(V,w){if(D(w))throw Error("division by zero");if(D(V))return new Q(E,E);if(j(V))return w=lt(O(V),w),new Q(O(w.g),O(w.h));if(j(w))return w=lt(V,O(w)),new Q(O(w.g),w.h);if(30<V.g.length){if(j(V)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,N=w;0>=N.l(V);)C=it(C),N=it(N);var L=dt(C,1),B=dt(N,1);for(N=dt(N,2),C=dt(C,2);!D(N);){var I=B.add(N);0>=I.l(V)&&(L=L.add(C),B=I),N=dt(N,1),C=dt(C,1)}return w=F(V,L.j(w)),new Q(L,w)}for(L=E;0<=V.l(w);){for(C=Math.max(1,Math.floor(V.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=g(C),I=B.j(w);j(I)||0<I.l(V);)C-=N,B=g(C),I=B.j(w);D(B)&&(B=A),L=L.add(B),V=F(V,I)}return new Q(L,V)}e.A=function(V){return lt(this,V).h},e.and=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)&V.i(N);return new c(C,this.h&V.h)},e.or=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)|V.i(N);return new c(C,this.h|V.h)},e.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)^V.i(N);return new c(C,this.h^V.h)};function it(V){for(var w=V.g.length+1,C=[],N=0;N<w;N++)C[N]=V.i(N)<<1|V.i(N-1)>>>31;return new c(C,V.h)}function dt(V,w){var C=w>>5;w%=32;for(var N=V.g.length-C,L=[],B=0;B<N;B++)L[B]=0<w?V.i(B+C)>>>w|V.i(B+C+1)<<32-w:V.i(B+C);return new c(L,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,sr=c}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,du,l1,$h,Kp,u1,c1,h1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var z=h[b];if(!(z in _))break t;_=_[z]}h=h[h.length-1],b=_[h],v=v(b),v!=b&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,b=!1,z={next:function(){if(!b&&_<h.length){var X=_++;return{value:v(X,h[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function E(h,v,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),h.apply(v,z)}}return function(){return h.apply(v,arguments)}}function A(h,v,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,A.apply(null,arguments)}function R(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function D(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,z,X){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return v.prototype[z].apply(b,ot)}}function j(h){const v=h.length;if(0<v){const _=Array(v);for(let b=0;b<v;b++)_[b]=h[b];return _}return[]}function O(h,v){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const z=h.length||0,X=b.length||0;h.length=z+X;for(let ot=0;ot<X;ot++)h[z+ot]=b[ot]}else h.push(b)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var it=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function dt(h,v,_){for(const b in h)v.call(_,h[b],b,h)}function V(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function w(h){const v={};for(const _ in h)v[_]=h[_];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)h[_]=b[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function L(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function B(h){d.setTimeout(()=>{throw h},0)}function I(){var h=xt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,_){const b=ne.get();b.set(v,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new F(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ht=!1,xt=new Ee,M=()=>{const h=d.Promise.resolve(void 0);rt=()=>{h.then(st)}};var st=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(_){B(_)}var v=ne;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function Dt(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(it){t:{try{lt(v.nodeName);var z=!0;break t}catch{}z=!1}z||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}D(Dt,at);var bt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function si(h,v,_,b,z){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!b,this.ha=z,this.key=++Jt,this.da=this.fa=!1}function _s(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pi(h){this.src=h,this.g={},this.h=0}Pi.prototype.add=function(h,v,_,b,z){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ot=Er(h,v,b,z);return-1<ot?(v=h[ot],_||(v.fa=!1)):(v=new si(v,this.src,X,!!b,z),v.fa=_,h.push(v)),v};function Tr(h,v){var _=v.type;if(_ in h.g){var b=h.g[_],z=Array.prototype.indexOf.call(b,v,void 0),X;(X=0<=z)&&Array.prototype.splice.call(b,z,1),X&&(_s(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Er(h,v,_,b){for(var z=0;z<h.length;++z){var X=h[z];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==b)return z}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),tl={};function fc(h,v,_,b,z){if(Array.isArray(v)){for(var X=0;X<v.length;X++)fc(h,v[X],_,b,z);return null}return _=dc(_),h&&h[Le]?h.K(v,_,g(b)?!!b.capture:!1,z):Cn(h,v,_,!1,b,z)}function Cn(h,v,_,b,z,X){if(!v)throw Error("Invalid event type");var ot=g(z)?!!z.capture:!!z,kt=ba(h);if(kt||(h[Ar]=kt=new Pi(h)),_=kt.add(v,_,b,ot,X),_.proxy)return _;if(b=sd(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)yt||(z=ot),z===void 0&&(z=!1),h.addEventListener(v.toString(),b,z);else if(h.attachEvent)h.attachEvent(Sr(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sd(){function h(_){return v.call(h.src,h.listener,_)}const v=rd;return h}function el(h,v,_,b,z){if(Array.isArray(v))for(var X=0;X<v.length;X++)el(h,v[X],_,b,z);else b=g(b)?!!b.capture:!!b,_=dc(_),h&&h[Le]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],_=Er(X,_,b,z),-1<_&&(_s(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=ba(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Er(v,_,b,z)),(_=-1<h?v[h]:null)&&Sa(_))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Le])Tr(v.i,h);else{var _=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(_,b,h.capture):v.detachEvent?v.detachEvent(Sr(_),b):v.addListener&&v.removeListener&&v.removeListener(b),(_=ba(v))?(Tr(_,h),_.h==0&&(_.src=null,v[Ar]=null)):_s(h)}}}function Sr(h){return h in tl?tl[h]:tl[h]="on"+h}function rd(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var _=h.listener,b=h.ha||h.src;h.fa&&Sa(h),h=_.call(b,v)}return h}function ba(h){return h=h[Ar],h instanceof Pi?h:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(h){return typeof h=="function"?h:(h[nl]||(h[nl]=function(v){return h.handleEvent(v)}),h[nl])}function he(){ut.call(this),this.i=new Pi(this),this.M=this,this.F=null}D(he,ut),he.prototype[Le]=!0,he.prototype.removeEventListener=function(h,v,_,b){el(this,h,v,_,b)};function Gt(h,v){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var z=v;v=new at(b,h),N(v,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var ot=v.g=_[X];z=vn(ot,b,!0,v)&&z}if(ot=v.g=h,z=vn(ot,b,!0,v)&&z,z=vn(ot,b,!1,v)&&z,_)for(X=0;X<_.length;X++)ot=v.g=_[X],z=vn(ot,b,!1,v)&&z}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],b=0;b<_.length;b++)_s(_[b]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,_,b){return this.i.add(String(h),v,!1,_,b)},he.prototype.L=function(h,v,_,b){return this.i.add(String(h),v,!0,_,b)};function vn(h,v,_,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,X=0;X<v.length;++X){var ot=v[X];if(ot&&!ot.da&&ot.capture==_){var kt=ot.listener,Ve=ot.ha||ot.src;ot.fa&&Tr(h.i,ot),z=kt.call(Ve,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ze(h,v,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function mc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,mc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ad extends ut{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(h){ut.call(this),this.h=h,this.g={}}D(br,ut);var wr=[];function Rr(h){dt(h.g,function(v,_){this.g.hasOwnProperty(_)&&Sa(v)},h),h.g={}}br.prototype.N=function(){br.aa.N.call(this),Rr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,wa=d.JSON.parse,Cr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function il(){}il.prototype.h=null;function sl(h){return h.h||(h.h=h.i())}function rl(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){at.call(this,"d")}D(Li,at);function al(){at.call(this,"c")}D(al,at);var ri={},ol=null;function Ts(){return ol=ol||new he}ri.La="serverreachability";function Ra(h){at.call(this,ri.La,h)}D(Ra,at);function Es(h){const v=Ts();Gt(v,new Ra(v))}ri.STAT_EVENT="statevent";function pc(h,v){at.call(this,ri.STAT_EVENT,h),this.stat=v}D(pc,at);function se(h){const v=Ts();Gt(v,new pc(v,h))}ri.Ma="timingevent";function De(h,v){at.call(this,ri.Ma,h),this.size=v}D(De,at);function Ae(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function ll(h,v,_,b,z,X){h.info(function(){if(h.g)if(X)for(var ot="",kt=X.split("&"),Ve=0;Ve<kt.length;Ve++){var Ut=kt[Ve].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var Me=Ue.split("_");ot=2<=Me.length&&Me[1]=="type"?ot+(Ue+"="+Ut+"&"):ot+(Ue+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+v+`
`+_+`
`+ot})}function od(h,v,_,b,z,X,ot){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+v+`
`+_+`
`+X+" "+ot})}function As(h,v,_,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+xr(h,_)+(b?" "+b:"")})}function gc(h,v){h.info(function(){return"TIMEOUT: "+v})}xn.prototype.info=function(){};function xr(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<z.length;ot++)z[ot]=""}}}}return Gn(_)}catch{return v}}var Ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function oi(){}D(oi,il),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ai=new oi;function on(h,v,_,b){this.j=h,this.i=v,this.l=_,this.R=b||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var ul={},Ca={};function Kn(h,v,_){h.L=1,h.v=Nr(_n(v)),h.m=_,h.P=!0,Ui(h,null)}function Ui(h,v){h.F=Date.now(),Ir(h),h.A=_n(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),pl(_.i,"t",b),h.C=0,_=h.j.J,h.h=new pe,h.g=Mc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new ad(A(h.Y,h,h.g),h.O)),v=h.U,_=h.g,b=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(wr[0]=z.toString()),z=wr);for(var X=0;X<z.length;X++){var ot=fc(_,z[X],b||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Es(),ll(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&Mn(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const Me=Mn(this.g);var v=this.g.Ba();const Ki=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||bc(this.g)))){this.J||Me!=4||v==7||(v==8||0>=Ki?Es(3):Es(2)),bs(this);var _=this.g.Z();this.X=_;e:if(yc(this)){var b=bc(this.g);h="";var z=b.length,X=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),li(this);var ot="";break e}this.h.i=new d.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,h+=this.h.i.decode(b[v],{stream:!(X&&v==z-1)});b.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,od(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ve=this.g;if((kt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(kt)){var Ut=kt;break e}}Ut=null}if(_=Ut)As(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,_);else{this.o=!1,this.s=3,se(12),qe(this),li(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ot.length;)if(He=vc(this,ot),He==Ca){Me==4&&(this.s=4,se(14),_=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(He==ul){this.s=4,se(15),As(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else As(this.i,this.l,He,null),Dr(this,He);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ot.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)As(this.i,this.l,ot,"[Invalid Chunked Response]"),qe(this),li(this);else if(0<ot.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),zr(Ue),Ue.M=!0,se(11))}}else As(this.i,this.l,ot,null),Dr(this,ot);Me==4&&qe(this),this.o&&!this.J&&(Me==4?Ic(this.j,this):(this.o=!1,Ir(this)))}else fd(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),qe(this),li(this)}}}catch{}finally{}};function yc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function vc(h,v){var _=h.C,b=v.indexOf(`
`,_);return b==-1?Ca:(_=Number(v.substring(_,b)),isNaN(_)?ul:(b+=1,b+_>v.length?Ca:(v=v.slice(b,b+_),h.C=b+_,v)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function Ir(h){h.S=Date.now()+h.I,_c(h,h.I)}function _c(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ae(A(h.ba,h),v)}function bs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(gc(this.i,this.A),this.L!=2&&(Es(),se(17)),qe(this),this.s=2,li(this)):_c(this,this.S-h)};function li(h){h.j.G==0||h.J||Ic(h.j,h)}function qe(h){bs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Rr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Dr(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||cl(_.h,h))){if(!h.K&&cl(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ba(_),ka(_);else break t;Tl(_),se(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ae(A(_.Za,_),6e3));if(1>=Ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gi(_,11)}else if((h.K||_.g==h)&&Ba(_),!q(v))for(z=_.Da.g.parse(v),v=0;v<z.length;v++){let Ut=z[v];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(_.la=Ue,_.j.info("VER="+_.la));const Me=Ut[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const Ki=Ut[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(b=1.5*Ki,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const He=h.g;if(He){const pi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var X=b.h;X.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Da(X,X.h),X.h=null))}if(b.D){const Al=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(b.ya=Al,$t(b.I,b.D,Al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ot=h;if(b.qa=Vc(b,b.J?b.ia:null,b.W),ot.K){ln(b.h,ot);var kt=ot,Ve=b.L;Ve&&(kt.I=Ve),kt.B&&(bs(kt),Ir(kt)),b.g=ot}else Cc(b);0<_.i.length&&Ua(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Gi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Gi(_,7):vl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Es(4)}catch{}}var Tc=class{constructor(h,v){this.g=h,this.map=v}};function Bi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ia(h){return h.h?1:h.g?h.g.size:0}function cl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Da(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bi.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function hl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return j(h.i)}function ld(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,b=0;b<_;b++)v.push(h[b]);return v}v=[],_=0;for(b in h)v[_++]=h[b];return v}function Va(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const b in h)v[_++]=b;return v}}}function fl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Va(h),b=ld(h),z=b.length,X=0;X<z;X++)v.call(void 0,b[X],_&&_[X],h)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),z=null;if(0<=b){var X=h[_].substring(0,b);z=h[_].substring(b+1)}else X=h[_];v(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,Mr(this,h.j),this.o=h.o,this.g=h.g,ws(this,h.s),this.l=h.l;var v=h.i,_=new zi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),ji(this,_),this.m=h.m}else h&&(v=String(h).match(Vr))?(this.h=!1,Mr(this,v[1]||"",!0),this.o=In(v[2]||""),this.g=In(v[3]||"",!0),ws(this,v[4]),this.l=In(v[5]||"",!0),ji(this,v[6]||"",!0),this.m=In(v[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Pr(v,dl,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Pr(v,dl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Pr(_,_.charAt(0)=="/"?cd:ml,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Pr(_,Ma)),h.join("")};function _n(h){return new Se(h)}function Mr(h,v,_){h.j=_?In(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ws(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ji(h,v,_){v instanceof zi?(h.i=v,Ac(h.i,h.h)):(_||(v=Pr(v,hd)),h.i=new zi(v,h.h))}function $t(h,v,_){h.i.set(v,_)}function Nr(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Ec),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ec(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var dl=/[#\/\?@]/g,ml=/[#\?:]/g,cd=/[#\?]/g,hd=/[#\?@]/g,Ma=/#/g;function zi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&ud(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=zi.prototype,e.add=function(h,v){Dn(this),this.i=null,h=ui(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Fi(h,v){Dn(h),v=ui(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function qi(h,v){return Dn(h),v=ui(h,v),h.g.has(v)}e.forEach=function(h,v){Dn(this),this.g.forEach(function(_,b){_.forEach(function(z){h.call(v,z,b,this)},this)},this)},e.na=function(){Dn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let b=0;b<v.length;b++){const z=h[b];for(let X=0;X<z.length;X++)_.push(v[b])}return _},e.V=function(h){Dn(this);let v=[];if(typeof h=="string")qi(this,h)&&(v=v.concat(this.g.get(ui(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return Dn(this),this.i=null,h=ui(this,h),qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function pl(h,v,_){Fi(h,v),0<_.length&&(h.i=null,h.g.set(ui(h,v),j(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var b=v[_];const X=encodeURIComponent(String(b)),ot=this.V(b);for(b=0;b<ot.length;b++){var z=X;ot[b]!==""&&(z+="="+encodeURIComponent(String(ot[b]))),h.push(z)}}return this.i=h.join("&")};function ui(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ac(h,v){v&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Fi(this,b),pl(this,z,_))},h)),h.j=v}function Or(h,v){const _=new xn;if(d.Image){const b=new Image;b.onload=R(Vn,_,"TestLoadImage: loaded",!0,v,b),b.onerror=R(Vn,_,"TestLoadImage: error",!1,v,b),b.onabort=R(Vn,_,"TestLoadImage: abort",!1,v,b),b.ontimeout=R(Vn,_,"TestLoadImage: timeout",!1,v,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function Yn(h,v){const _=new xn,b=new AbortController,z=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(X=>{clearTimeout(z),X.ok?Vn(_,"TestPingServer: ok",!0,v):Vn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Vn(_,"TestPingServer: error",!1,v)})}function Vn(h,v,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Lr(){this.g=new Cr}function ci(h,v,_){const b=_||"";try{fl(h,function(z,X){let ot=z;g(z)&&(ot=Gn(z)),v.push(b+X+"="+encodeURIComponent(ot))})}catch(z){throw v.push(b+"type="+encodeURIComponent("_badmap")),z}}function Rs(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Rs,il),Rs.prototype.g=function(){return new Hi(this.l,this.j)},Rs.prototype.i=(function(h){return function(){return h}})({});function Hi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Hi,he),e=Hi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,fi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?hi(this):fi(this),this.readyState==3&&gl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,hi(this))},e.Qa=function(h){this.g&&(this.response=h,hi(this))},e.ga=function(){this.g&&hi(this)};function hi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function yl(h){let v="";return dt(h,function(_,b){v+=b,v+=":",v+=_,v+=`\r
`}),v}function ke(h,v,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=yl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):$t(h,v,_))}function qt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(qt,he);var Na=/^https?$/i,kr=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?sl(this.o):sl(ai),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Sc(this,X);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(kr,v,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of _)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ur(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Sc(this,X)}};function Sc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Pa(h),di(h)}function Pa(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),di(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},e.bb=function(){Oa(this)};function Oa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var b;if(b=ot===0){var z=String(h.D).match(Vr)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),b=!Na.test(z?z.toLowerCase():"")}_=b}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var X=2<Mn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Pa(h)}}finally{di(h)}}}}function di(h,v){if(h.g){Ur(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Gt(h,"ready");try{_.onreadystatechange=b}catch{}}}function Ur(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),wa(v)}};function bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fd(h){const v={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(q(h[b]))continue;var _=L(h[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[z]||[];v[z]=X,X.push(_)}V(v,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function La(h){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,h),this.cb=Br("retryDelaySeedMs",1e4,h),this.Wa=Br("forwardChannelMaxRetries",2,h),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(h&&h.concurrentRequestLimit),this.Da=new Lr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=La.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,b){se(0),this.W=h,this.H=v||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Vc(this,null,this.W),Ua(this)};function vl(h){if(wc(h),h.G==3){var v=h.U++,_=_n(h.I);if($t(_,"SID",h.K),$t(_,"RID",v),$t(_,"TYPE","terminate"),jr(h,_),v=new on(h,h.j,v),v.L=2,v.v=Nr(_n(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Mc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ir(v)}Dc(h)}function ka(h){h.g&&(zr(h),h.g.cancel(),h.g=null)}function wc(h){ka(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ua(h){if(!xa(h.h)&&!h.s){h.s=!0;var v=h.Ga;rt||M(),ht||(rt(),ht=!0),xt.add(v,h),h.B=0}}function dd(h,v){return Ia(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ae(A(h.Ga,h,v),El(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new on(this,this.j,h);let X=this.o;if(this.S&&(X?(X=w(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=Rc(this,z,v),_=_n(this.I),$t(_,"RID",h),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),jr(this,_),X&&(this.O?v="headers="+encodeURIComponent(String(yl(X)))+"&"+v:this.m&&ke(_,this.m,X)),Da(this.h,z),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",v),$t(_,"SID","null"),z.T=!0,Kn(z,_,null)):Kn(z,_,v),this.G=2}}else this.G==3&&(h?_l(this,h):this.i.length==0||xa(this.h)||_l(this))};function _l(h,v){var _;v?_=v.l:_=h.U++;const b=_n(h.I);$t(b,"SID",h.K),$t(b,"RID",_),$t(b,"AID",h.T),jr(h,b),h.m&&h.o&&ke(b,h.m,h.o),_=new on(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Rc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Da(h.h,_),Kn(_,b,v)}function jr(h,v){h.H&&dt(h.H,function(_,b){$t(v,b,_)}),h.l&&fl({},function(_,b){$t(v,b,_)})}function Rc(h,v,_){_=Math.min(h.i.length,_);var b=h.l?A(h.l.Na,h.l,h):null;t:{var z=h.i;let X=-1;for(;;){const ot=["count="+_];X==-1?0<_?(X=z[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let kt=!0;for(let Ve=0;Ve<_;Ve++){let Ut=z[Ve].g;const Ue=z[Ve].map;if(Ut-=X,0>Ut)X=Math.max(0,z[Ve].g-100),kt=!1;else try{ci(Ue,ot,"req"+Ut+"_")}catch{b&&b(Ue)}}if(kt){b=ot.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,b}function Cc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;rt||M(),ht||(rt(),ht=!0),xt.add(v,h),h.v=0}}function Tl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ae(A(h.Fa,h),El(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ae(A(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),ka(this),xc(this))};function zr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function xc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);$t(v,"RID","rpc"),$t(v,"SID",h.K),$t(v,"AID",h.T),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(v,"TO",h.ja),$t(v,"TYPE","xmlhttp"),jr(h,v),h.m&&h.o&&ke(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Nr(_n(v)),_.m=null,_.P=!0,Ui(_,h)}e.Za=function(){this.C!=null&&(this.C=null,ka(this),Tl(this),se(19))};function Ba(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ic(h,v){var _=null;if(h.g==v){Ba(h),zr(h),h.g=null;var b=2}else if(cl(h.h,v))_=v.D,ln(h.h,v),b=1;else return;if(h.G!=0){if(v.o)if(b==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var z=h.B;b=Ts(),Gt(b,new De(b,_)),Ua(h)}else Cc(h);else if(z=v.s,z==3||z==0&&0<v.X||!(b==1&&dd(h,v)||b==2&&Tl(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),z){case 1:Gi(h,5);break;case 4:Gi(h,10);break;case 3:Gi(h,6);break;default:Gi(h,2)}}}function El(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Gi(h,v){if(h.j.info("Error code "+v),v==2){var _=A(h.fb,h),b=h.Xa;const z=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mr(b,"https"),Nr(b),z?Or(b.toString(),_):Yn(b.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(v),Dc(h),wc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Dc(h){if(h.G=0,h.ka=[],h.l){const v=hl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ka,v),O(h.ka,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.ra()}}function Vc(h,v,_){var b=_ instanceof Se?_n(_):new Se(_);if(b.g!="")v&&(b.g=v+"."+b.g),ws(b,b.s);else{var z=d.location;b=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var X=new Se(null);b&&Mr(X,b),v&&(X.g=v),z&&ws(X,z),_&&(X.l=_),b=X}return _=h.D,v=h.ya,_&&v&&$t(b,_,v),$t(b,"VER",h.la),jr(h,b),b}function Mc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new Rs({eb:_})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}e=Nc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ja(){}ja.prototype.g=function(h,v){return new un(h,v)};function un(h,v){he.call(this),this.g=new La(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new mi(this)}D(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){vl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Gn(h),h=_);v.i.push(new Tc(v.Ya++,h)),v.G==3&&Ua(v)},un.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,un.aa.N.call(this)};function Pc(h){Li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}D(Pc,Li);function Oc(){al.call(this),this.status=1}D(Oc,al);function mi(h){this.g=h}D(mi,Nc),mi.prototype.ua=function(){Gt(this.g,"a")},mi.prototype.ta=function(h){Gt(this.g,new Pc(h))},mi.prototype.sa=function(h){Gt(this.g,new Oc)},mi.prototype.ra=function(){Gt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,h1=function(){return new ja},c1=function(){return Ts()},u1=ri,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,$h=Ss,ki.COMPLETE="complete",l1=ki,rl.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",he.prototype.listen=he.prototype.K,du=rl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,o1=qt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const eE="@firebase/firestore",nE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Fg("@firebase/firestore");function go(){return ga.logLevel}function ft(e,...t){if(ga.logLevel<=Pt.DEBUG){const n=t.map(Gg);ga.debug(`Firestore (${Go}): ${e}`,...n)}}function ds(e,...t){if(ga.logLevel<=Pt.ERROR){const n=t.map(Gg);ga.error(`Firestore (${Go}): ${e}`,...n)}}function Mo(e,...t){if(ga.logLevel<=Pt.WARN){const n=t.map(Gg);ga.warn(`Firestore (${Go}): ${e}`,...n)}}function Gg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,f1(e,s,n)}function f1(e,t,n){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ds(s),new Error(s)}function Ht(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||f1(t,a,s)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends vs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class zD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FD{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new rr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new rr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new d1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class qD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new qD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=KD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Ot(e,t){return e<t?-1:e>t?1:0}function Yp(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return yp(a)===yp(l)?Ot(a,l):yp(a)?1:-1}return Ot(e.length,t.length)}const YD=55296,$D=57343;function yp(e){const t=e.charCodeAt(0);return t>=YD&&t<=$D}function No(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__name__";class Ei{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Ei.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ot(t.length,n.length)}static compareSegments(t,n){const s=Ei.isNumericId(t),a=Ei.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ei.extractNumericId(t).compare(Ei.extractNumericId(n)):Yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class ee extends Ei{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ei{construct(t,n,s){return new Xe(t,n,s)}static isValidIdentifier(t){return QD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Xe([sE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(e,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function XD(e,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function rE(e){if(!gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function aE(e){if(gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function p1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function kf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function ar(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(e);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t){const n={typeString:e};return t&&(n.value=t),n}function Zu(e,t){if(!p1(e))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-62135596800,lE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*lE);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<oE)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-oE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ie(0,0))}static max(){return new wt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function WD(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new lr(a,gt.empty(),t)}function ZD(e){return new lr(e.readTime,e.key,Vu)}class lr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new lr(wt.min(),gt.empty(),Vu)}static max(){return new lr(wt.max(),gt.empty(),Vu)}}function JD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==tV)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((a=>a?nt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new nt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function nV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=-1;function Bf(e){return e==null}function ff(e){return e===0&&1/e==-1/0}function iV(e){return typeof e=="number"&&Number.isInteger(e)&&!ff(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function sV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=uE(t)),t=rV(e.get(n),t);return uE(t)}function rV(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case g1:n+="";break;default:n+=l}}return n}function uE(e){return e+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _a(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function y1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uh(this.root,t,this.comparator,!0)}}class Uh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Qe(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(t){return new hE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class hE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Jn([])}unionWith(t){let n=new Oe(Xe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return No(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new v1("Invalid base64 string: "+l):l}})(t);return new We(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const aV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(e){if(Ht(!!e,39018),typeof e=="string"){let t=0;const n=aV.exec(e);if(Ht(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function cr(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",T1="__type__",E1="__previous_value__",A1="__local_write_time__";function $g(e){return(e?.mapValue?.fields||{})[T1]?.stringValue===_1}function jf(e){const t=e.mapValue.fields[E1];return $g(t)?jf(t):t}function Mu(e){const t=ur(e.mapValue.fields[A1].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t,n,s,a,l,c,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const df="(default)";class Nu{constructor(t,n){this.projectId=t,this.database=n||df}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===df}isEqual(t){return t instanceof Nu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",lV="__max__",Bh={mapValue:{}},b1="__vector__",mf="value";function hr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$g(e)?4:cV(e)?9007199254740991:uV(e)?10:11:Tt(28295,{value:e})}function Vi(e,t){if(e===t)return!0;const n=hr(e);if(n!==hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mu(e).isEqual(Mu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ur(a.timestampValue),d=ur(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return cr(a.bytesValue).isEqual(cr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?ff(c)===ff(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return No(e.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(cE(c)!==cE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Vi(c[m],d[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function Pu(e,t){return(e.values||[]).find((n=>Vi(n,t)))!==void 0}function Po(e,t){if(e===t)return 0;const n=hr(e),s=hr(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return fE(e.timestampValue,t.timestampValue);case 4:return fE(Mu(e),Mu(t));case 5:return Yp(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=cr(l),m=cr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ot(d[g],m[g]);if(y!==0)return y}return Ot(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ot(_e(l.latitude),_e(c.latitude));return d!==0?d:Ot(_e(l.longitude),_e(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return dE(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[mf]?.arrayValue,y=m[mf]?.arrayValue,E=Ot(g?.values?.length||0,y?.values?.length||0);return E!==0?E:dE(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Bh.mapValue&&c===Bh.mapValue)return 0;if(l===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const A=Yp(m[E],y[E]);if(A!==0)return A;const R=Po(d[m[E]],g[y[E]]);if(R!==0)return R}return Ot(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function fE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ot(e,t);const n=ur(e),s=ur(t),a=Ot(n.seconds,s.seconds);return a!==0?a:Ot(n.nanos,s.nanos)}function dE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Po(n[a],s[a]);if(l)return l}return Ot(n.length,s.length)}function Oo(e){return $p(e)}function $p(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=ur(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return cr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=$p(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${$p(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function Qh(e){switch(hr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(e);return t?16+Qh(t):16;case 5:return 2*e.stringValue.length;case 6:return cr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Qh(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return _a(s.fields,((l,c)=>{a+=l.length+Qh(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function mE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qp(e){return!!e&&"integerValue"in e}function Qg(e){return!!e&&"arrayValue"in e}function pE(e){return!!e&&"nullValue"in e}function gE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xh(e){return!!e&&"mapValue"in e}function uV(e){return(e?.mapValue?.fields||{})[S1]?.stringValue===b1}function _u(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return _a(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=_u(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_u(e.arrayValue.values[n]);return t}return{...e}}function cV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===lV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Xh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(n)}setAll(t){let n=Xe.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=_u(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Xh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){_a(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Fn(_u(this.value))}}function w1(e){const t=[];return _a(e.fields,((n,s)=>{const a=new Xe([n]);if(Xh(s)){const l=w1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),Fn.empty(),0)}static newFoundDocument(t,n,s,a){return new sn(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new sn(t,2,n,wt.min(),wt.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,wt.min(),wt.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.position=t,this.inclusive=n}}function yE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=gt.comparator(gt.fromName(c.referenceValue),n.key):s=Po(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function vE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,n="asc"){this.field=t,this.dir=n}}function hV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class xe extends R1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new dV(t,n,s):n==="array-contains"?new gV(t,s):n==="in"?new yV(t,s):n==="not-in"?new vV(t,s):n==="array-contains-any"?new _V(t,s):new xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new mV(t,s):new pV(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends R1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ni(t,n)}matches(t){return C1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C1(e){return e.op==="and"}function x1(e){return fV(e)&&C1(e)}function fV(e){for(const t of e.filters)if(t instanceof ni)return!1;return!0}function Xp(e){if(e instanceof xe)return e.field.canonicalString()+e.op.toString()+Oo(e.value);if(x1(e))return e.filters.map((t=>Xp(t))).join(",");{const t=e.filters.map((n=>Xp(n))).join(",");return`${e.op}(${t})`}}function I1(e,t){return e instanceof xe?(function(s,a){return a instanceof xe&&s.op===a.op&&s.field.isEqual(a.field)&&Vi(s.value,a.value)})(e,t):e instanceof ni?(function(s,a){return a instanceof ni&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&I1(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function D1(e){return e instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(e):e instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(D1).join(" ,")+"}"})(e):"Filter"}class dV extends xe{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class mV extends xe{constructor(t,n){super(t,"in",n),this.keys=V1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class pV extends xe{constructor(t,n){super(t,"not-in",n),this.keys=V1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function V1(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class gV extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qg(n)&&Pu(n.arrayValue,this.value)}}class yV extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class vV extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class _V extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function _E(e,t=null,n=[],s=[],a=null,l=null,c=null){return new TV(e,t,n,s,a,l,c)}function Xg(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Xp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Bf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Oo(s))).join(",")),t.Te=n}return t.Te}function Wg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!I1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vE(e.startAt,t.startAt)&&vE(e.endAt,t.endAt)}function Wp(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EV(e,t,n,s,a,l,c,d){return new $o(e,t,n,s,a,l,c,d)}function zf(e){return new $o(e)}function TE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function M1(e){return e.collectionGroup!==null}function Tu(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(Xe.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Ou(l,s))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new Ou(Xe.keyField(),s))}return t.Ie}function Ai(e){const t=Rt(e);return t.Ee||(t.Ee=AV(t,Tu(e))),t.Ee}function AV(e,t){if(e.limitType==="F")return _E(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ou(a.field,l)}));const n=e.endAt?new pf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new pf(e.startAt.position,e.startAt.inclusive):null;return _E(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Zp(e,t){const n=e.filters.concat([t]);return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gf(e,t,n){return new $o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ff(e,t){return Wg(Ai(e),Ai(t))&&e.limitType===t.limitType}function N1(e){return`${Xg(Ai(e))}|lt:${e.limitType}`}function yo(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>D1(a))).join(", ")}]`),Bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Oo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Oo(a))).join(",")),`Target(${s})`})(Ai(e))}; limitType=${e.limitType})`}function qf(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):gt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Tu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=yE(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,Tu(s),a)||s.endAt&&!(function(c,d,m){const g=yE(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,Tu(s),a))})(e,t)}function SV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function P1(e){return(t,n)=>{let s=!1;for(const a of Tu(e)){const l=bV(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function bV(e,t,n){const s=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Po(m,g):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new ce(gt.comparator);function ms(){return wV}const O1=new ce(gt.comparator);function mu(...e){let t=O1;for(const n of e)t=t.insert(n.key,n);return t}function L1(e){let t=O1;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function aa(){return Eu()}function k1(){return Eu()}function Eu(){return new Ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}const RV=new ce(gt.comparator),CV=new Oe(gt.comparator);function Lt(...e){let t=CV;for(const n of e)t=t.add(n);return t}const xV=new Oe(Ot);function IV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(t)?"-0":t}}function U1(e){return{integerValue:""+e}}function B1(e,t){return iV(t)?U1(t):Zg(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function DV(e,t,n){return e instanceof yf?(function(a,l){const c={fields:{[T1]:{stringValue:_1},[A1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$g(l)&&(l=jf(l)),l&&(c.fields[E1]=l),{mapValue:c}})(n,t):e instanceof Lu?z1(e,t):e instanceof ku?F1(e,t):(function(a,l){const c=j1(a,l),d=EE(c)+EE(a.Ae);return Qp(c)&&Qp(a.Ae)?U1(d):Zg(a.serializer,d)})(e,t)}function VV(e,t,n){return e instanceof Lu?z1(e,t):e instanceof ku?F1(e,t):n}function j1(e,t){return e instanceof Uu?(function(s){return Qp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class yf extends Hf{}class Lu extends Hf{constructor(t){super(),this.elements=t}}function z1(e,t){const n=q1(t);for(const s of e.elements)n.some((a=>Vi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ku extends Hf{constructor(t){super(),this.elements=t}}function F1(e,t){let n=q1(t);for(const s of e.elements)n=n.filter((a=>!Vi(a,s)));return{arrayValue:{values:n}}}class Uu extends Hf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function EE(e){return _e(e.integerValue||e.doubleValue)}function q1(e){return Qg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(t,n){this.field=t,this.transform=n}}function NV(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof Lu&&a instanceof Lu||s instanceof ku&&a instanceof ku?No(s.elements,a.elements,Vi):s instanceof Uu&&a instanceof Uu?Vi(s.Ae,a.Ae):s instanceof yf&&a instanceof yf})(e.transform,t.transform)}class PV{constructor(t,n){this.version=t,this.transformResults=n}}class cs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cs}static exists(t){return new cs(void 0,t)}static updateTime(t){return new cs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Gf{}function H1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new K1(e.key,cs.none()):new Ju(e.key,e.data,cs.none());{const n=e.data,s=Fn.empty();let a=new Oe(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ea(e.key,s,new Jn(a.toArray()),cs.none())}}function OV(e,t,n){e instanceof Ju?(function(a,l,c){const d=a.value.clone(),m=SE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ea?(function(a,l,c){if(!Wh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=SE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(G1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Au(e,t,n,s){return e instanceof Ju?(function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=l.value.clone(),y=bE(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ea?(function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=bE(l.fieldTransforms,m,c),y=c.data;return y.setAll(G1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(e,t,n,s):(function(l,c,d){return Wh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function LV(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=j1(s.transform,a||null);l!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,l))}return n||null}function AE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&No(s,a,((l,c)=>NV(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ju extends Gf{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ea extends Gf{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function G1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function SE(e,t,n){const s=new Map;Ht(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,VV(c,d,n[a]))}return s}function bE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,DV(l,c,t))}return s}class K1 extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kV extends Gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&OV(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Au(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Au(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=k1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=H1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&No(this.mutations,t.mutations,((n,s)=>AE(n,s)))&&No(this.baseMutations,t.baseMutations,((n,s)=>AE(n,s)))}}class Jg{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return RV})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Jg(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,jt;function zV(e){switch(e){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function Y1(e){if(e===void 0)return ds("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:e})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new sr([4294967295,4294967295],0);function wE(e){const t=FV().encode(e),n=new a1;return n.update(t),new Uint8Array(n.digest())}function RE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new sr([n,s],0),new sr([a,l],0)]}class ty{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(s<0)throw new pu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=sr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(sr.fromNumber(s)));return a.compare(qV)===1&&(a=new sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=wE(t),[s,a]=RE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new ty(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=wE(t),[s,a]=RE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,tc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Kf(wt.min(),a,new ce(Ot),ms(),Lt())}}class tc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new tc(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class $1{constructor(t,n){this.targetId=t,this.Ce=n}}class Q1{constructor(t,n,s=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class CE{constructor(){this.ve=0,this.Fe=xE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new tc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=xE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HV{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.Je=jh(),this.He=jh(),this.Ye=new ce(Ot)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Wp(l))if(s===0){const c=new gt(l.path);this.et(n,c,sn.newNoDocument(c,wt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=cr(s).toUint8Array()}catch(m){if(m instanceof v1)return Mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ty(c,a,l)}catch(m){return Mo(m instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Wp(d.target)){const m=new gt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,sn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Lt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Kf(t,n,this.Ye,this.je,s);return this.je=ms(),this.Je=jh(),this.He=jh(),this.Ye=new ce(Ot),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new CE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Oe(Ot),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Oe(Ot),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new CE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function jh(){return new ce(gt.comparator)}function xE(){return new ce(gt.comparator)}const GV={asc:"ASCENDING",desc:"DESCENDING"},KV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class $V{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jp(e,t){return e.useProto3Json||Bf(t)?t:{value:t}}function vf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function QV(e,t){return vf(e,t.toTimestamp())}function Si(e){return Ht(!!e,49232),wt.fromTimestamp((function(n){const s=ur(n);return new ie(s.seconds,s.nanos)})(e))}function ey(e,t){return tg(e,t).canonicalString()}function tg(e,t){const n=(function(a){return new ee(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function W1(e){const t=ee.fromString(e);return Ht(nb(t),10190,{key:t.toString()}),t}function eg(e,t){return ey(e.databaseId,t.path)}function vp(e,t){const n=W1(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(J1(n))}function Z1(e,t){return ey(e.databaseId,t)}function XV(e){const t=W1(e);return t.length===4?ee.emptyPath():J1(t)}function ng(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function J1(e){return Ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function IE(e,t,n){return{name:eg(e,t),fields:n.value.mapValue.fields}}function WV(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Ht(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(Ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?tt.UNKNOWN:Y1(g.code);return new ct(y,g.message||"")})(c);n=new Q1(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=vp(e,s.document.name),l=Si(s.document.updateTime),c=s.document.createTime?Si(s.document.createTime):wt.min(),d=new Fn({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Zh(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=vp(e,s.document),l=s.readTime?Si(s.readTime):wt.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Zh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=vp(e,s.document),l=s.removedTargetIds||[];n=new Zh([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new jV(a,l),d=s.targetId;n=new $1(d,c)}}return n}function ZV(e,t){let n;if(t instanceof Ju)n={update:IE(e,t.key,t.value)};else if(t instanceof K1)n={delete:eg(e,t.key)};else if(t instanceof Ea)n={update:IE(e,t.key,t.data),updateMask:oM(t.fieldMask)};else{if(!(t instanceof kV))return Tt(16599,{Vt:t.type});n={verify:eg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:QV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function JV(e,t){return e&&e.length>0?(Ht(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Si(a.updateTime):Si(l);return c.isEqual(wt.min())&&(c=Si(l)),new PV(c,a.transformResults||[])})(n,t)))):[]}function tM(e,t){return{documents:[Z1(e,t.path)]}}function eM(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Z1(e,a);const l=(function(g){if(g.length!==0)return eb(ni.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(A){return{field:vo(A.field),direction:sM(A.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Jp(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function nM(e){let t=XV(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ht(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(E){const A=tb(E);return A instanceof ni&&x1(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(D){return new Ou(_o(D.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(A)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,Bf(A)?null:A})(n.limit));let m=null;n.startAt&&(m=(function(E){const A=!!E.before,R=E.values||[];return new pf(R,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const A=!E.before,R=E.values||[];return new pf(R,A)})(n.endAt)),EV(t,a,c,l,d,"F",m,g)}function iM(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function tb(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=_o(n.unaryFilter.field);return xe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(n.unaryFilter.field);return xe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(n.unaryFilter.field);return xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return xe.create(_o(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>tb(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function sM(e){return GV[e]}function rM(e){return KV[e]}function aM(e){return YV[e]}function vo(e){return{fieldPath:e.canonicalString()}}function _o(e){return Xe.fromServerFormat(e.fieldPath)}function eb(e){return e instanceof xe?(function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:rM(n.op),value:n.value}}})(e):e instanceof ni?(function(n){const s=n.getFilters().map((a=>eb(a)));return s.length===1?s[0]:{compositeFilter:{op:aM(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function oM(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function nb(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.yt=t}}function uM(e){const t=nM({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?gf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Cn=new hM}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(lr.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class hM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Oe(ee.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(ib,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Lo(0)}static cr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="LruGarbageCollector",fM=1048576;function ME([e,t],[n,s]){const a=Ot(e,n);return a===0?Ot(t,s):a}class dM{constructor(t){this.Ir=t,this.buffer=new Oe(ME),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ME(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(VE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?ft(VE,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.Vr(3e5)}))}}class pM{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Uf.ce);const s=new dM(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(DE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,n)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),go()<=Pt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function gM(e,t){return new pM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.changes=new Ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Au(s.mutation,a,Jn.empty(),ie.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const a=aa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=mu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=aa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=ms();const c=Eu(),d=(function(){return Eu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Ea)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Au(y.mutation,g,y.mutation.getFieldMask(),ie.now())):c.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new vM(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Eu();let a=new ce(((c,d)=>c-d)),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Jn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const E=(a.get(d.batchId)||Lt()).add(m);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=k1();y.forEach((A=>{if(!l.has(A)){const R=H1(n.get(A),s.get(A));R!==null&&E.set(A,R),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return nt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):nt.resolve(aa());let d=Vu,m=l;return c.next((g=>nt.forEach(g,((y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((A=>{m=m.insert(y,A)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,Lt()))).next((y=>({batchId:d,changes:L1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let a=mu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(t,l).next((d=>nt.forEach(d,(m=>{const g=(function(E,A){return new $o(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))}));let d=mu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Au(y.mutation,g,Jn.empty(),ie.now()),qf(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Si(a.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:uM(a.bundledQuery),readTime:Si(a.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=aa();return nt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const a=aa(),l=n.length+1,c=new gt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ce(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=aa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return nt.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new BV(n,s));let l=this.qr.get(n);l===void 0&&(l=Lt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Qr=new Oe(Fe.$r),this.Ur=new Oe(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Fe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ee([])),s=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ee([])),s=new Fe(n,t),a=new Fe(n,t+1);let l=Lt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Fe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Ot(t.Yr,n.Yr)}static Kr(t,n){return Ot(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Fe.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UV(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Fe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Yg:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Oe(Ot);return n.forEach((a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;gt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new gt(l),0);let d=new Oe(Ot);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),nt.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(a=>{const l=new Fe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Fe(n,0),a=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=ms();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=ms();const c=n.path,d=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||JD(ZD(y),s)<=0||(a.has(y.key)||qf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new wM(this)}getSize(t){return nt.resolve(this.size)}}class wM extends yM{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.persistence=t,this.si=new Ta((n=>Xg(n)),Wg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=Lo.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Lo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),nt.waitFor(l).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Uf(0),this.li=!1,this.li=!0,this.hi=new AM,this.referenceDelegate=t(this),this.Pi=new RM(this),this.indexManager=new cM,this.remoteDocumentCache=(function(a){return new bM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lM(n),this.Ii=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new EM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new SM(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new CM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class CM extends eV{constructor(t){super(),this.currentSequenceNumber=t}}class iy{constructor(t){this.persistence=t,this.Ri=new ny,this.Vi=null}static mi(t){return new iy(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const a=gt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class _f{constructor(t,n){this.persistence=t,this.pi=new Ta((s=>sV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=gM(this,n)}static mi(t,n){return new _f(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?nt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Qh(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new sy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AI()?8:nV(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new xM;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(go()<=Pt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(go()<=Pt.DEBUG&&ft("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(go()<=Pt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(n))):nt.resolve())}ys(t,n){if(TE(n))return nt.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=gf(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Lt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(t,gf(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,s,a){return TE(n)||a.isEqual(wt.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?nt.resolve(null):(go()<=Pt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yo(n)),this.vs(t,c,n,WD(a,Vu)).next((d=>d)))}))}Ds(t,n){let s=new Oe(P1(t));return n.forEach(((a,l)=>{qf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return go()<=Pt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(t,n,lr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",DM=3e8;class VM{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ce(Ot),this.xs=new Ta((l=>Xg(l)),Wg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _M(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function MM(e,t,n,s){return new VM(e,t,n,s)}async function rb(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Lt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function NM(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const E=g.batch,A=E.keys();let R=nt.resolve();return A.forEach((D=>{R=R.next((()=>y.getEntry(m,D))).next((j=>{const O=g.docVersions.get(D);Ht(O!==null,48541),j.version.compareTo(O)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,E)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Lt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function ab(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function PM(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,E)=>{const A=a.get(E);if(!A)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,E))));let R=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(E,R),(function(j,O,F){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=DM?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(A,R,y)&&d.push(n.Pi.updateTargetData(l,R))}));let m=ms(),g=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(OM(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(wt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return nt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function OM(e,t,n){let s=Lt(),a=Lt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=ms();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(ry,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function LM(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Yg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function kM(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,nt.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new tr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function ig(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Yo(c))throw c;ft(ry,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function NE(e,t,n){const s=Rt(e);let a=wt.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const E=Rt(m),A=E.xs.get(y);return A!==void 0?nt.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,y)})(s,c,Ai(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Lt()))).next((d=>(UM(s,SV(t),d),{documents:d,Qs:l})))))}function UM(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class PE{constructor(){this.activeTargetIds=IV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BM{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(OE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(OE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function sg(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="RestConnection",zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===df?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=sg(),d=this.zo(t,n.toUriEncodedString());ft(_p,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=qo(g);return this.Jo(t,d,m,s,y).then((E=>(ft(_p,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Mo(_p,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=zM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class HM extends FM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=sg();return new Promise(((d,m)=>{const g=new o1;g.setWithCredentials(!0),g.listenOnce(l1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $h.NO_ERROR:const E=g.getResponseJson();ft(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case $h.TIMEOUT:ft(en,`RPC '${t}' ${c} timed out`),m(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const A=g.getStatus();if(ft(en,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R?.error;if(D&&D.status&&D.message){const j=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(q)>=0?q:tt.UNKNOWN})(D.status);m(new ct(j,D.message))}else m(new ct(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(en,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(en,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=sg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=h1(),d=c1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const E=c.createWebChannel(y,m);this.I_(E);let A=!1,R=!1;const D=new qM({Yo:O=>{R?ft(en,`Not sending because RPC '${t}' stream ${a} is closed:`,O):(A||(ft(en,`Opening RPC '${t}' stream ${a} transport.`),E.open(),A=!0),ft(en,`RPC '${t}' stream ${a} sending:`,O),E.send(O))},Zo:()=>E.close()}),j=(O,F,q)=>{O.listen(F,(Q=>{try{q(Q)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return j(E,du.EventType.OPEN,(()=>{R||(ft(en,`RPC '${t}' stream ${a} transport opened.`),D.o_())})),j(E,du.EventType.CLOSE,(()=>{R||(R=!0,ft(en,`RPC '${t}' stream ${a} transport closed`),D.a_(),this.E_(E))})),j(E,du.EventType.ERROR,(O=>{R||(R=!0,Mo(en,`RPC '${t}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),D.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),j(E,du.EventType.MESSAGE,(O=>{if(!R){const F=O.data[0];Ht(!!F,16349);const q=F,Q=q?.error||q[0]?.error;if(Q){ft(en,`RPC '${t}' stream ${a} received error:`,Q);const lt=Q.status;let it=(function(w){const C=Re[w];if(C!==void 0)return Y1(C)})(lt),dt=Q.message;it===void 0&&(it=tt.INTERNAL,dt="Unknown error status: "+lt+" with message "+Q.message),R=!0,D.a_(new ct(it,dt)),E.close()}else ft(en,`RPC '${t}' stream ${a} received:`,F),D.u_(F)}})),j(d,u1.STAT_EVENT,(O=>{O.stat===Kp.PROXY?ft(en,`RPC '${t}' stream ${a} detected buffering proxy`):O.stat===Kp.NOPROXY&&ft(en,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(e){return new $V(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="PersistentStream";class lb{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ob(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(kE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GM extends lb{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=WV(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Si(c.readTime):wt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ng(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Wp(m)?{documents:tM(l,m)}:{query:eM(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=X1(l,c.resumeToken);const g=Jp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=vf(l,c.snapshotVersion.toTimestamp());const g=Jp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=iM(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ng(this.serializer),n.removeTarget=t,this.q_(n)}}class KM extends lb{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=JV(t.writeResults,t.commitTime),s=Si(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ng(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>ZV(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class $M extends YM{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,tg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(tt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,tg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class XM{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Aa(this)&&(ft(ya,"Restarting streams for network reachability change."),await(async function(m){const g=Rt(m);g.Ea.add(4),await ec(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $f(g)})(this))}))})),this.Ra=new QM(s,a)}}async function $f(e){if(Aa(e))for(const t of e.da)await t(!0)}async function ec(e){for(const t of e.da)await t(!1)}function ub(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),uy(n)?ly(n):Qo(n).O_()&&oy(n,t))}function ay(e,t){const n=Rt(e),s=Qo(n);n.Ia.delete(t),s.O_()&&cb(n,t),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Ra.set("Unknown"))}function oy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qo(e).Y_(t)}function cb(e,t){e.Va.Ue(t),Qo(e).Z_(t)}function ly(e){e.Va=new HV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Qo(e).start(),e.Ra.ua()}function uy(e){return Aa(e)&&!Qo(e).x_()&&e.Ia.size>0}function Aa(e){return Rt(e).Ea.size===0}function hb(e){e.Va=void 0}async function WM(e){e.Ra.set("Online")}async function ZM(e){e.Ia.forEach(((t,n)=>{oy(e,t)}))}async function JM(e,t){hb(e),uy(e)?(e.Ra.ha(t),ly(e)):e.Ra.set("Unknown")}async function tN(e,t,n){if(e.Ra.set("Online"),t instanceof Q1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ft(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Tf(e,s)}else if(t instanceof Zh?e.Va.Ze(t):t instanceof $1?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await ab(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),cb(l,m);const E=new tr(y.target,m,g,y.sequenceNumber);oy(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ft(ya,"Failed to raise snapshot:",s),await Tf(e,s)}}async function Tf(e,t,n){if(!Yo(t))throw t;e.Ea.add(1),await ec(e),e.Ra.set("Offline"),n||(n=()=>ab(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(ya,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await $f(e)}))}function fb(e,t){return t().catch((n=>Tf(e,n,t)))}async function Qf(e){const t=Rt(e),n=fr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yg;for(;eN(t);)try{const a=await LM(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,nN(t,a)}catch(a){await Tf(t,a)}db(t)&&mb(t)}function eN(e){return Aa(e)&&e.Ta.length<10}function nN(e,t){e.Ta.push(t);const n=fr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function db(e){return Aa(e)&&!fr(e).x_()&&e.Ta.length>0}function mb(e){fr(e).start()}async function iN(e){fr(e).ra()}async function sN(e){const t=fr(e);for(const n of e.Ta)t.ea(n.mutations)}async function rN(e,t,n){const s=e.Ta.shift(),a=Jg.from(s,t,n);await fb(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Qf(e)}async function aN(e,t){t&&fr(e).X_&&await(async function(s,a){if((function(c){return zV(c)&&c!==tt.ABORTED})(a.code)){const l=s.Ta.shift();fr(s).B_(),await fb(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Qf(s)}})(e,t),db(e)&&mb(e)}async function UE(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ft(ya,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await ec(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $f(n)}async function oN(e,t){const n=Rt(e);t?(n.Ea.delete(2),await $f(n)):t||(n.Ea.add(2),await ec(n),n.Ra.set("Unknown"))}function Qo(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new GM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:WM.bind(null,e),t_:ZM.bind(null,e),r_:JM.bind(null,e),H_:tN.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),uy(e)?ly(e):e.Ra.set("Unknown")):(await e.ma.stop(),hb(e))}))),e.ma}function fr(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new KM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:iN.bind(null,e),r_:aN.bind(null,e),ta:sN.bind(null,e),na:rN.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Qf(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(ya,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new cy(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(e,t){if(ds("AsyncQueue",`${t}: ${e}`),Yo(e))return new ct(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=mu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.ga=new ce(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ko{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ko(t,n,wo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class uN{constructor(){this.queries=jE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=jE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function jE(){return new Ta((e=>N1(e)),Ff)}async function pb(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new lN,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=hy(c,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&fy(n)}async function gb(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cN(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&fy(n)}function hN(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function fy(e){e.Ca.forEach((t=>{t.next()}))}var rg,zE;(zE=rg||(rg={})).Ma="default",zE.Cache="cache";class yb{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new ko(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.key=t}}class _b{constructor(t){this.key=t}}class fN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=P1(t),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new BE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,E)=>{const A=a.get(y),R=qf(this.query,E)?E:null,D=!!A&&this.mutatedKeys.has(A.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;A&&R?A.data.isEqual(R.data)?D!==j&&(s.track({type:3,doc:R}),O=!0):this.su(A,R)||(s.track({type:2,doc:R}),O=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!A&&R?(s.track({type:0,doc:R}),O=!0):A&&!R&&(s.track({type:1,doc:A}),O=!0,(m||g)&&(d=!0)),O&&(R?(c=c.add(R),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,E)=>(function(R,D){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:O})}};return j(R)-j(D)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new ko(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new _b(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new vb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class dN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class mN{constructor(t){this.key=t,this.hu=!1}}class pN{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ta((d=>N1(d)),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=Lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(e,t,n=!0){const s=wb(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Tb(s,t,n,!0),a}async function yN(e,t){const n=wb(e);await Tb(n,t,!0,!1)}async function Tb(e,t,n,s){const a=await kM(e.localStore,Ai(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await vN(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&ub(e.remoteStore,a),d}async function vN(e,t,n,s,a){e.pu=(E,A,R)=>(async function(j,O,F,q){let Q=O.view.ru(F);Q.Cs&&(Q=await NE(j.localStore,O.query,!1).then((({documents:V})=>O.view.ru(V,Q))));const lt=q&&q.targetChanges.get(O.targetId),it=q&&q.targetMismatches.get(O.targetId)!=null,dt=O.view.applyChanges(Q,j.isPrimaryClient,lt,it);return qE(j,O.targetId,dt.au),dt.snapshot})(e,E,A,R);const l=await NE(e.localStore,t,!0),c=new fN(t,l.Qs),d=c.ru(l.documents),m=tc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);qE(e,n,g.au);const y=new dN(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function _N(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Ff(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ig(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ay(s.remoteStore,a.targetId),ag(s,a.targetId)})).catch(Ko)):(ag(s,a.targetId),await ig(s.localStore,a.targetId,!0))}async function TN(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ay(n.remoteStore,s.targetId))}async function EN(e,t,n){const s=xN(e);try{const a=await(function(c,d){const m=Rt(c),g=ie.now(),y=d.reduce(((R,D)=>R.add(D.key)),Lt());let E,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let D=ms(),j=Lt();return m.Ns.getEntries(R,y).next((O=>{D=O,D.forEach(((F,q)=>{q.isValidDocument()||(j=j.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,D))).next((O=>{E=O;const F=[];for(const q of d){const Q=LV(q,E.get(q.key).overlayedDocument);Q!=null&&F.push(new Ea(q.key,Q,w1(Q.value.mapValue),cs.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,F,d)})).next((O=>{A=O;const F=O.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(R,O.batchId,F)}))})).then((()=>({batchId:A.batchId,changes:L1(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(Ot)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await nc(s,a.changes),await Qf(s.remoteStore)}catch(a){const l=hy(a,"Failed to persist write");n.reject(l)}}async function Eb(e,t){const n=Rt(e);try{const s=await PM(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ht(c.hu,14607):a.removedDocuments.size>0&&(Ht(c.hu,42227),c.hu=!1))})),await nc(n,s,t)}catch(s){await Ko(s)}}function FE(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Rt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)})),g&&fy(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function AN(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ce(gt.comparator);c=c.insert(l,sn.newNoDocument(l,wt.min()));const d=Lt().add(l),m=new Kf(wt.min(),new Map,new ce(Ot),c,d);await Eb(s,m),s.du=s.du.remove(l),s.Au.delete(t),my(s)}else await ig(s.localStore,t,!1).then((()=>ag(s,t,n))).catch(Ko)}async function SN(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await NM(n.localStore,t);Sb(n,s,null),Ab(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nc(n,a)}catch(a){await Ko(a)}}async function bN(e,t,n){const s=Rt(e);try{const a=await(function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((E=>(Ht(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);Sb(s,t,n),Ab(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await nc(s,a)}catch(a){await Ko(a)}}function Ab(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Sb(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function ag(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||bb(e,s)}))}function bb(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(ay(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),my(e))}function qE(e,t,n){for(const s of n)s instanceof vb?(e.Ru.addReference(s.key,t),wN(e,s)):s instanceof _b?(ft(dy,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||bb(e,s.key)):Tt(19791,{wu:s})}function wN(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ft(dy,"New document in limbo: "+n),e.Eu.add(s),my(e))}function my(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(ee.fromString(t)),s=e.fu.next();e.Au.set(s,new mN(n)),e.du=e.du.insert(n,s),ub(e.remoteStore,new tr(Ai(zf(n.path)),s,"TargetPurposeLimboResolution",Uf.ce))}}async function nc(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=sy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>nt.forEach(g,(A=>nt.forEach(A.Es,(R=>y.persistence.referenceDelegate.addReference(E,A.targetId,R))).next((()=>nt.forEach(A.ds,(R=>y.persistence.referenceDelegate.removeReference(E,A.targetId,R)))))))))}catch(E){if(!Yo(E))throw E;ft(ry,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const R=y.Ms.get(A),D=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(A,j)}}})(s.localStore,l))}async function RN(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ft(dy,"User change. New user:",t.toKey());const s=await rb(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ct(tt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await nc(n,s.Ls)}}function CN(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let a=Lt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function wb(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AN.bind(null,t),t.Pu.H_=cN.bind(null,t.eventManager),t.Pu.yu=hN.bind(null,t.eventManager),t}function xN(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,t),t}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return MM(this.persistence,new IM,t.initialUser,this.serializer)}Cu(t){return new sb(iy.mi,this.serializer)}Du(t){return new BM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class IN extends Ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof _f,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mM(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new sb((s=>_f.mi(s,n)),this.serializer)}}class og{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uN})()}createDatastore(t){const n=Yf(t.databaseInfo.databaseId),s=(function(l){return new HM(l)})(t.databaseInfo);return(function(l,c,d,m){return new $M(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new XM(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>FE(this.syncEngine,n,0)),(function(){return LE.v()?new LE:new jM})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,y){const E=new pN(a,l,c,d,m,g);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ft(ya,"RemoteStore shutting down."),s.Ea.add(5),await ec(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}og.provider={build:()=>new og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class DN{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=Kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(dr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(dr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=hy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ep(e,t){e.asyncQueue.verifyOperationInProgress(),ft(dr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await rb(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function HE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await VN(e);ft(dr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>UE(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>UE(t.remoteStore,a))),e._onlineComponents=t}async function VN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(dr,"Using user provided OfflineComponentProvider");try{await Ep(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Ep(e,new Ef)}}else ft(dr,"Using default OfflineComponentProvider"),await Ep(e,new IN(void 0));return e._offlineComponents}async function Cb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(dr,"Using user provided OnlineComponentProvider"),await HE(e,e._uninitializedComponentsProvider._online)):(ft(dr,"Using default OnlineComponentProvider"),await HE(e,new og))),e._onlineComponents}function MN(e){return Cb(e).then((t=>t.syncEngine))}async function lg(e){const t=await Cb(e),n=t.eventManager;return n.onListen=gN.bind(null,t.syncEngine),n.onUnlisten=_N.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=TN.bind(null,t.syncEngine),n}function NN(e,t,n={}){const s=new rr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new Rb({next:A=>{y.Nu(),c.enqueueAndForget((()=>gb(l,E)));const R=A.docs.has(d);!R&&A.fromCache?g.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&m&&m.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new yb(zf(d.path),y,{includeMetadataChanges:!0,qa:!0});return pb(l,E)})(await lg(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firestore.googleapis.com",KE=!0;class YE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ib,this.ssl=KE}else this.host=t.host,this.ssl=t.ssl??KE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fM)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xf{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new jD;switch(s.type){case"firstParty":return new HD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=GE.get(n);s&&(ft("ComponentProvider","Removing Datastore"),GE.delete(n),s.terminate())})(this),Promise.resolve()}}function PN(e,t,n,s={}){e=ar(e,Xf);const a=qo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(ZS(`https://${d}`),JS("Firestore",!0)),l.host!==Ib&&l.host!==d&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ma(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=nn.MOCK_USER;else{g=dI(s.mockUserToken,e._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(E)}e._authCredentials=new zD(new d1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yr(this.firestore,t,this._query)}}class Te{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Zu(n,Te._jsonSchema))return new Te(t,s||null,new gt(ee.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ie("string",Te._jsonSchemaVersion),referencePath:Ie("string")};class or extends yr{constructor(t,n,s){super(t,n,zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new gt(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function py(e,t,...n){if(e=fn(e),m1("collection","path",t),e instanceof Xf){const s=ee.fromString(t,...n);return aE(s),new or(e,null,s)}{if(!(e instanceof Te||e instanceof or))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return aE(s),new or(e.firestore,null,s)}}function ic(e,t,...n){if(e=fn(e),arguments.length===1&&(t=Kg.newId()),m1("doc","path",t),e instanceof Xf){const s=ee.fromString(t,...n);return rE(s),new Te(e,null,new gt(s))}{if(!(e instanceof Te||e instanceof or))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return rE(s),new Te(e.firestore,e instanceof or?e.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="AsyncQueue";class QE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ob(this,"async_queue_retry"),this._c=()=>{const s=Tp();s&&ft($E,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;ft($E,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",XE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=cy.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function XE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class Bu extends Xf{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new QE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new QE(t),this._firestoreClient=void 0,await t}}}function ON(e,t){const n=typeof e=="object"?e:i1(),s=typeof e=="string"?e:df,a=Hg(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=hI("firestore");l&&PN(a,...l)}return a}function gy(e){if(e._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||LN(e),e._firestoreClient}function LN(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new oV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new DN(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(We.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ie("string",qn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Zu(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ie("string",bi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zu(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new wi(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class UN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ea(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(t,this.data,n,this.fieldTransforms)}}function Db(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:e})}}class _y{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _y({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Af(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Db(this.Ac)&&kN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yf(t)}Cc(t,n,s,a=!1){return new _y({Ac:t,methodName:n,Dc:s,path:Xe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vb(e){const t=e._freezeSettings(),n=Yf(e._databaseId);return new BN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jN(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Pb("Data must be an object, but it was:",c,s);const d=Mb(s,c);let m,g;if(l.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const A=FN(t,E,n);if(!c.contains(A))throw new ct(tt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);HN(y,A)||y.push(A)}m=new Jn(y),g=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=c.fieldTransforms;return new UN(new Fn(d),m,g)}class Ty extends vy{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new Uu(t.serializer,B1(t.serializer,this.Fc));return new MV(t.path,n)}isEqual(t){return t instanceof Ty&&this.Fc===t.Fc}}function zN(e,t,n,s=!1){return Ey(n,e.Cc(s?4:3,t))}function Ey(e,t){if(Nb(e=fn(e)))return Pb("Unsupported field value:",t,e),Mb(e,t);if(e instanceof vy)return(function(s,a){if(!Db(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Ey(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return B1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ie.fromDate(s);return{timestampValue:vf(a.serializer,l)}}if(s instanceof ie){const l=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vf(a.serializer,l)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:X1(a.serializer,s._byteString)};if(s instanceof Te){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ey(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof wi)return(function(c,d){return{mapValue:{fields:{[S1]:{stringValue:b1},[mf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Zg(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${kf(s)}`)})(e,t)}function Mb(e,t){const n={};return y1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(e,((s,a)=>{const l=Ey(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Nb(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof bi||e instanceof qn||e instanceof Te||e instanceof vy||e instanceof wi)}function Pb(e,t,n){if(!Nb(n)||!p1(n)){const s=kf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function FN(e,t,n){if((t=fn(t))instanceof yy)return t._internalPath;if(typeof t=="string")return Ob(e,t);throw Af("Field path arguments must be of type string or ",e,!1,void 0,n)}const qN=new RegExp("[~\\*/\\[\\]]");function Ob(e,t,n){if(t.search(qN)>=0)throw Af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yy(...t.split("."))._internalPath}catch{throw Af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Af(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ct(tt.INVALID_ARGUMENT,d+e+m)}function HN(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ay("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GN extends Lb{data(){return super.data()}}function Ay(e,t){return typeof t=="string"?Ob(e,t):t instanceof yy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class by extends Sy{}function YN(e,t,...n){let s=[];t instanceof Sy&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Ry)).length,d=l.filter((m=>m instanceof wy)).length;if(c>1||c>0&&d>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class wy extends by{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new wy(t,n,s)}_apply(t){const n=this._parse(t);return kb(t._query,n),new yr(t.firestore,t.converter,Zp(t._query,n))}_parse(t){const n=Vb(t.firestore);return(function(l,c,d,m,g,y,E){let A;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){JE(E,y);const D=[];for(const j of E)D.push(ZE(m,l,j));A={arrayValue:{values:D}}}else A=ZE(m,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||JE(E,y),A=zN(d,c,E,y==="in"||y==="not-in");return xe.create(g,y,A)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ry extends Sy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ry(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)kb(c,m),c=Zp(c,m)})(t._query,n),new yr(t.firestore,t.converter,Zp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends by{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Cy(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(l,c)})(t._query,this._field,this._direction);return new yr(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new $o(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function $N(e,t="asc"){const n=t,s=Ay("orderBy",e);return Cy._create(s,n)}class xy extends by{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new xy(t,n,s)}_apply(t){return new yr(t.firestore,t.converter,gf(t._query,this._limit,this._limitType))}}function QN(e){return xy._create("limit",e,"F")}function ZE(e,t,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!gt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mE(e,new gt(s))}if(n instanceof Te)return mE(e,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function JE(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kb(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class XN{convertValue(t,n="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return _a(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[mf].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new wi(n)}convertGeoPoint(t){return new bi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=jf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mu(t));default:return null}}convertTimestamp(t){const n=ur(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(nb(s),9688,{name:t});const a=new Nu(s.get(1),s.get(3)),l=new gt(s.popFirst(5));return a.isEqual(n)||ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class gu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends Lb{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ay("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Ie("string",ca._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Jh extends ca{data(t={}){return super.data(t)}}class Ro{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new gu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Jh(this._firestore,this._userDataWriter,s.key,s,new gu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Jh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new gu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Jh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new gu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:ZN(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(e){e=ar(e,Te);const t=ar(e.firestore,Bu);return NN(gy(t),e._key).then((n=>Bb(t,e,n)))}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Ie("string",Ro._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Ub extends XN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function Iy(e,t,n){e=ar(e,Te);const s=ar(e.firestore,Bu),a=WN(e.converter,t,n);return tP(s,[jN(Vb(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,cs.none())])}function Wf(e,...t){e=fn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||WE(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WE(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(e instanceof Te)c=ar(e.firestore,Bu),d=zf(e._key.path),l={next:m=>{t[s]&&t[s](Bb(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=ar(e,yr);c=ar(m.firestore,Bu),d=m._query;const g=new Ub(c);l={next:y=>{t[s]&&t[s](new Ro(c,g,m,y))},error:t[s+1],complete:t[s+2]},KN(e._query)}return(function(g,y,E,A){const R=new Rb(A),D=new yb(y,R,E);return g.asyncQueue.enqueueAndForget((async()=>pb(await lg(g),D))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>gb(await lg(g),D)))}})(gy(c),d,a,l)}function tP(e,t){return(function(s,a){const l=new rr;return s.asyncQueue.enqueueAndForget((async()=>EN(await MN(s),a,l))),l.promise})(gy(e),t)}function Bb(e,t,n){const s=n.docs.get(t._key),a=new Ub(e);return new ca(e,a,t._key,s,new gu(n.hasPendingWrites,n.fromCache),t.converter)}function jb(e){return new Ty("increment",e)}(function(t,n=!0){(function(a){Go=a})(Ho),Vo(new pa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Bu(new FD(s.getProvider("auth-internal")),new GD(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ir(eE,nE,t),ir(eE,nE,"esm2020")})();var eP="firebase",nP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(eP,nP,"app");function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iP=zb,Fb=new Xu("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Fg("@firebase/auth");function sP(e,...t){Sf.logLevel<=Pt.WARN&&Sf.warn(`Auth (${Ho}): ${e}`,...t)}function tf(e,...t){Sf.logLevel<=Pt.ERROR&&Sf.error(`Auth (${Ho}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e,...t){throw Vy(e,...t)}function ei(e,...t){return Vy(e,...t)}function Dy(e,t,n){const s={...iP(),[t]:n};return new Xu("auth","Firebase",s).create(t,{appName:e.name})}function ha(e){return Dy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Mi(e,"argument-error"),Dy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Fb.create(e,...t)}function St(e,t,...n){if(!e)throw Vy(t,...n)}function os(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tf(t),new Error(t)}function ps(e,t){e||os(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return typeof self<"u"&&self.location?.href||""}function aP(){return tA()==="http:"||tA()==="https:"}function tA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aP()||_I()||"connection"in navigator)?navigator.onLine:!0}function lP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ps(n>t,"Short delay should be less than long delay!"),this.isMobile=gI()||TI()}get(){return oP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(e,t){ps(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hP=new sc(3e4,6e4);function Ny(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Xo(e,t,n,s,a={}){return Hb(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Wu({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return vI()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&qo(e.emulatorConfig.host)&&(g.credentials="include"),qb.fetch()(await Gb(e,e.config.apiHost,n,d),g)})}async function Hb(e,t,n){e._canInitEmulator=!1;const s={...uP,...t};try{const a=new dP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dy(e,y,g);Mi(e,y)}}catch(a){if(a instanceof vs)throw a;Mi(e,"network-request-failed",{message:String(a)})}}async function fP(e,t,n,s,a={}){const l=await Xo(e,t,n,s,a);return"mfaPendingCredential"in l&&Mi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function Gb(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?My(e.config,a):`${e.config.apiScheme}://${a}`;return cP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class dP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),hP.get())})}}function Fh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ei(e,t,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(e,t){return Xo(e,"POST","/v1/accounts:delete",t)}async function bf(e,t){return Xo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pP(e,t=!1){const n=fn(e),s=await n.getIdToken(t),a=Py(s);St(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Su(Ap(a.auth_time)),issuedAtTime:Su(Ap(a.iat)),expirationTime:Su(Ap(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ap(e){return Number(e)*1e3}function Py(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const a=$S(n);return a?JSON.parse(a):(tf("Failed to decode base64 JWT payload"),null)}catch(a){return tf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function eA(e){const t=Py(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof vs&&gP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function gP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(e){const t=e.auth,n=await e.getIdToken(),s=await ju(e,bf(t,{idToken:n}));St(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?Kb(a.providerUserInfo):[],c=_P(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new cg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function vP(e){const t=fn(e);await wf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _P(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Kb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(e,t){const n=await Hb(e,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await Gb(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&qo(e.emulatorConfig.host)&&(m.credentials="include"),qb.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EP(e,t){return Xo(e,"POST","/v2/accounts:revokeToken",Ny(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=eA(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await TP(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Co;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(St(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new yP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await ju(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pP(this,t)}reload(){return vP(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ha(this.auth));const t=await this.getIdToken();return await ju(this,mP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:R,providerData:D,stsTokenManager:j}=n;St(E&&j,t,"internal-error");const O=Co.fromJSON(this.name,j);St(typeof E=="string",t,"internal-error"),$s(s,t.name),$s(a,t.name),St(typeof A=="boolean",t,"internal-error"),St(typeof R=="boolean",t,"internal-error"),$s(l,t.name),$s(c,t.name),$s(d,t.name),$s(m,t.name),$s(g,t.name),$s(y,t.name);const F=new ti({uid:E,auth:t,email:a,emailVerified:A,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:O,createdAt:g,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(q=>({...q}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,n,s=!1){const a=new Co;a.updateFromServerResponse(n);const l=new ti({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await wf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Kb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Co;d.updateFromIdToken(s);const m=new ti({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new cg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Map;function ls(e){ps(e instanceof Function,"Expected a class definition");let t=nA.get(e);return t?(ps(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Yb.type="NONE";const iA=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e,t,n){return`firebase:${e}:${t}:${n}`}class xo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=ef("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await bf(this.auth,{idToken:t}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xo(ls(iA),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ls(iA);const c=ef(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const A=await bf(t,{idToken:y}).catch(()=>{});if(!A)break;E=await ti._fromGetAccountInfoResponse(t,A,y)}else E=ti._fromJSON(t,y);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new xo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new xo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($b(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jb(t))return"Blackberry";if(tw(t))return"Webos";if(Qb(t))return"Safari";if((t.includes("chrome/")||Xb(t))&&!t.includes("edge/"))return"Chrome";if(Zb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function $b(e=an()){return/firefox\//i.test(e)}function Qb(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xb(e=an()){return/crios\//i.test(e)}function Wb(e=an()){return/iemobile/i.test(e)}function Zb(e=an()){return/android/i.test(e)}function Jb(e=an()){return/blackberry/i.test(e)}function tw(e=an()){return/webos/i.test(e)}function Oy(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function AP(e=an()){return Oy(e)&&!!window.navigator?.standalone}function SP(){return EI()&&document.documentMode===10}function ew(e=an()){return Oy(e)||Zb(e)||tw(e)||Jb(e)||/windows phone/i.test(e)||Wb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(e,t=[]){let n;switch(e){case"Browser":n=sA(an());break;case"Worker":n=`${sA(an())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(e,t={}){return Xo(e,"GET","/v2/passwordPolicy",Ny(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=6;class CP{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rA(this),this.idTokenSubscription=new rA(this),this.beforeStateQueue=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await bf(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(ha(this));const n=t?fn(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wP(this),n=new CP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ls(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zf(e){return fn(e)}class rA{constructor(t){this.auth=t,this.observer=null,this.addObserver=II(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IP(e){Ly=e}function DP(e){return Ly.loadJS(e)}function VP(){return Ly.gapiScript}function MP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e,t){const n=Hg(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ma(l,t??{}))return a;Mi(a,"already-initialized")}return n.initialize({options:t})}function PP(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ls);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function OP(e,t,n){const s=Zf(e);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=iw(t),{host:c,port:d}=LP(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(ma(g,s.config.emulator)&&ma(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,qo(c)?(ZS(`${l}//${c}${m}`),JS("Auth",!0)):kP()}function iw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function LP(e){const t=iw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:aA(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:aA(c)}}}function aA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function kP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,n){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(e,t){return fP(e,"POST","/v1/accounts:signInWithIdp",Ny(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="http://localhost";class va extends sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new va(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Io(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Io(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Io(t,n)}buildRequest(){const t={requestUri:UP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Wu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends ky{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends rc{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return va._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends rc{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends rc{constructor(){super("twitter.com")}static credential(t,n){return va._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Js.credential(n,s)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ti._fromIdTokenResponse(t,s,a),c=oA(s);return new Uo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=oA(s);return new Uo({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function oA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends vs{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Rf(t,n,s,a)}}function rw(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(e,l,t,s):l})}async function BP(e,t,n=!1){const s=await ju(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Uo._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(e,t,n=!1){const{auth:s}=e;if(Zn(s.app))return Promise.reject(ha(s));const a="reauthenticate";try{const l=await ju(e,rw(s,a,t,e),n);St(l.idToken,s,"internal-error");const c=Py(l.idToken);St(c,s,"internal-error");const{sub:d}=c;return St(e.uid===d,s,"user-mismatch"),Uo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Mi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(e,t,n=!1){if(Zn(e.app))return Promise.reject(ha(e));const s="signIn",a=await rw(e,s,t),l=await Uo._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function FP(e,t,n,s){return fn(e).onIdTokenChanged(t,n,s)}function qP(e,t,n){return fn(e).beforeAuthStateChanged(t,n)}function HP(e,t,n,s){return fn(e).onAuthStateChanged(t,n,s)}function GP(e){return fn(e).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1e3,YP=10;class ow extends aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);SP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,YP):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ow.type="LOCAL";const $P=ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}lw.type="SESSION";const uw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Jf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await QP(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Uy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function WP(e){Ri().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function ZP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JP(){return navigator?.serviceWorker?.controller||null}function tO(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebaseLocalStorageDb",eO=1,xf="firebaseLocalStorage",fw="fbase_key";class ac{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(e,t){return e.transaction([xf],t?"readwrite":"readonly").objectStore(xf)}function nO(){const e=indexedDB.deleteDatabase(hw);return new ac(e).toPromise()}function hg(){const e=indexedDB.open(hw,eO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(xf,{keyPath:fw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(xf)?t(s):(s.close(),await nO(),t(await hg()))})})}async function lA(e,t,n){const s=td(e,!0).put({[fw]:t,value:n});return new ac(s).toPromise()}async function iO(e,t){const n=td(e,!1).get(t),s=await new ac(n).toPromise();return s===void 0?null:s.value}function uA(e,t){const n=td(e,!0).delete(t);return new ac(n).toPromise()}const sO=800,rO=3;class dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>rO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(tO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZP(),!this.activeServiceWorker)return;this.sender=new XP(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hg();return await lA(t,Cf,"1"),await uA(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lA(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>iO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=td(a,!1).getAll();return new ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dw.type="LOCAL";const aO=dw;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(e,t){return t?ls(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends sw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function oO(e){return zP(e.auth,new By(e),e.bypassAuthState)}function lO(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),jP(n,new By(e),e.bypassAuthState)}async function uO(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),BP(n,new By(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oO;case"linkViaPopup":case"linkViaRedirect":return uO;case"reauthViaPopup":case"reauthViaRedirect":return lO;default:Mi(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new sc(2e3,1e4);async function hO(e,t,n){if(Zn(e.app))return Promise.reject(ei(e,"operation-not-supported-in-this-environment"));const s=Zf(e);rP(e,t,ky);const a=mw(s,n);return new oa(s,"signInViaPopup",t,a).executeNotNull()}class oa extends pw{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cO.get())};t()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="pendingRedirect",nf=new Map;class dO extends pw{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const s=await mO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mO(e,t){const n=yO(t),s=gO(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function pO(e,t){nf.set(e._key(),t)}function gO(e){return ls(e._redirectPersistence)}function yO(e){return ef(fO,e.config.apiKey,e.name)}async function vO(e,t,n=!1){if(Zn(e.app))return Promise.reject(ha(e));const s=Zf(e),a=mw(s,t),c=await new dO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=600*1e3;class TO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!gw(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ei(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_O&&this.cachedEventUids.clear(),this.cachedEventUids.has(cA(t))}saveEventToCache(t){this.cachedEventUids.add(cA(t)),this.lastProcessedEventTime=Date.now()}}function cA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function gw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function EO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(e,t={}){return Xo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bO=/^https?/;async function wO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await AO(e);for(const n of t)try{if(RO(n))return}catch{}Mi(e,"unauthorized-domain")}function RO(e){const t=ug(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!bO.test(n))return!1;if(SO.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new sc(3e4,6e4);function hA(){const e=Ri().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xO(e){return new Promise((t,n)=>{function s(){hA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hA(),n(ei(e,"network-request-failed"))},timeout:CO.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const a=MP("iframefcb");return Ri()[a]=()=>{gapi.load?s():n(ei(e,"network-request-failed"))},DP(`${VP()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw sf=null,t})}let sf=null;function IO(e){return sf=sf||xO(e),sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new sc(5e3,15e3),VO="__/auth/iframe",MO="emulator/auth/iframe",NO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OO(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?My(t,MO):`https://${e.config.authDomain}/${VO}`,s={apiKey:t.apiKey,appName:e.name,v:Ho},a=PO.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Wu(s).slice(1)}`}async function LO(e){const t=await IO(e),n=Ri().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:OO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ei(e,"network-request-failed"),d=Ri().setTimeout(()=>{l(c)},DO.get());function m(){Ri().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UO=500,BO=600,jO="_blank",zO="http://localhost";class fA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FO(e,t,n,s=UO,a=BO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...kO,width:s.toString(),height:a.toString(),top:l,left:c},g=an().toLowerCase();n&&(d=Xb(g)?jO:n),$b(g)&&(t=t||zO,m.scrollbars="yes");const y=Object.entries(m).reduce((A,[R,D])=>`${A}${R}=${D},`,"");if(AP(g)&&d!=="_self")return qO(t||"",d),new fA(null);const E=window.open(t||"",d,y);St(E,e,"popup-blocked");try{E.focus()}catch{}return new fA(E)}function qO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="__/auth/handler",GO="emulator/auth/handler",KO=encodeURIComponent("fac");async function dA(e,t,n,s,a,l){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ho,eventId:a};if(t instanceof ky){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",xI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(t instanceof rc){const y=t.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${KO}=${encodeURIComponent(m)}`:"";return`${YO(e)}?${Wu(d).slice(1)}${g}`}function YO({config:e}){return e.emulator?My(e,GO):`https://${e.authDomain}/${HO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class $O{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=vO,this._overrideRedirectResult=pO}async _openPopup(t,n,s,a){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await dA(t,n,s,ug(),a);return FO(t,l,Uy())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await dA(t,n,s,ug(),a);return WP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ps(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await LO(t),s=new TO(t);return n.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sp,{type:Sp},a=>{const l=a?.[0]?.[Sp];l!==void 0&&n(!!l),Mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ew()||Qb()||Oy()}}const QO=$O;var mA="@firebase/auth",pA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZO(e){Vo(new pa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nw(e)},g=new xP(s,a,l,m);return PP(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Vo(new pa("auth-internal",t=>{const n=Zf(t.getProvider("auth").getImmediate());return(s=>new XO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(mA,pA,WO(e)),ir(mA,pA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=300,t4=WS("authIdTokenMaxAge")||JO;let gA=null;const e4=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>t4)return;const a=n?.token;gA!==a&&(gA=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function n4(e=i1()){const t=Hg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=NP(e,{popupRedirectResolver:QO,persistence:[aO,$P,uw]}),s=WS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=e4(l.toString());qP(n,c,()=>c(n.currentUser)),FP(n,d=>c(d))}}const a=QS("auth");return a&&OP(n,`http://${a}`),n}function i4(){return document.getElementsByTagName("head")?.[0]??document}IP({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=ei("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",i4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZO("Browser");const s4={apiKey:"AIzaSyBvROuv4CkJyfUby87owjFAmYvpyf8UU_c",authDomain:"test-3054c.firebaseapp.com",projectId:"test-3054c",storageBucket:"test-3054c.firebasestorage.app",messagingSenderId:"536496457232",appId:"1:536496457232:web:ad63fed147ce0f53f92c95",measurementId:"G-ZHT05S70E5"},yw=n1(s4),vr=ON(yw),fg=n4(yw),r4=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(!0),a="tanya-thanawey";U.useEffect(()=>{const d=py(vr,`artifacts/${a}/public/data/exams`),m=Wf(d,g=>{const y=g.docs.map(E=>({id:E.id,...E.data()}));t(y),s(!1)},g=>{console.error("Error fetching exams:",g),s(!1)});return()=>m()},[]);const l=()=>Y.jsx("div",{className:"skeleton-card",children:Y.jsxs("div",{className:"space-y-3",children:[Y.jsx("div",{className:"skeleton-line w-3/4 mx-auto"}),Y.jsx("div",{className:"skeleton-line w-1/2 mx-auto"})]})}),c=({exam:d})=>{const m=d.questions.reduce((g,y)=>g+(y.points||1),0);return Y.jsx(zg,{to:`/exam/${d.id}`,className:"bg-white p-6 md:p-8 rounded-xl shadow-lg cursor-pointer flex flex-col justify-between no-underline",children:Y.jsxs("div",{children:[Y.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:d.name||` ${d.id}`}),Y.jsxs("p",{className:"text-center text-gray-500 mt-4 text-base md:text-lg",children:[d.questions.length," "]}),Y.jsxs("p",{className:"text-center text-blue-600 font-bold mt-2 text-base md:text-lg",children:[" : ",m]})]})})};return Y.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[Y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-800 my-8",children:" "}),Y.jsx("div",{id:"exams-list",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Y.jsxs(Y.Fragment,{children:[Y.jsx(l,{}),Y.jsx(l,{}),Y.jsx(l,{})]}):e.length===0?Y.jsx("p",{className:"col-span-full text-center text-gray-500",children:"    ."}):e.map(d=>Y.jsx(c,{exam:d},d.id))})]})},a4=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(!0),a="tanya-thanawey";return U.useEffect(()=>{const l=py(vr,`artifacts/${a}/public/data/subjects`),c=Wf(l,d=>{const m=d.docs.map(g=>g.data());t(m),s(!1)},d=>{console.error("Error fetching subjects:",d),s(!1)});return()=>c()},[]),{subjects:e,loading:n}},o4=()=>{const{subjects:e,loading:t}=a4();return t?Y.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[Y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-blue-600 my-8",children:"  "}),Y.jsx("div",{className:"spinner"})]}):Y.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[Y.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-blue-600 my-8",children:"  "}),Y.jsx("div",{id:"subjects-container",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length===0?Y.jsx("p",{className:"col-span-full text-center text-gray-600",children:"   ."}):e.map((n,s)=>Y.jsxs("a",{href:n.link||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center justify-center space-y-4 cursor-pointer no-underline",children:[Y.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:n.name}),Y.jsxs("div",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 space-x-reverse",children:[Y.jsx("i",{className:"fas fa-download"}),Y.jsx("span",{children:""})]})]},s))})]})},oc=()=>{const[e,t]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>{const a=HP(fg,l=>{t(l),s(!1)});return()=>a()},[]),{user:e,loading:n}},l4=()=>{const{user:e}=oc(),[t,n]=U.useState(0),[s,a]=U.useState(!0);return U.useEffect(()=>{if(e){const l=ic(vr,"users",e.uid),c=Wf(l,d=>{d.exists()?n(d.data().points||0):n(0),a(!1)},d=>{console.error("Error fetching user points:",d),a(!1)});return()=>c()}else n(0),a(!1)},[e]),{points:t,loading:s}},u4=()=>{const{user:e}=oc(),{points:t,loading:n}=l4(),s=()=>{if(e){const a=ic(vr,"users",e.uid);Iy(a,{points:jb(10)},{merge:!0}).catch(l=>{console.error("Error adding points: ",l)})}};return n?Y.jsx("div",{className:"container mx-auto p-4 flex-grow",children:Y.jsx("div",{className:"spinner"})}):Y.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[Y.jsxs("div",{className:"fixed top-4 right-4 md:right-52 bg-blue-500 text-white p-6 rounded-full shadow-lg flex items-center",children:[Y.jsx("span",{className:"text-4xl font-bold",children:t}),Y.jsx("span",{className:"mr-2",children:""})]}),Y.jsx("div",{className:"mt-40 text-center",children:e&&Y.jsx("button",{onClick:s,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:" 10  ()"})})]})},vw=U.createContext({});function c4(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const jy=typeof window<"u",h4=jy?U.useLayoutEffect:U.useEffect,zy=U.createContext(null);function Fy(e,t){e.indexOf(t)===-1&&e.push(t)}function qy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gs=(e,t,n)=>n>t?t:n<e?e:n;let Hy=()=>{};const ys={},_w=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Tw(e){return typeof e=="object"&&e!==null}const Ew=e=>/^0[^.\s]+$/u.test(e);function Gy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hn=e=>e,f4=(e,t)=>n=>t(e(n)),lc=(...e)=>e.reduce(f4),zu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Ky{constructor(){this.subscriptions=[]}add(t){return Fy(this.subscriptions,t),()=>qy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=e=>e*1e3,xi=e=>e/1e3;function Aw(e,t){return t?e*(1e3/t):0}const Sw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,d4=1e-7,m4=12;function p4(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=Sw(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>d4&&++d<m4);return c}function uc(e,t,n,s){if(e===t&&n===s)return Hn;const a=l=>p4(l,0,1,e,n);return l=>l===0||l===1?l:Sw(a(l),t,s)}const bw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ww=e=>t=>1-e(1-t),Rw=uc(.33,1.53,.69,.99),Yy=ww(Rw),Cw=bw(Yy),xw=e=>(e*=2)<1?.5*Yy(e):.5*(2-Math.pow(2,-10*(e-1))),$y=e=>1-Math.sin(Math.acos(e)),Iw=ww($y),Dw=bw($y),g4=uc(.42,0,1,1),y4=uc(0,0,.58,1),Vw=uc(.42,0,.58,1),v4=e=>Array.isArray(e)&&typeof e[0]!="number",Mw=e=>Array.isArray(e)&&typeof e[0]=="number",_4={linear:Hn,easeIn:g4,easeInOut:Vw,easeOut:y4,circIn:$y,circInOut:Dw,circOut:Iw,backIn:Yy,backInOut:Cw,backOut:Rw,anticipate:xw},T4=e=>typeof e=="string",yA=e=>{if(Mw(e)){Hy(e.length===4);const[t,n,s,a]=e;return uc(t,n,s,a)}else if(T4(e))return _4[e];return e},qh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function E4(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,E=!1,A=!1)=>{const D=A&&a?n:s;return E&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const A4=40;function Nw(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=qh.reduce((Q,lt)=>(Q[lt]=E4(l),Q),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:E,preRender:A,render:R,postRender:D}=c,j=()=>{const Q=ys.useManualTiming?a.timestamp:performance.now();n=!1,ys.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Q-a.timestamp,A4),1)),a.timestamp=Q,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),E.process(a),A.process(a),R.process(a),D.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(j))},O=()=>{n=!0,s=!0,a.isProcessing||e(j)};return{schedule:qh.reduce((Q,lt)=>{const it=c[lt];return Q[lt]=(dt,V=!1,w=!1)=>(n||O(),it.schedule(dt,V,w)),Q},{}),cancel:Q=>{for(let lt=0;lt<qh.length;lt++)c[qh[lt]].cancel(Q)},state:a,steps:c}}const{schedule:ae,cancel:mr,state:$e,steps:bp}=Nw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let rf;function S4(){rf=void 0}const yn={now:()=>(rf===void 0&&yn.set($e.isProcessing||ys.useManualTiming?$e.timestamp:performance.now()),rf),set:e=>{rf=e,queueMicrotask(S4)}},Pw=e=>t=>typeof t=="string"&&t.startsWith(e),Qy=Pw("--"),b4=Pw("var(--"),Xy=e=>b4(e)?w4.test(e.split("/*")[0].trim()):!1,w4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fu={...Wo,transform:e=>gs(0,1,e)},Hh={...Wo,default:1},bu=e=>Math.round(e*1e5)/1e5,Wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R4(e){return e==null}const C4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zy=(e,t)=>n=>!!(typeof n=="string"&&C4.test(n)&&n.startsWith(e)||t&&!R4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ow=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Wy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},x4=e=>gs(0,255,e),wp={...Wo,transform:e=>Math.round(x4(e))},la={test:Zy("rgb","red"),parse:Ow("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+wp.transform(e)+", "+wp.transform(t)+", "+wp.transform(n)+", "+bu(Fu.transform(s))+")"};function I4(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dg={test:Zy("#"),parse:I4,transform:la.transform},cc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=cc("deg"),Ii=cc("%"),At=cc("px"),D4=cc("vh"),V4=cc("vw"),vA={...Ii,parse:e=>Ii.parse(e)/100,transform:e=>Ii.transform(e*100)},To={test:Zy("hsl","hue"),parse:Ow("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ii.transform(bu(t))+", "+Ii.transform(bu(n))+", "+bu(Fu.transform(s))+")"},Ce={test:e=>la.test(e)||dg.test(e)||To.test(e),parse:e=>la.test(e)?la.parse(e):To.test(e)?To.parse(e):dg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?la.transform(e):To.transform(e),getAnimatableNone:e=>{const t=Ce.parse(e);return t.alpha=0,Ce.transform(t)}},M4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Wy)?.length||0)+(e.match(M4)?.length||0)>0}const Lw="number",kw="color",P4="var",O4="var(",_A="${}",L4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(L4,m=>(Ce.test(m)?(s.color.push(l),a.push(kw),n.push(Ce.parse(m))):m.startsWith(O4)?(s.var.push(l),a.push(P4),n.push(m)):(s.number.push(l),a.push(Lw),n.push(parseFloat(m))),++l,_A)).split(_A);return{values:n,split:d,indexes:s,types:a}}function Uw(e){return qu(e).values}function Bw(e){const{split:t,types:n}=qu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===Lw?l+=bu(a[c]):d===kw?l+=Ce.transform(a[c]):l+=a[c]}return l}}const k4=e=>typeof e=="number"?0:Ce.test(e)?Ce.getAnimatableNone(e):e;function U4(e){const t=Uw(e);return Bw(e)(t.map(k4))}const pr={test:N4,parse:Uw,createTransformer:Bw,getAnimatableNone:U4};function Rp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function B4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Rp(m,d,e+1/3),l=Rp(m,d,e),c=Rp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function If(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,Cp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},j4=[dg,la,To],z4=e=>j4.find(t=>t.test(e));function TA(e){const t=z4(e);if(!t)return!1;let n=t.parse(e);return t===To&&(n=B4(n)),n}const EA=(e,t)=>{const n=TA(e),s=TA(t);if(!n||!s)return If(e,t);const a={...n};return l=>(a.red=Cp(n.red,s.red,l),a.green=Cp(n.green,s.green,l),a.blue=Cp(n.blue,s.blue,l),a.alpha=le(n.alpha,s.alpha,l),la.transform(a))},mg=new Set(["none","hidden"]);function F4(e,t){return mg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function q4(e,t){return n=>le(e,t,n)}function Jy(e){return typeof e=="number"?q4:typeof e=="string"?Xy(e)?If:Ce.test(e)?EA:K4:Array.isArray(e)?jw:typeof e=="object"?Ce.test(e)?EA:H4:If}function jw(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Jy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function H4(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Jy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function G4(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const K4=(e,t)=>{const n=pr.createTransformer(t),s=qu(e),a=qu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?mg.has(e)&&!a.values.length||mg.has(t)&&!s.values.length?F4(e,t):lc(jw(G4(s,a),a.values),n):If(e,t)};function zw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):Jy(e)(e,t)}const Y4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>mr(t),now:()=>$e.isProcessing?$e.timestamp:yn.now()}},Fw=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Df=2e4;function tv(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Df;)t+=n,s=e.next(t);return t>=Df?1/0:t}function $4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(tv(s),Df);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:xi(a)}}const Q4=5;function qw(e,t,n){const s=Math.max(t-Q4,0);return Aw(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xp=.001;function X4({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=gs(me.minDamping,me.maxDamping,c),e=gs(me.minDuration,me.maxDuration,xi(e)),c<1?(a=g=>{const y=g*c,E=y*e,A=y-n,R=pg(g,c),D=Math.exp(-E);return xp-A/R*D},l=g=>{const E=g*c*e,A=E*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,D=Math.exp(-E),j=pg(Math.pow(g,2),c);return(-a(g)+xp>0?-1:1)*((A-R)*D)/j}):(a=g=>{const y=Math.exp(-g*e),E=(g-n)*e+1;return-xp+y*E},l=g=>{const y=Math.exp(-g*e),E=(n-g)*(e*e);return y*E});const d=5/e,m=Z4(a,l,d);if(e=Ci(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const W4=12;function Z4(e,t,n){let s=n;for(let a=1;a<W4;a++)s=s-e(s)/t(s);return s}function pg(e,t){return e*Math.sqrt(1-t*t)}const J4=["duration","bounce"],tL=["stiffness","damping","mass"];function AA(e,t){return t.some(n=>e[n]!==void 0)}function eL(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!AA(e,tL)&&AA(e,J4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*gs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=X4(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Vf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:E,velocity:A,isResolvedFromDuration:R}=eL({...n,velocity:-xi(n.velocity||0)}),D=A||0,j=g/(2*Math.sqrt(m*y)),O=c-l,F=xi(Math.sqrt(m/y)),q=Math.abs(O)<5;s||(s=q?me.restSpeed.granular:me.restSpeed.default),a||(a=q?me.restDelta.granular:me.restDelta.default);let Q;if(j<1){const it=pg(F,j);Q=dt=>{const V=Math.exp(-j*F*dt);return c-V*((D+j*F*O)/it*Math.sin(it*dt)+O*Math.cos(it*dt))}}else if(j===1)Q=it=>c-Math.exp(-F*it)*(O+(D+F*O)*it);else{const it=F*Math.sqrt(j*j-1);Q=dt=>{const V=Math.exp(-j*F*dt),w=Math.min(it*dt,300);return c-V*((D+j*F*O)*Math.sinh(w)+it*O*Math.cosh(w))/it}}const lt={calculatedDuration:R&&E||null,next:it=>{const dt=Q(it);if(R)d.done=it>=E;else{let V=it===0?D:0;j<1&&(V=it===0?Ci(D):qw(Q,it,dt));const w=Math.abs(V)<=s,C=Math.abs(c-dt)<=a;d.done=w&&C}return d.value=d.done?c:dt,d},toString:()=>{const it=Math.min(tv(lt),Df),dt=Fw(V=>lt.next(it*V).value,it,30);return it+"ms "+dt},toTransition:()=>{}};return lt}Vf.applyToOptions=e=>{const t=$4(e,100,Vf);return e.ease=t.ease,e.duration=Ci(t.duration),e.type="keyframes",e};function gg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const E=e[0],A={done:!1,value:E},R=w=>d!==void 0&&w<d||m!==void 0&&w>m,D=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let j=n*t;const O=E+j,F=c===void 0?O:c(O);F!==O&&(j=F-E);const q=w=>-j*Math.exp(-w/s),Q=w=>F+q(w),lt=w=>{const C=q(w),N=Q(w);A.done=Math.abs(C)<=g,A.value=A.done?F:N};let it,dt;const V=w=>{R(A.value)&&(it=w,dt=Vf({keyframes:[A.value,D(A.value)],velocity:qw(Q,w,A.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return V(0),{calculatedDuration:null,next:w=>{let C=!1;return!dt&&it===void 0&&(C=!0,lt(w),V(w)),it!==void 0&&w>=it?dt.next(w-it):(!C&&lt(w),A)}}}function nL(e,t,n){const s=[],a=n||ys.mix||zw,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Hn:t;d=lc(m,d)}s.push(d)}return s}function iL(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Hy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=nL(t,s,a),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let E=0;if(m>1)for(;E<e.length-2&&!(y<e[E+1]);E++);const A=zu(e[E],e[E+1],y);return d[E](A)};return n?y=>g(gs(e[0],e[l-1],y)):g}function sL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=zu(0,t,s);e.push(le(n,1,a))}}function rL(e){const t=[0];return sL(t,e.length-1),t}function aL(e,t){return e.map(n=>n*t)}function oL(e,t){return e.map(()=>t||Vw).splice(0,e.length-1)}function wu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=v4(s)?s.map(yA):yA(s),l={done:!1,value:t[0]},c=aL(n&&n.length===t.length?n:rL(t),e),d=iL(c,t,{ease:Array.isArray(a)?a:oL(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const lL=e=>e!==null;function ev(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(lL),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const uL={decay:gg,inertia:gg,tween:wu,keyframes:wu,spring:Vf};function Hw(e){typeof e.type=="string"&&(e.type=uL[e.type])}class nv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const cL=e=>e/100;class iv extends nv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Hw(t);const{type:n=wu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||wu;m!==wu&&typeof d[0]!="number"&&(this.mixKeyframes=lc(cL,zw(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=tv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:E,repeatType:A,repeatDelay:R,type:D,onUpdate:j,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,lt=s;if(E){const w=Math.min(this.currentTime,a)/d;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(A==="reverse"?(N=1-N,R&&(N-=R/d)):A==="mirror"&&(lt=c)),Q=gs(0,1,N)*d}const it=q?{done:!1,value:y[0]}:lt.next(Q);l&&(it.value=l(it.value));let{done:dt}=it;!q&&m!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return V&&D!==gg&&(it.value=ev(y,this.options,O,this.speed)),j&&j(it.value),V&&this.finish(),it}then(t,n){return this.finished.then(t,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(t){t=Ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Y4,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function hL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ua=e=>e*180/Math.PI,yg=e=>{const t=ua(Math.atan2(e[1],e[0]));return vg(t)},fL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yg,rotateZ:yg,skewX:e=>ua(Math.atan(e[1])),skewY:e=>ua(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vg=e=>(e=e%360,e<0&&(e+=360),e),SA=yg,bA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),dL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bA,scaleY:wA,scale:e=>(bA(e)+wA(e))/2,rotateX:e=>vg(ua(Math.atan2(e[6],e[5]))),rotateY:e=>vg(ua(Math.atan2(-e[2],e[0]))),rotateZ:SA,rotate:SA,skewX:e=>ua(Math.atan(e[4])),skewY:e=>ua(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _g(e){return e.includes("scale")?1:0}function Tg(e,t){if(!e||e==="none")return _g(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=dL,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=fL,a=d}if(!a)return _g(t);const l=s[t],c=a[1].split(",").map(pL);return typeof l=="function"?l(c):c[l]}const mL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Tg(n,t)};function pL(e){return parseFloat(e.trim())}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(Zo),RA=e=>e===Wo||e===At,gL=new Set(["x","y","z"]),yL=Zo.filter(e=>!gL.has(e));function vL(e){const t=[];return yL.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const fa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Tg(t,"x"),y:(e,{transform:t})=>Tg(t,"y")};fa.translateX=fa.x;fa.translateY=fa.y;const da=new Set;let Eg=!1,Ag=!1,Sg=!1;function Gw(){if(Ag){const e=Array.from(da).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=vL(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ag=!1,Eg=!1,da.forEach(e=>e.complete(Sg)),da.clear()}function Kw(){da.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ag=!0)})}function _L(){Sg=!0,Kw(),Gw(),Sg=!1}class sv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(da.add(this),Eg||(Eg=!0,ae.read(Kw),ae.resolveKeyframes(Gw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}hL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),da.delete(this)}cancel(){this.state==="scheduled"&&(da.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TL=e=>e.startsWith("--");function EL(e,t,n){TL(t)?e.style.setProperty(t,n):e.style[t]=n}const AL=Gy(()=>window.ScrollTimeline!==void 0),SL={};function bL(e,t){const n=Gy(e);return()=>SL[t]??n()}const Yw=bL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,CA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function $w(e,t){if(e)return typeof e=="function"?Yw()?Fw(e,t):"ease-out":Mw(e)?yu(e):Array.isArray(e)?e.map(n=>$w(n,t)||CA.easeOut):CA[e]}function wL(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const E=$w(d,a);Array.isArray(E)&&(y.easing=E);const A={delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),e.animate(y,A)}function Qw(e){return typeof e=="function"&&"applyToOptions"in e}function RL({type:e,...t}){return Qw(e)&&Yw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class CL extends nv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Hy(typeof t.type!="string");const g=RL(t);this.animation=wL(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=ev(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):EL(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(t))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&AL()?(this.animation.timeline=t,Hn):n(this)}}const Xw={anticipate:xw,backInOut:Cw,circInOut:Dw};function xL(e){return e in Xw}function IL(e){typeof e.ease=="string"&&xL(e.ease)&&(e.ease=Xw[e.ease])}const xA=10;class DL extends CL{constructor(t){IL(t),Hw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new iv({...c,autoplay:!1}),m=Ci(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-xA).value,d.sample(m).value,xA),d.stop()}}const IA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pr.test(e)||e==="0")&&!e.startsWith("url("));function VL(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ML(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=IA(a,t),d=IA(l,t);return!c||!d?!1:VL(e)||(n==="spring"||Qw(n))&&s}function bg(e){e.duration=0,e.type}const NL=new Set(["opacity","clipPath","filter","transform"]),PL=Gy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OL(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return PL()&&n&&NL.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const LL=40;class kL extends nv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const A={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,...E},R=y?.KeyframeResolver||sv;this.keyframeResolver=new R(d,(D,j,O)=>this.onKeyframesResolved(D,j,A,!O),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=yn.now(),ML(t,l,c,d)||((ys.instantAnimations||!m)&&y?.(ev(t,s,n)),t[0]=t[t.length-1],bg(s),s.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>LL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&OL(A)?new DL({...A,element:A.motionValue.owner.current}):new iv(A);R.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_L()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const UL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BL(e){const t=UL.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Ww(e,t,n=1){const[s,a]=BL(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return _w(c)?parseFloat(c):c}return Xy(a)?Ww(a,t,n+1):a}function rv(e,t){return e?.[t]??e?.default??e}const Zw=new Set(["width","height","top","left","right","bottom",...Zo]),jL={test:e=>e==="auto",parse:e=>e},Jw=e=>t=>t.test(e),tR=[Wo,At,Ii,Xs,V4,D4,jL],DA=e=>tR.find(Jw(e));function zL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ew(e):!0}const FL=new Set(["brightness","contrast","saturate","opacity"]);function qL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Wy)||[];if(!s)return e;const a=n.replace(s,"");let l=FL.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const HL=/\b([a-z-]*)\(.*?\)/gu,wg={...pr,getAnimatableNone:e=>{const t=e.match(HL);return t?t.map(qL).join(" "):e}},VA={...Wo,transform:Math.round},GL={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:Hh,scaleX:Hh,scaleY:Hh,scaleZ:Hh,skew:Xs,skewX:Xs,skewY:Xs,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Fu,originX:vA,originY:vA,originZ:At},av={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At,...GL,zIndex:VA,fillOpacity:Fu,strokeOpacity:Fu,numOctaves:VA},KL={...av,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:wg,WebkitFilter:wg},eR=e=>KL[e];function nR(e,t){let n=eR(e);return n!==wg&&(n=pr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YL=new Set(["auto","none","0"]);function $L(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!YL.has(l)&&qu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=nR(n,a)}class QL extends sv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Xy(g))){const y=Ww(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Zw.has(s)||t.length!==2)return;const[a,l]=t,c=DA(a),d=DA(l);if(c!==d)if(RA(c)&&RA(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else fa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||zL(t[a]))&&s.push(a);s.length&&$L(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=fa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function XL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const iR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function WL(e){return Tw(e)&&"offsetHeight"in e}const MA=30,ZL=e=>!isNaN(parseFloat(e));class JL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ky);const s=this.events[t].add(n);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MA);return Aw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(e,t){return new JL(e,t)}const{schedule:ov}=Nw(queueMicrotask,!1),Wn={x:!1,y:!1};function sR(){return Wn.x||Wn.y}function tk(e){return e==="x"||e==="y"?Wn[e]?null:(Wn[e]=!0,()=>{Wn[e]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function rR(e,t){const n=XL(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function NA(e){return!(e.pointerType==="touch"||sR())}function ek(e,t,n={}){const[s,a,l]=rR(e,n),c=d=>{if(!NA(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=E=>{NA(E)&&(g(E),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const aR=(e,t)=>t?e===t?!0:aR(e,t.parentElement):!1,lv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ik(e){return nk.has(e.tagName)||e.tabIndex!==-1}const af=new WeakSet;function PA(e){return t=>{t.key==="Enter"&&e(t)}}function Ip(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=PA(()=>{if(af.has(n))return;Ip(n,"down");const a=PA(()=>{Ip(n,"up")}),l=()=>Ip(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function OA(e){return lv(e)&&!sR()}function rk(e,t,n={}){const[s,a,l]=rR(e,n),c=d=>{const m=d.currentTarget;if(!OA(d))return;af.add(m);const g=t(m,d),y=(R,D)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),af.has(m)&&af.delete(m),OA(R)&&typeof g=="function"&&g(R,{success:D})},E=R=>{y(R,m===window||m===document||n.useGlobalTarget||aR(m,R.target))},A=R=>{y(R,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",A,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),WL(d)&&(d.addEventListener("focus",g=>sk(g,a)),!ik(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function oR(e){return Tw(e)&&"ownerSVGElement"in e}function ak(e){return oR(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),ok=[...tR,Ce,pr],lk=e=>ok.find(Jw(e)),lR=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function uk(e=!0){const t=U.useContext(zy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=U.useId();U.useEffect(()=>{if(e)return a(l)},[e]);const c=U.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const uR=U.createContext({strict:!1}),LA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const e in LA)jo[e]={isEnabled:t=>LA[e].some(n=>!!t[n])};function ck(e){for(const t in e)jo[t]={...jo[t],...e[t]}}const hk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hk.has(e)}let cR=e=>!Mf(e);function fk(e){typeof e=="function"&&(cR=t=>t.startsWith("on")?!Mf(t):e(t))}try{fk(require("@emotion/is-prop-valid").default)}catch{}function dk(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(cR(a)||n===!0&&Mf(a)||!t&&!Mf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ed=U.createContext({});function nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hu(e){return typeof e=="string"||Array.isArray(e)}const uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cv=["initial",...uv];function id(e){return nd(e.animate)||cv.some(t=>Hu(e[t]))}function hR(e){return!!(id(e)||e.variants)}function mk(e,t){if(id(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Hu(n)?n:void 0,animate:Hu(s)?s:void 0}}return e.inherit!==!1?t:{}}function pk(e){const{initial:t,animate:n}=mk(e,U.useContext(ed));return U.useMemo(()=>({initial:t,animate:n}),[kA(t),kA(n)])}function kA(e){return Array.isArray(e)?e.join(" "):e}const Gu={};function gk(e){for(const t in e)Gu[t]=e[t],Qy(t)&&(Gu[t].isCSSVariable=!0)}function fR(e,{layout:t,layoutId:n}){return Jo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gu[e]||e==="opacity")}const yk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vk=Zo.length;function _k(e,t,n){let s="",a=!0;for(let l=0;l<vk;l++){const c=Zo[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=iR(d,av[c]);if(!m){a=!1;const y=yk[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function hv(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(Jo.has(m)){c=!0;continue}else if(Qy(m)){a[m]=g;continue}else{const y=iR(g,av[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=_k(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dR(e,t,n){for(const s in t)!rn(t[s])&&!fR(s,n)&&(e[s]=t[s])}function Tk({transformTemplate:e},t){return U.useMemo(()=>{const n=fv();return hv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ek(e,t){const n=e.style||{},s={};return dR(s,n,e),Object.assign(s,Tk(e,t)),s}function Ak(e,t){const n={},s=Ek(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Sk={offset:"stroke-dashoffset",array:"stroke-dasharray"},bk={offset:"strokeDashoffset",array:"strokeDasharray"};function wk(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?Sk:bk;e[l.offset]=At.transform(-s);const c=At.transform(t),d=At.transform(n);e[l.array]=`${c} ${d}`}function mR(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(hv(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:A}=e;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=y?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),a!==void 0&&wk(E,a,l,c,!1)}const pR=()=>({...fv(),attrs:{}}),gR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rk(e,t,n,s){const a=U.useMemo(()=>{const l=pR();return mR(l,t,gR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};dR(l,e.style,e),a.style={...l,...a.style}}return a}const Ck=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dv(e){return typeof e!="string"||e.includes("-")?!1:!!(Ck.indexOf(e)>-1||/[A-Z]/u.test(e))}function xk(e,t,n,{latestValues:s},a,l=!1){const d=(dv(e)?Rk:Ak)(t,s,a,e),m=dk(t,typeof e=="string",l),g=e!==U.Fragment?{...m,...d,ref:n}:{},{children:y}=t,E=U.useMemo(()=>rn(y)?y.get():y,[y]);return U.createElement(e,{...g,children:E})}function UA(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function mv(e,t,n,s){if(typeof t=="function"){const[a,l]=UA(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=UA(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function of(e){return rn(e)?e.get():e}function Ik({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:Dk(n,s,a,e),renderState:t()}}function Dk(e,t,n,s){const a={},l=s(e,{});for(const A in l)a[A]=of(l[A]);let{initial:c,animate:d}=e;const m=id(e),g=hR(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const E=y?d:c;if(E&&typeof E!="boolean"&&!nd(E)){const A=Array.isArray(E)?E:[E];for(let R=0;R<A.length;R++){const D=mv(e,A[R]);if(D){const{transitionEnd:j,transition:O,...F}=D;for(const q in F){let Q=F[q];if(Array.isArray(Q)){const lt=y?Q.length-1:0;Q=Q[lt]}Q!==null&&(a[q]=Q)}for(const q in j)a[q]=j[q]}}}return a}const yR=e=>(t,n)=>{const s=U.useContext(ed),a=U.useContext(zy),l=()=>Ik(e,t,s,a);return n?l():c4(l)};function pv(e,t,n){const{style:s}=e,a={};for(const l in s)(rn(s[l])||t.style&&rn(t.style[l])||fR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const Vk=yR({scrapeMotionValuesFromProps:pv,createRenderState:fv});function vR(e,t,n){const s=pv(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=Zo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const Mk=yR({scrapeMotionValuesFromProps:vR,createRenderState:pR}),Nk=Symbol.for("motionComponentSymbol");function Eo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Pk(e,t,n){return U.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Eo(n)&&(n.current=s))},[t])}const gv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ok="framerAppearId",_R="data-"+gv(Ok),TR=U.createContext({});function Lk(e,t,n,s,a){const{visualElement:l}=U.useContext(ed),c=U.useContext(uR),d=U.useContext(zy),m=U.useContext(lR).reducedMotion,g=U.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,E=U.useContext(TR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&kk(g.current,n,a,E);const A=U.useRef(!1);U.useInsertionEffect(()=>{y&&A.current&&y.update(n,d)});const R=n[_R],D=U.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return h4(()=>{y&&(A.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),U.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),D.current=!1),y.enteringChildren=void 0)}),y}function kk(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ER(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Eo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function ER(e){if(e)return e.options.allowProjection!==!1?e.projection:ER(e.parent)}function Dp(e,{forwardMotionProps:t=!1}={},n,s){n&&ck(n);const a=dv(e)?Mk:Vk;function l(d,m){let g;const y={...U.useContext(lR),...d,layoutId:Uk(d)},{isStatic:E}=y,A=pk(d),R=a(d,E);if(!E&&jy){Bk();const D=jk(y);g=D.MeasureLayout,A.visualElement=Lk(e,R,y,s,D.ProjectionNode)}return Y.jsxs(ed.Provider,{value:A,children:[g&&A.visualElement?Y.jsx(g,{visualElement:A.visualElement,...y}):null,xk(e,d,Pk(R,A.visualElement,m),R,E,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=U.forwardRef(l);return c[Nk]=e,c}function Uk({layoutId:e}){const t=U.useContext(vw).id;return t&&e!==void 0?t+"-"+e:e}function Bk(e,t){U.useContext(uR).strict}function jk(e){const{drag:t,layout:n}=jo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function zk(e,t){if(typeof Proxy>"u")return Dp;const n=new Map,s=(l,c)=>Dp(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Dp(c,void 0,e,t)),n.get(c))})}function AR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Fk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Vp(e){return e===void 0||e===1}function Rg({scale:e,scaleX:t,scaleY:n}){return!Vp(e)||!Vp(t)||!Vp(n)}function ra(e){return Rg(e)||SR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function SR(e){return BA(e.x)||BA(e.y)}function BA(e){return e&&e!=="0%"}function Nf(e,t,n){const s=e-n,a=t*s;return n+a}function jA(e,t,n,s,a){return a!==void 0&&(e=Nf(e,a,s)),Nf(e,n,s)+t}function Cg(e,t=0,n=1,s,a){e.min=jA(e.min,t,n,s,a),e.max=jA(e.max,t,n,s,a)}function bR(e,{x:t,y:n}){Cg(e.x,t.translate,t.scale,t.originPoint),Cg(e.y,n.translate,n.scale,n.originPoint)}const zA=.999999999999,FA=1.0000000000001;function Hk(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&So(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,bR(e,c)),s&&ra(l.latestValues)&&So(e,l.latestValues))}t.x<FA&&t.x>zA&&(t.x=1),t.y<FA&&t.y>zA&&(t.y=1)}function Ao(e,t){e.min=e.min+t,e.max=e.max+t}function qA(e,t,n,s,a=.5){const l=le(e.min,e.max,a);Cg(e,t,n,l,s)}function So(e,t){qA(e.x,t.x,t.scaleX,t.scale,t.originX),qA(e.y,t.y,t.scaleY,t.scale,t.originY)}function wR(e,t){return AR(qk(e.getBoundingClientRect(),t))}function Gk(e,t,n){const s=wR(e,n),{scroll:a}=t;return a&&(Ao(s.x,a.offset.x),Ao(s.y,a.offset.y)),s}const HA=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:HA(),y:HA()}),GA=()=>({min:0,max:0}),ve=()=>({x:GA(),y:GA()}),xg={current:null},RR={current:!1};function Kk(){if(RR.current=!0,!!jy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xg.current=e.matches;e.addEventListener("change",t),t()}else xg.current=!1}const Yk=new WeakMap;function $k(e,t,n){for(const s in t){const a=t[s],l=n[s];if(rn(a))e.addValue(s,a);else if(rn(l))e.addValue(s,Bo(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Bo(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const KA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qk{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=yn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=id(n),this.isVariantNode=hR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const R=E[A];m[A]!==void 0&&rn(R)&&R.set(m[A])}}mount(t){this.current=t,Yk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),RR.current||Kk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Jo.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jo){const n=jo[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<KA.length;s++){const a=KA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=$k(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Bo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(_w(s)||Ew(s))?s=parseFloat(s):!lk(s)&&pr.test(n)&&(s=nR(t,n)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=mv(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ky),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ov.render(this.render)}}class CR extends Qk{constructor(){super(...arguments),this.KeyframeResolver=QL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xR(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function Xk(e){return window.getComputedStyle(e)}class Wk extends CR{constructor(){super(...arguments),this.type="html",this.renderInstance=xR}readValueFromInstance(t,n){if(Jo.has(n))return this.projection?.isProjecting?_g(n):mL(t,n);{const s=Xk(t),a=(Qy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wR(t,n)}build(t,n,s){hv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return pv(t,n,s)}}const IR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zk(e,t,n,s){xR(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(IR.has(a)?a:gv(a),t.attrs[a])}class Jk extends CR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jo.has(n)){const s=eR(n);return s&&s.default||0}return n=IR.has(n)?n:gv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return vR(t,n,s)}build(t,n,s){mR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){Zk(t,n,s,a)}mount(t){this.isSVGTag=gR(t.tagName),super.mount(t)}}const t3=(e,t)=>dv(e)?new Jk(t):new Wk(t,{allowProjection:e!==U.Fragment});function Do(e,t,n){const s=e.getProps();return mv(s,t,n!==void 0?n:s.custom,e)}const Ig=e=>Array.isArray(e);function e3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bo(n))}function n3(e){return Ig(e)?e[e.length-1]||0:e}function i3(e,t){const n=Do(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=n3(l[c]);e3(e,c,d)}}function s3(e){return!!(rn(e)&&e.add)}function Dg(e,t){const n=e.getValue("willChange");if(s3(n))return n.add(t);if(!n&&ys.WillChange){const s=new ys.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function DR(e){return e.props[_R]}const r3=e=>e!==null;function a3(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(r3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const o3={type:"spring",stiffness:500,damping:25,restSpeed:10},l3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u3={type:"keyframes",duration:.8},c3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h3=(e,{keyframes:t})=>t.length>2?u3:Jo.has(e)?e.startsWith("scale")?l3(t[1]):o3:c3;function f3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const yv=(e,t,n,s={},a,l)=>c=>{const d=rv(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ci(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};f3(d)||Object.assign(y,h3(e,y)),y.duration&&(y.duration=Ci(y.duration)),y.repeatDelay&&(y.repeatDelay=Ci(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let E=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(bg(y),y.delay===0&&(E=!0)),(ys.instantAnimations||ys.skipAnimations)&&(E=!0,bg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,E&&!l&&t.get()!==void 0){const A=a3(y.keyframes,d);if(A!==void 0){ae.update(()=>{y.onUpdate(A),y.onComplete()});return}}return d.isSync?new iv(y):new kL(y)};function d3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function VR(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const E=e.getValue(y,e.latestValues[y]??null),A=d[y];if(A===void 0||g&&d3(g,y))continue;const R={delay:n,...rv(l||{},y)},D=E.get();if(D!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===D&&!R.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const F=DR(e);if(F){const q=window.MotionHandoffAnimation(F,y,ae);q!==null&&(R.startTime=q,j=!0)}}Dg(e,y),E.start(yv(y,E,A,e.shouldReduceMotion&&Zw.has(y)?{type:!1}:R,e,j));const O=E.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{ae.update(()=>{c&&i3(e,c)})}),m}function MR(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Vg(e,t,n={}){const s=Do(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(VR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:E}=a;return m3(e,t,m,g,y,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function m3(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Vg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+MR(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function p3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Vg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Vg(e,t,n);else{const a=typeof t=="function"?Do(e,t,n.custom):t;s=Promise.all(VR(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function NR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const g3=cv.length;function PR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<g3;n++){const s=cv[n],a=e.props[s];(Hu(a)||a===!1)&&(t[s]=a)}return t}const y3=[...uv].reverse(),v3=uv.length;function _3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>p3(e,n,s)))}function T3(e){let t=_3(e),n=YA(),s=!0;const a=m=>(g,y)=>{const E=Do(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:R,...D}=E;g={...g,...D,...R}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=PR(e.parent)||{},E=[],A=new Set;let R={},D=1/0;for(let O=0;O<v3;O++){const F=y3[O],q=n[F],Q=g[F]!==void 0?g[F]:y[F],lt=Hu(Q),it=F===m?q.isActive:null;it===!1&&(D=O);let dt=Q===y[F]&&Q!==g[F]&&lt;if(dt&&s&&e.manuallyAnimateOnMount&&(dt=!1),q.protectedKeys={...R},!q.isActive&&it===null||!Q&&!q.prevProp||nd(Q)||typeof Q=="boolean")continue;const V=E3(q.prevProp,Q);let w=V||F===m&&q.isActive&&!dt&&lt||O>D&&lt,C=!1;const N=Array.isArray(Q)?Q:[Q];let L=N.reduce(a(F),{});it===!1&&(L={});const{prevResolvedValues:B={}}=q,I={...B,...L},Ee=rt=>{w=!0,A.has(rt)&&(C=!0,A.delete(rt)),q.needsAnimating[rt]=!0;const ht=e.getValue(rt);ht&&(ht.liveStyle=!1)};for(const rt in I){const ht=L[rt],xt=B[rt];if(R.hasOwnProperty(rt))continue;let M=!1;Ig(ht)&&Ig(xt)?M=!NR(ht,xt):M=ht!==xt,M?ht!=null?Ee(rt):A.add(rt):ht!==void 0&&A.has(rt)?Ee(rt):q.protectedKeys[rt]=!0}q.prevProp=Q,q.prevResolvedValues=L,q.isActive&&(R={...R,...L}),s&&e.blockInitialAnimation&&(w=!1);const ne=dt&&V;w&&(!ne||C)&&E.push(...N.map(rt=>{const ht={type:F};if(typeof rt=="string"&&s&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:xt}=e,M=Do(xt,rt);if(xt.enteringChildren&&M){const{delayChildren:st}=M.transition||{};ht.delay=MR(xt.enteringChildren,e,st)}}return{animation:rt,options:ht}}))}if(A.size){const O={};if(typeof g.initial!="boolean"){const F=Do(e,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(O.transition=F.transition)}A.forEach(F=>{const q=e.getBaseTarget(F),Q=e.getValue(F);Q&&(Q.liveStyle=!0),O[F]=q??null}),E.push({animation:O})}let j=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(j=!1),s=!1,j?t(E):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=YA(),s=!0}}}function E3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!NR(t,e):!1}function ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YA(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class _r{constructor(t){this.isMounted=!1,this.node=t}update(){}}class A3 extends _r{constructor(t){super(t),t.animationState||(t.animationState=T3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let S3=0;class b3 extends _r{constructor(){super(...arguments),this.id=S3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const w3={animation:{Feature:A3},exit:{Feature:b3}};function Ku(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function hc(e){return{point:{x:e.pageX,y:e.pageY}}}const R3=e=>t=>lv(t)&&e(t,hc(t));function Ru(e,t,n,s){return Ku(e,t,R3(n),s)}const OR=1e-4,C3=1-OR,x3=1+OR,LR=.01,I3=0-LR,D3=0+LR;function hn(e){return e.max-e.min}function V3(e,t,n){return Math.abs(e-t)<=n}function $A(e,t,n,s=.5){e.origin=s,e.originPoint=le(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=C3&&e.scale<=x3||isNaN(e.scale))&&(e.scale=1),(e.translate>=I3&&e.translate<=D3||isNaN(e.translate))&&(e.translate=0)}function Cu(e,t,n,s){$A(e.x,t.x,n.x,s?s.originX:void 0),$A(e.y,t.y,n.y,s?s.originY:void 0)}function QA(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function M3(e,t,n){QA(e.x,t.x,n.x),QA(e.y,t.y,n.y)}function XA(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function xu(e,t,n){XA(e.x,t.x,n.x),XA(e.y,t.y,n.y)}function zn(e){return[e("x"),e("y")]}const kR=({current:e})=>e?e.ownerDocument.defaultView:null,WA=(e,t)=>Math.abs(e-t);function N3(e,t){const n=WA(e.x,t.x),s=WA(e.y,t.y);return Math.sqrt(n**2+s**2)}class UR{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Np(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,D=N3(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!D)return;const{point:j}=A,{timestamp:O}=$e;this.history.push({...j,timestamp:O});const{onStart:F,onMove:q}=this.handlers;R||(F&&F(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,A)},this.handlePointerMove=(A,R)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Mp(R,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(A,R)=>{this.end();const{onEnd:D,onSessionEnd:j,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Np(A.type==="pointercancel"?this.lastMoveEventInfo:Mp(R,this.transformPagePoint),this.history);this.startEvent&&D&&D(A,F),j&&j(A,F)},!lv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=hc(t),m=Mp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=$e;this.history=[{...g,timestamp:y}];const{onSessionStart:E}=n;E&&E(t,Np(m,this.history)),this.removeListeners=lc(Ru(this.contextWindow,"pointermove",this.handlePointerMove),Ru(this.contextWindow,"pointerup",this.handlePointerUp),Ru(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function Mp(e,t){return t?{point:t(e.point)}:e}function ZA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Np({point:e},t){return{point:e,delta:ZA(e,BR(t)),offset:ZA(e,P3(t)),velocity:O3(t,.1)}}function P3(e){return e[0]}function BR(e){return e[e.length-1]}function O3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=BR(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Ci(t)));)n--;if(!s)return{x:0,y:0};const l=xi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function L3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?le(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?le(n,e,s.max):Math.min(e,n)),e}function JA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function k3(e,{top:t,left:n,bottom:s,right:a}){return{x:JA(e.x,n,a),y:JA(e.y,t,s)}}function tS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function U3(e,t){return{x:tS(e.x,t.x),y:tS(e.y,t.y)}}function B3(e,t){let n=.5;const s=hn(e),a=hn(t);return a>s?n=zu(t.min,t.max-s,e.min):s>a&&(n=zu(e.min,e.max-a,t.min)),gs(0,1,n)}function j3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mg=.35;function z3(e=Mg){return e===!1?e=0:e===!0&&(e=Mg),{x:eS(e,"left","right"),y:eS(e,"top","bottom")}}function eS(e,t,n){return{min:nS(e,t),max:nS(e,n)}}function nS(e,t){return typeof e=="number"?e:e[t]||0}const F3=new WeakMap;class q3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hc(E).point)},c=(E,A)=>{const{drag:R,dragPropagation:D,onDragStart:j}=this.getProps();if(R&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tk(R),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(F=>{let q=this.getAxisMotionValue(F).get()||0;if(Ii.test(q)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const lt=Q.layout.layoutBox[F];lt&&(q=hn(lt)*(parseFloat(q)/100))}}this.originPoint[F]=q}),j&&ae.postRender(()=>j(E,A)),Dg(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:R,dragDirectionLock:D,onDirectionLock:j,onDrag:O}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:F}=A;if(D&&this.currentDirection===null){this.currentDirection=H3(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",A.point,F),this.updateAxis("y",A.point,F),this.visualElement.render(),O&&O(E,A)},m=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new UR(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:kR(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Gh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=L3(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Eo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=k3(s.layoutBox,t):this.constraints=!1,this.elastic=z3(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=j3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Eo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Gk(s,a.root,this.visualElement.getTransformPagePoint());let c=U3(a.layout.layoutBox,l);if(n){const d=n(Fk(c));this.hasMutatedConstraints=!!d,d&&(c=AR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=zn(y=>{if(!Gh(y,n,this.currentDirection))return;let E=m&&m[y]||{};c&&(E={min:0,max:0});const A=a?200:1e6,R=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:A,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(y,D)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Dg(this.visualElement,t),s.start(yv(t,s,0,n,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:s}=this.getProps();if(!Gh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Eo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=B3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!Gh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(le(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;F3.set(this.visualElement,this);const t=this.visualElement.current,n=Ru(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Eo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=Ku(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(y=>{const E=this.getAxisMotionValue(y);E&&(this.originPoint[y]+=m[y].translate,E.set(E.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Mg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Gh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function H3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class G3 extends _r{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new q3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const iS=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class K3 extends _r{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new UR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:iS(t),onStart:iS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ru(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=sS(e,t.target.x),s=sS(e,t.target.y);return`${n}% ${s}%`}},Y3={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=pr.parse(e);if(a.length>5)return s;const l=pr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Pp=!1;class $3 extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;gk(Q3),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Pp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Pp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ov.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Pp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jR(e){const[t,n]=uk(),s=U.useContext(vw);return Y.jsx($3,{...e,layoutGroup:s,switchLayoutGroup:U.useContext(TR),isPresent:t,safeToRemove:n})}const Q3={borderRadius:{...hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomLeftRadius:hu,borderBottomRightRadius:hu,boxShadow:Y3};function X3(e,t,n){const s=rn(e)?e:Bo(e);return s.start(yv("",s,t,n)),s.animation}const W3=(e,t)=>e.depth-t.depth;class Z3{constructor(){this.children=[],this.isDirty=!1}add(t){Fy(this.children,t),this.isDirty=!0}remove(t){qy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W3),this.isDirty=!1,this.children.forEach(t)}}function J3(e,t){const n=yn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(mr(s),e(l-t))};return ae.setup(s,!0),()=>mr(s)}const zR=["TopLeft","TopRight","BottomLeft","BottomRight"],t6=zR.length,rS=e=>typeof e=="string"?parseFloat(e):e,aS=e=>typeof e=="number"||At.test(e);function e6(e,t,n,s,a,l){a?(e.opacity=le(0,n.opacity??1,n6(s)),e.opacityExit=le(t.opacity??1,0,i6(s))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,s));for(let c=0;c<t6;c++){const d=`border${zR[c]}Radius`;let m=oS(t,d),g=oS(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||aS(m)===aS(g)?(e[d]=Math.max(le(rS(m),rS(g),s),0),(Ii.test(g)||Ii.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,s))}function oS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const n6=FR(0,.5,Iw),i6=FR(.5,.95,Hn);function FR(e,t,n){return s=>s<e?0:s>t?1:n(zu(e,t,s))}function lS(e,t){e.min=t.min,e.max=t.max}function jn(e,t){lS(e.x,t.x),lS(e.y,t.y)}function uS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cS(e,t,n,s,a){return e-=t,e=Nf(e,1/n,s),a!==void 0&&(e=Nf(e,1/a,s)),e}function s6(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ii.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(l.min,l.max,s);e===l&&(d-=t),e.min=cS(e.min,t,n,d,a),e.max=cS(e.max,t,n,d,a)}function hS(e,t,[n,s,a],l,c){s6(e,t[n],t[s],t[a],t.scale,l,c)}const r6=["x","scaleX","originX"],a6=["y","scaleY","originY"];function fS(e,t,n,s){hS(e.x,t,r6,n?n.x:void 0,s?s.x:void 0),hS(e.y,t,a6,n?n.y:void 0,s?s.y:void 0)}function dS(e){return e.translate===0&&e.scale===1}function qR(e){return dS(e.x)&&dS(e.y)}function mS(e,t){return e.min===t.min&&e.max===t.max}function o6(e,t){return mS(e.x,t.x)&&mS(e.y,t.y)}function pS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HR(e,t){return pS(e.x,t.x)&&pS(e.y,t.y)}function gS(e){return hn(e.x)/hn(e.y)}function yS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class l6{constructor(){this.members=[]}add(t){Fy(this.members,t),t.scheduleRender()}remove(t){if(qy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u6(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:E,rotateY:A,skewX:R,skewY:D}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),R&&(s+=`skewX(${R}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Op=["","X","Y","Z"],c6=1e3;let h6=0;function Lp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function GR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=DR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&GR(s)}function KR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=h6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(m6),this.nodes.forEach(v6),this.nodes.forEach(_6),this.nodes.forEach(p6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z3)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ky),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=oR(c)&&!ak(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,E=0;const A=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==E&&(E=R,this.root.updateBlockedByResize=!0,y&&y(),y=J3(A,250),lf.hasAnimatedSinceResize&&(lf.hasAnimatedSinceResize=!1,this.nodes.forEach(TS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||b6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=g.getProps(),F=!this.targetLayout||!HR(this.targetLayout,R),q=!E&&A;if(this.options.layoutRoot||this.resumeFrom||q||E&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...rv(D,"layout"),onPlay:j,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(y,q)}else E||TS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(T6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const E=this.path[y];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_S);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(y6),this.nodes.forEach(f6),this.nodes.forEach(d6)):this.nodes.forEach(_S),this.clearAllSnapshots();const d=yn.now();$e.delta=gs(0,1e3/60,d-$e.timestamp),$e.timestamp=d,$e.isProcessing=!0,bp.update.process($e),bp.preRender.process($e),bp.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ov.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g6),this.sharedNodes.forEach(E6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!qR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ra(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),w6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(R6))){const{scroll:g}=this.root;g&&(Ao(d.x,g.offset.x),Ao(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ve();if(jn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:E}=g;g!==this.root&&y&&E.layoutScroll&&(y.wasRoot&&jn(d,c),Ao(d.x,y.offset.x),Ao(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=ve();jn(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&So(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ra(y.latestValues)&&So(m,y.latestValues)}return ra(this.latestValues)&&So(m,this.latestValues),m}removeTransform(c){const d=ve();jn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ra(g.latestValues))continue;Rg(g.latestValues)&&g.updateSnapshot();const y=ve(),E=g.measurePageBox();jn(y,E),fS(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ra(this.latestValues)&&fS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:E}=this.options;if(!(!this.layout||!(y||E))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),xu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),bR(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),xu(this.relativeTargetOrigin,this.target,A.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Rg(this.parent.latestValues)||SR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;jn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;Hk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uS(this.prevProjectionDelta.x,this.projectionDelta.x),uS(this.prevProjectionDelta.y,this.projectionDelta.y)),Cu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!yS(this.projectionDelta.x,this.prevProjectionDelta.x)||!yS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},E=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ve(),R=m?m.source:void 0,D=this.layout?this.layout.source:void 0,j=R!==D,O=this.getStack(),F=!O||O.members.length<=1,q=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(S6));this.animationProgress=0;let Q;this.mixTargetDelta=lt=>{const it=lt/1e3;ES(E.x,c.x,it),ES(E.y,c.y,it),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A6(this.relativeTarget,this.relativeTargetOrigin,A,it),Q&&o6(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ve()),jn(Q,this.relativeTarget)),j&&(this.animationValues=y,e6(y,g,this.latestValues,it,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bo(0)),this.currentAnimation=X3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&YR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||ve();const E=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+E;const A=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+A}jn(d,m),So(d,y),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new l6),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Lp("z",c,g,this.animationValues);for(let y=0;y<Op.length;y++)Lp(`rotate${Op[y]}`,c,g,this.animationValues),Lp(`skew${Op[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=of(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=of(d?.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=u6(this.projectionDeltaWithTransform,this.treeScale,y);m&&(E=m(y,E)),c.transform=E;const{x:A,y:R}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Gu){if(y[D]===void 0)continue;const{correct:j,applyTo:O,isCSSVariable:F}=Gu[D],q=E==="none"?y[D]:j(y[D],g);if(O){const Q=O.length;for(let lt=0;lt<Q;lt++)c[O[lt]]=q}else F?this.options.visualElement.renderState.vars[D]=q:c[D]=q}this.options.layoutId&&(c.pointerEvents=g===this?of(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(vS),this.root.sharedNodes.clear()}}}function f6(e){e.updateLayout()}function d6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?zn(y=>{const E=l?t.measuredBox[y]:t.layoutBox[y],A=hn(E);E.min=n[y].min,E.max=E.min+A}):YR(a,t.layoutBox,n)&&zn(y=>{const E=l?t.measuredBox[y]:t.layoutBox[y],A=hn(n[y]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+A)});const c=bo();Cu(c,n,t.layoutBox);const d=bo();l?Cu(d,e.applyTransform(s,!0),t.measuredBox):Cu(d,n,t.layoutBox);const m=!qR(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:E,layout:A}=y;if(E&&A){const R=ve();xu(R,t.layoutBox,E.layoutBox);const D=ve();xu(D,n,A.layoutBox),HR(R,D)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function m6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function p6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function g6(e){e.clearSnapshot()}function vS(e){e.clearMeasurements()}function _S(e){e.isLayoutDirty=!1}function y6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function TS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function v6(e){e.resolveTargetDelta()}function _6(e){e.calcProjection()}function T6(e){e.resetSkewAndRotation()}function E6(e){e.removeLeadSnapshot()}function ES(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function AS(e,t,n,s){e.min=le(t.min,n.min,s),e.max=le(t.max,n.max,s)}function A6(e,t,n,s){AS(e.x,t.x,n.x,s),AS(e.y,t.y,n.y,s)}function S6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const b6={duration:.45,ease:[.4,0,.1,1]},SS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bS=SS("applewebkit/")&&!SS("chrome/")?Math.round:Hn;function wS(e){e.min=bS(e.min),e.max=bS(e.max)}function w6(e){wS(e.x),wS(e.y)}function YR(e,t,n){return e==="position"||e==="preserve-aspect"&&!V3(gS(t),gS(n),.2)}function R6(e){return e!==e.root&&e.scroll?.wasRoot}const C6=KR({attachResizeListener:(e,t)=>Ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kp={current:void 0},$R=KR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kp.current){const e=new C6({});e.mount(window),e.setOptions({layoutScroll:!0}),kp.current=e}return kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),x6={pan:{Feature:K3},drag:{Feature:G3,ProjectionNode:$R,MeasureLayout:jR}};function RS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ae.postRender(()=>l(t,hc(t)))}class I6 extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=ek(t,(n,s)=>(RS(this.node,s,"Start"),a=>RS(this.node,a,"End"))))}unmount(){}}class D6 extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lc(Ku(this.node.current,"focus",()=>this.onFocus()),Ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ae.postRender(()=>l(t,hc(t)))}class V6 extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=rk(t,(n,s)=>(CS(this.node,s,"Start"),(a,{success:l})=>CS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ng=new WeakMap,Up=new WeakMap,M6=e=>{const t=Ng.get(e.target);t&&t(e)},N6=e=>{e.forEach(M6)};function P6({root:e,...t}){const n=e||document;Up.has(n)||Up.set(n,{});const s=Up.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(N6,{root:e,...t})),s[a]}function O6(e,t,n){const s=P6(t);return Ng.set(e,n),s.observe(e),()=>{Ng.delete(e),s.unobserve(e)}}const L6={some:0,all:1};class k6 extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:L6[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:E}=this.node.getProps(),A=g?y:E;A&&A(m)};return O6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(U6(t,n))&&this.startObserver()}unmount(){}}function U6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const B6={inView:{Feature:k6},tap:{Feature:V6},focus:{Feature:D6},hover:{Feature:I6}},j6={layout:{ProjectionNode:$R,MeasureLayout:jR}},z6={...w3,...B6,...x6,...j6},xS=zk(z6,t3),F6=()=>{const[e,t]=U.useState([]),[n,s]=U.useState(!0);return U.useEffect(()=>{const a=py(vr,"users"),l=YN(a,$N("points","desc"),QN(10)),c=Wf(l,d=>{const m=d.docs.map(g=>g.data());t(m),s(!1)},d=>{console.error("Error fetching leaderboard:",d),s(!1)});return()=>c()},[]),{leaderboard:e,loading:n}},q6=()=>{const{leaderboard:e,loading:t}=F6(),{user:n,loading:s}=oc();return t||s?Y.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[Y.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:" "}),Y.jsx("div",{className:"spinner"})]}):Y.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[Y.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:" "}),Y.jsx(xS.div,{id:"leaderboard-list",className:"space-y-4",children:e.map((a,l)=>Y.jsxs(xS.div,{className:`flex items-center justify-between p-3 rounded-lg transition-all ${n&&n.uid===a.uid?"bg-blue-100 ring-2 ring-blue-500":"bg-gray-50"}`,children:[Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("div",{className:"leaderboard-rank-box",children:l+1}),Y.jsx("span",{className:"font-semibold text-gray-800 mr-3",children:a.name||"  "})]}),Y.jsxs("span",{className:"font-bold text-blue-600",children:[a.points||0," "]})]},a.uid))})]})},H6=()=>{const{user:e,loading:t}=oc(),n=()=>{const a=new as;hO(fg,a).then(l=>{const c=l.user,d=ic(vr,"users",c.uid);Iy(d,{name:c.displayName,uid:c.uid},{merge:!0})}).catch(l=>{console.error("Google Sign-In Error:",l.message)})},s=()=>{GP(fg).catch(a=>{console.error("Sign-Out Error:",a)})};return t?Y.jsxs("div",{className:"container mx-auto p-4 flex-grow text-center",children:[Y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-800 my-8",children:" "}),Y.jsx("div",{className:"spinner"})]}):Y.jsxs("div",{className:"container mx-auto p-4 flex-grow text-center",children:[Y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-800 my-8",children:" "}),e?Y.jsxs("div",{children:[Y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[Y.jsxs("p",{className:"text-lg md:text-xl",children:[Y.jsx("strong",{children:":"})," ",Y.jsx("span",{children:e.displayName})]}),Y.jsxs("p",{className:"text-lg md:text-xl mt-2",children:[Y.jsx("strong",{children:" :"})," ",Y.jsx("span",{children:e.uid})]}),Y.jsx("button",{onClick:s,className:"mt-6 bg-red-600 text-white font-bold py-2 px-4 rounded-lg",children:" "})]}),Y.jsx(q6,{})]}):Y.jsxs("button",{onClick:n,className:"mt-6 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md",children:[Y.jsx("i",{className:"fab fa-google mr-2"}),"    "]})]})},G6=()=>{const{examId:e}=l2(),t=Lg(),[n,s]=U.useState(null),[a,l]=U.useState(!0),[c,d]=U.useState([]),[m,g]=U.useState(0);U.useEffect(()=>{(async()=>{const j=ic(vr,"artifacts/tanya-thanawey/public/data/exams",e),O=await JN(j);if(O.exists()){const F={id:O.id,...O.data()};s(F),d(new Array(F.questions.length).fill(null)),g((F.duration||30)*60)}else console.error("No such document!");l(!1)})()},[e]),U.useEffect(()=>{if(m===0&&n&&E(),!m)return;const R=setInterval(()=>{g(m-1)},1e3);return()=>clearInterval(R)},[m]);const y=(R,D)=>{const j=[...c];j[R]=D,d(j)},E=()=>{t(`/results/${e}`,{state:{userAnswers:c,exam:n}})};if(a)return Y.jsx("div",{className:"spinner"});if(!n)return Y.jsx("div",{children:"Exam not found"});const A=R=>{const D=Math.floor(R/60),j=R%60;return`${D}:${j<10?"0":""}${j}`};return Y.jsxs("div",{className:"py-4 flex-grow",children:[Y.jsx("div",{id:"exam-timer",className:"fixed top-4 left-4 bg-red-500 text-white p-2 rounded-lg shadow-lg",children:A(m)}),Y.jsx("h2",{id:"exam-title",className:"text-3xl md:text-4xl font-bold text-gray-800 text-center mb-6",children:n.name}),Y.jsx("div",{id:"questions-container",className:"space-y-8",children:n.questions.map((R,D)=>Y.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md relative w-full md:h-[80vh]",children:[Y.jsx("div",{className:"question-number-box",children:Y.jsx("span",{children:D+1})}),Y.jsx("div",{className:"question-points-box",children:Y.jsxs("span",{children:[R.points||1," "]})}),Y.jsx("p",{className:"text-lg md:text-3xl text-gray-800 mb-4 break-words pt-16",children:R.text}),Y.jsx("div",{className:"space-y-3 md:space-y-8",children:R.options.map((j,O)=>{const F=typeof j=="string"?j:j.text,q=`option-${D}-${O}`;return Y.jsxs("div",{className:"custom-radio p-2 rounded-lg",children:[Y.jsx("input",{type:"radio",id:q,name:`question-${D}`,value:F,onChange:()=>y(D,F),className:"form-radio"}),Y.jsx("label",{htmlFor:q,className:"text-gray-700 text-base md:text-2xl",children:F})]},O)})})]},D))}),Y.jsx("div",{className:"flex justify-center mt-8",children:Y.jsx("button",{onClick:E,className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform",children:""})})]})},K6=()=>{const e=gr(),t=Lg(),{user:n}=oc(),{userAnswers:s,exam:a}=e.state||{},{correctAnswersCount:l,earnedPoints:c,totalQuestions:d,percentage:m}=U.useMemo(()=>{if(!a)return{correctAnswersCount:0,earnedPoints:0,totalQuestions:0,percentage:0};let g=0,y=0;const E=a.questions.length;a.questions.forEach((R,D)=>{const j=s[D],O=R.correctAnswer;R.options.findIndex(q=>(typeof q=="string"?q:q.text)===j)===O&&(g++,y+=R.points||1)});const A=E>0?Math.round(g/E*100):0;return{correctAnswersCount:g,earnedPoints:y,totalQuestions:E,percentage:A}},[a,s]);return U.useEffect(()=>{if(n&&c>0){const g=ic(vr,"users",n.uid);Iy(g,{points:jb(c)},{merge:!0}).catch(y=>console.error("Error adding points: ",y))}},[n,c]),a?Y.jsxs("div",{className:"py-4 flex-grow",children:[Y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 text-center mb-6",children:" "}),Y.jsxs("div",{className:"space-y-8",children:[Y.jsxs("div",{className:"p-6 bg-blue-100 text-blue-800 rounded-lg shadow-md text-center mb-8",children:[Y.jsxs("p",{className:"text-2xl md:text-3xl font-bold",children:["   ",l,"  ",d,"  "]}),Y.jsxs("p",{className:"text-xl md:text-2xl mt-2",children:["   ",Y.jsx("span",{className:"font-bold text-green-600",children:c})," "]}),Y.jsxs("p",{className:"text-4xl md:text-5xl font-bold mt-2",children:[m,"%"]})]}),a.questions.map((g,y)=>{const E=s[y],A=g.correctAnswer,R=g.options.findIndex(q=>(typeof q=="string"?q:q.text)===E),D=R===A,j=g.points||1,F=`<div class="result-points-box ${D?"text-black":"text-gray-500 strikethrough-center"}"><span>${j} </span></div>`;return Y.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md relative w-full",children:[Y.jsx("div",{className:"question-number-box",children:Y.jsx("span",{children:y+1})}),Y.jsx("div",{dangerouslySetInnerHTML:{__html:F}}),Y.jsx("p",{className:"text-lg md:text-xl text-gray-800 mb-4 break-words pt-16",children:g.text}),Y.jsx("div",{className:"space-y-3",children:g.options.map((q,Q)=>{const lt=typeof q=="string"?q:q.text;let it="flex justify-between items-center p-2 rounded-lg",dt="text-gray-700 text-base md:text-lg",V="";return Q===A&&(it+=" bg-green-100",dt="text-green-800 text-base md:text-lg font-bold",V='<i class="fas fa-check-circle text-green-600 ml-2"></i>'),R===Q&&R!==A&&(it+=" bg-red-100",dt="text-red-800 text-base md:text-lg font-bold",V='<i class="fas fa-times-circle text-red-600 ml-2"></i>'),Y.jsxs("div",{className:it,children:[Y.jsxs("div",{className:"custom-radio",children:[Y.jsx("input",{type:"radio",id:`result-option-${y}-${Q}`,name:`result-question-${y}`,value:lt,className:"form-radio",checked:R===Q,disabled:!0}),Y.jsx("label",{htmlFor:`result-option-${y}-${Q}`,className:dt,children:lt})]}),Y.jsx("span",{dangerouslySetInnerHTML:{__html:V}})]},Q)})})]},y)})]}),Y.jsx("div",{className:"flex justify-center mt-8",children:Y.jsx("button",{onClick:()=>t("/"),className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform",children:"  "})})]}):Y.jsx("div",{children:"No results to display."})},Y6=()=>Y.jsxs("div",{className:"md:flex md:flex-row-reverse min-h-screen",children:[Y.jsx(nI,{}),Y.jsx("main",{className:"flex-grow p-2 md:mb-0 mb-20 md:mr-48",children:Y.jsx(A2,{})})]});function $6(){return Y.jsx(Y2,{basename:"/basic/",children:Y.jsxs(b2,{children:[Y.jsxs(Qs,{path:"/",element:Y.jsx(Y6,{}),children:[Y.jsx(Qs,{index:!0,element:Y.jsx(r4,{})}),Y.jsx(Qs,{path:"evaluations",element:Y.jsx(o4,{})}),Y.jsx(Qs,{path:"store",element:Y.jsx(u4,{})}),Y.jsx(Qs,{path:"profile",element:Y.jsx(H6,{})})]}),Y.jsx(Qs,{path:"/exam/:examId",element:Y.jsx(G6,{})}),Y.jsx(Qs,{path:"/results/:examId",element:Y.jsx(K6,{})})]})})}Dx.createRoot(document.getElementById("root")).render(Y.jsx(Ax.StrictMode,{children:Y.jsx($6,{})}));
