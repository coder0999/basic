(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ob(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var up={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function N2(){if(PT)return pu;PT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return pu.Fragment=t,pu.jsx=n,pu.jsxs=n,pu}var OT;function V2(){return OT||(OT=1,up.exports=N2()),up.exports}var w=V2(),cp={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function M2(){if(kT)return xt;kT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,B={};function N(M,st,ut){this.props=M,this.context=st,this.refs=B,this.updater=ut||x}N.prototype.isReactComponent={},N.prototype.setState=function(M,st){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,st,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function j(){}j.prototype=N.prototype;function q(M,st,ut){this.props=M,this.context=st,this.refs=B,this.updater=ut||x}var Y=q.prototype=new j;Y.constructor=q,V(Y,N.prototype),Y.isPureReactComponent=!0;var lt=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function P(M,st,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:e,type:M,key:st,ref:ut!==void 0?ut:null,props:Dt}}function R(M,st){return P(M.type,st,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function k(M){var st={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return st[ut]})}var U=/\/+/g;function F(M,st){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):st.toString(36)}function D(){}function Ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(st){M.status==="pending"&&(M.status="fulfilled",M.value=st)},function(st){M.status==="pending"&&(M.status="rejected",M.reason=st)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,st,ut,at,yt){var Dt=typeof M;(Dt==="undefined"||Dt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case e:case t:St=!0;break;case y:return St=M._init,ne(St(M._payload),st,ut,at,yt)}}if(St)return yt=yt(M),St=at===""?"."+F(M,0):at,lt(yt)?(ut="",St!=null&&(ut=St.replace(U,"$&/")+"/"),ne(yt,st,ut,"",function(li){return li})):yt!=null&&(C(yt)&&(yt=R(yt,ut+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(U,"$&/")+"/")+St)),st.push(yt)),1;St=0;var ke=at===""?".":at+":";if(lt(M))for(var Jt=0;Jt<M.length;Jt++)at=M[Jt],Dt=ke+F(at,Jt),St+=ne(at,st,ut,Dt,yt);else if(Jt=b(M),typeof Jt=="function")for(M=Jt.call(M),Jt=0;!(at=M.next()).done;)at=at.value,Dt=ke+F(at,Jt++),St+=ne(at,st,ut,Dt,yt);else if(Dt==="object"){if(typeof M.then=="function")return ne(Ee(M),st,ut,at,yt);throw st=String(M),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(M,st,ut){if(M==null)return M;var at=[],yt=0;return ne(M,at,"","",function(Dt){return st.call(ut,Dt,yt++)}),at}function rt(M){if(M._status===-1){var st=M._result;st=st(),st.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=st)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ct(){}return xt.Children={map:W,forEach:function(M,st,ut){W(M,function(){st.apply(this,arguments)},ut)},count:function(M){var st=0;return W(M,function(){st++}),st},toArray:function(M){return W(M,function(st){return st})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xt.Component=N,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=q,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,xt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return it.H.useMemoCache(M)}},xt.cache=function(M){return function(){return M.apply(null,arguments)}},xt.cloneElement=function(M,st,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=V({},M.props),yt=M.key,Dt=void 0;if(st!=null)for(St in st.ref!==void 0&&(Dt=void 0),st.key!==void 0&&(yt=""+st.key),st)!mt.call(st,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&st.ref===void 0||(at[St]=st[St]);var St=arguments.length-2;if(St===1)at.children=ut;else if(1<St){for(var ke=Array(St),Jt=0;Jt<St;Jt++)ke[Jt]=arguments[Jt+2];at.children=ke}return P(M.type,yt,void 0,void 0,Dt,at)},xt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},xt.createElement=function(M,st,ut){var at,yt={},Dt=null;if(st!=null)for(at in st.key!==void 0&&(Dt=""+st.key),st)mt.call(st,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=st[at]);var St=arguments.length-2;if(St===1)yt.children=ut;else if(1<St){for(var ke=Array(St),Jt=0;Jt<St;Jt++)ke[Jt]=arguments[Jt+2];yt.children=ke}if(M&&M.defaultProps)for(at in St=M.defaultProps,St)yt[at]===void 0&&(yt[at]=St[at]);return P(M,Dt,void 0,void 0,null,yt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(M){return{$$typeof:d,render:M}},xt.isValidElement=C,xt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:rt}},xt.memo=function(M,st){return{$$typeof:p,type:M,compare:st===void 0?null:st}},xt.startTransition=function(M){var st=it.T,ut={};it.T=ut;try{var at=M(),yt=it.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,ht)}catch(Dt){ht(Dt)}finally{it.T=st}},xt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},xt.use=function(M){return it.H.use(M)},xt.useActionState=function(M,st,ut){return it.H.useActionState(M,st,ut)},xt.useCallback=function(M,st){return it.H.useCallback(M,st)},xt.useContext=function(M){return it.H.useContext(M)},xt.useDebugValue=function(){},xt.useDeferredValue=function(M,st){return it.H.useDeferredValue(M,st)},xt.useEffect=function(M,st,ut){var at=it.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(M,st)},xt.useId=function(){return it.H.useId()},xt.useImperativeHandle=function(M,st,ut){return it.H.useImperativeHandle(M,st,ut)},xt.useInsertionEffect=function(M,st){return it.H.useInsertionEffect(M,st)},xt.useLayoutEffect=function(M,st){return it.H.useLayoutEffect(M,st)},xt.useMemo=function(M,st){return it.H.useMemo(M,st)},xt.useOptimistic=function(M,st){return it.H.useOptimistic(M,st)},xt.useReducer=function(M,st,ut){return it.H.useReducer(M,st,ut)},xt.useRef=function(M){return it.H.useRef(M)},xt.useState=function(M){return it.H.useState(M)},xt.useSyncExternalStore=function(M,st,ut){return it.H.useSyncExternalStore(M,st,ut)},xt.useTransition=function(){return it.H.useTransition()},xt.version="19.1.1",xt}var LT;function Bg(){return LT||(LT=1,cp.exports=M2()),cp.exports}var O=Bg();const P2=Ob(O);var hp={exports:{}},gu={},fp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function O2(){return UT||(UT=1,(function(e){function t(W,rt){var ht=W.length;W.push(rt);t:for(;0<ht;){var Ct=ht-1>>>1,M=W[Ct];if(0<a(M,rt))W[Ct]=rt,W[ht]=M,ht=Ct;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var rt=W[0],ht=W.pop();if(ht!==rt){W[0]=ht;t:for(var Ct=0,M=W.length,st=M>>>1;Ct<st;){var ut=2*(Ct+1)-1,at=W[ut],yt=ut+1,Dt=W[yt];if(0>a(at,ht))yt<M&&0>a(Dt,at)?(W[Ct]=Dt,W[yt]=ht,Ct=yt):(W[Ct]=at,W[ut]=ht,Ct=ut);else if(yt<M&&0>a(Dt,ht))W[Ct]=Dt,W[yt]=ht,Ct=yt;else break t}}return rt}function a(W,rt){var ht=W.sortIndex-rt.sortIndex;return ht!==0?ht:W.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,b=3,x=!1,V=!1,B=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function lt(W){for(var rt=n(p);rt!==null;){if(rt.callback===null)s(p);else if(rt.startTime<=W)s(p),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(p)}}function it(W){if(B=!1,lt(W),!V)if(n(m)!==null)V=!0,mt||(mt=!0,F());else{var rt=n(p);rt!==null&&ne(it,rt.startTime-W)}}var mt=!1,P=-1,R=5,C=-1;function k(){return N?!0:!(e.unstable_now()-C<R)}function U(){if(N=!1,mt){var W=e.unstable_now();C=W;var rt=!0;try{t:{V=!1,B&&(B=!1,q(P),P=-1),x=!0;var ht=b;try{e:{for(lt(W),_=n(m);_!==null&&!(_.expirationTime>W&&k());){var Ct=_.callback;if(typeof Ct=="function"){_.callback=null,b=_.priorityLevel;var M=Ct(_.expirationTime<=W);if(W=e.unstable_now(),typeof M=="function"){_.callback=M,lt(W),rt=!0;break e}_===n(m)&&s(m),lt(W)}else s(m);_=n(m)}if(_!==null)rt=!0;else{var st=n(p);st!==null&&ne(it,st.startTime-W),rt=!1}}break t}finally{_=null,b=ht,x=!1}rt=void 0}}finally{rt?F():mt=!1}}}var F;if(typeof Y=="function")F=function(){Y(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ee=D.port2;D.port1.onmessage=U,F=function(){Ee.postMessage(null)}}else F=function(){j(U,0)};function ne(W,rt){P=j(function(){W(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var rt=3;break;default:rt=b}var ht=b;b=rt;try{return W()}finally{b=ht}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ht=b;b=W;try{return rt()}finally{b=ht}},e.unstable_scheduleCallback=function(W,rt,ht){var Ct=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,W={id:y++,callback:rt,priorityLevel:W,startTime:ht,expirationTime:M,sortIndex:-1},ht>Ct?(W.sortIndex=ht,t(p,W),n(m)===null&&W===n(p)&&(B?(q(P),P=-1):B=!0,ne(it,ht-Ct))):(W.sortIndex=M,t(m,W),V||x||(V=!0,mt||(mt=!0,F()))),W},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(W){var rt=b;return function(){var ht=b;b=rt;try{return W.apply(this,arguments)}finally{b=ht}}}})(dp)),dp}var jT;function k2(){return jT||(jT=1,fp.exports=O2()),fp.exports}var mp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function L2(){if(BT)return tn;BT=1;var e=Bg();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},tn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:x}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},tn.requestFormReset=function(m){s.d.r(m)},tn.unstable_batchedUpdates=function(m,p){return m(p)},tn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var zT;function U2(){if(zT)return mp.exports;zT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=L2(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function j2(){if(FT)return gu;FT=1;var e=k2(),t=Bg(),n=U2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=g;break}if(A===u){E=!0,u=f,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=f;break}if(A===u){E=!0,u=g,o=f;break}A=A.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case N:return"Profiler";case B:return"StrictMode";case it:return"Suspense";case mt:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return r=i.displayName||null,r!==null?r:Ee(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Ee(i(r))}catch{}}return null}var ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],M=-1;function st(i){return{current:i}}function ut(i){0>M||(i.current=Ct[M],Ct[M]=null,M--)}function at(i,r){M++,Ct[M]=i.current,i.current=r}var yt=st(null),Dt=st(null),St=st(null),ke=st(null);function Jt(i,r){switch(at(St,r),at(Dt,i),at(yt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lT(r),i=uT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(yt),at(yt,i)}function li(){ut(yt),ut(Dt),ut(St)}function Ss(i){i.memoizedState!==null&&at(ke,i);var r=yt.current,o=uT(r,i.type);r!==o&&(at(Dt,i),at(yt,o))}function ji(i){Dt.current===i&&(ut(yt),ut(Dt)),ke.current===i&&(ut(ke),cu._currentValue=ht)}var Tr=Object.prototype.hasOwnProperty,Er=e.unstable_scheduleCallback,br=e.unstable_cancelCallback,ol=e.unstable_shouldYield,pc=e.unstable_requestPaint,Cn=e.unstable_now,ud=e.unstable_getCurrentPriorityLevel,ll=e.unstable_ImmediatePriority,Ia=e.unstable_UserBlockingPriority,Ar=e.unstable_NormalPriority,cd=e.unstable_LowPriority,Da=e.unstable_IdlePriority,ul=e.log,gc=e.unstable_setDisableYieldValue,he=null,Gt=null;function vn(i){if(typeof ul=="function"&&gc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:Sr,yc=Math.log,hd=Math.LN2;function Sr(i){return i>>>=0,i===0?32:31-(yc(i)/hd|0)|0}var wr=256,Rr=4194304;function Kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Na(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?f=Kn(u):(E&=A,E!==0?f=Kn(E):o||(o=A&~i,o!==0&&(f=Kn(o))))):(A=u&~g,A!==0?f=Kn(A):E!==0?f=Kn(E):o||(o=u&~i,o!==0&&(f=Kn(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function xr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function cl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var i=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),i}function fl(){var i=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),i}function Bi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dl(i,r,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Ze(o),et=1<<Z;A[Z]=0,I[Z]=-1;var $=K[Z];if($!==null)for(K[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&ui(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function ui(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ze(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ml(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rs(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:CT(i.type))}function vc(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var se=Math.random().toString(36).slice(2),De="__reactFiber$"+se,be="__reactProps$"+se,In="__reactContainer$"+se,pl="__reactEvents$"+se,fd="__reactListeners$"+se,xs="__reactHandles$"+se,_c="__reactResources$"+se,Cr="__reactMarker$"+se;function Cs(i){delete i[De],delete i[be],delete i[pl],delete i[fd],delete i[xs]}function Fi(i){var r=i[De];if(r)return r;for(var o=i.parentNode;o;){if(r=o[In]||o[De]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=dT(i);i!==null;){if(o=i[De])return o;i=dT(i)}return r}i=o,o=i.parentNode}return null}function ci(i){if(i=i[De]||i[In]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function hi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function on(i){var r=i[_c];return r||(r=i[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pe(i){i[Cr]=!0}var gl=new Set,Ma={};function Yn(i,r){qi(i,r),qi(i+"Capture",r)}function qi(i,r){for(Ma[i]=r,i=0;i<r.length;i++)gl.add(r[i])}var Tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Ir={};function bc(i){return Tr.call(Ir,i)?!0:Tr.call(Ec,i)?!1:Tc.test(i)?Ir[i]=!0:(Ec[i]=!0,!1)}function Is(i,r,o){if(bc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function fi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Dr,Ac;function Hi(i){if(Dr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Dr=r&&r[1]||"",Ac=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+i+Ac}var Pa=!1;function Oa(i,r){if(!i||Pa)return"";Pa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var $=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){$=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){$=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var I=E.split(`
`),K=A.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===K.length)for(u=I.length-1,f=K.length-1;1<=u&&0<=f&&I[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==K[f]){var Z=`
`+I[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Pa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Hi(o):""}function yl(i){switch(i.tag){case 26:case 27:case 5:return Hi(i.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Oa(i.type,!1);case 11:return Oa(i.type.render,!1);case 1:return Oa(i.type,!0);case 31:return Hi("Activity");default:return""}}function ka(i){try{var r="";do r+=yl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dd(i){var r=vl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function La(i){i._valueTracker||(i._valueTracker=dd(i))}function _l(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=vl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Nr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var md=/[\n"\\]/g;function Ae(i){return i.replace(md,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(i,r,o,u,f,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Ds(i,E,ln(r)):o!=null?Ds(i,E,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+ln(A):i.removeAttribute("name")}function Vr(i,r,o,u,f,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Ds(i,r,o){r==="number"&&Nr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gi(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function $t(i,r,o){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ln(o):""}function Mr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ln(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Dn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Pr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Tl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Sc(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Sc(i,g,r[g])}function El(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(i){return gd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ki=null;function Nn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yi=null,$i=null;function bl(i){var r=ci(i);if(r&&(i=r.stateNode)){var o=i[be]||null;t:switch(i=r.stateNode,r.type){case"input":if(_n(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ae(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[be]||null;if(!f)throw Error(s(90));_n(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&_l(u)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Gi(i,!!o.multiple,r,!1)}}}var di=!1;function wc(i,r,o){if(di)return i(r,o);di=!0;try{var u=i(r);return u}finally{if(di=!1,(Yi!==null||$i!==null)&&(vh(),Yi&&(r=Yi,i=$i,$i=Yi=null,bl(r),i)))for(r=0;r<i.length;r++)bl(i[r])}}function Or(i,r){var o=i.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if($n)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Vn=!1}var mi=null,Ns=null,Qi=null;function Al(){if(Qi)return Qi;var i,r=Ns,o=r.length,u,f="value"in mi?mi.value:mi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===f[g-u];u++);return Qi=f.slice(i,1<u?1-u:void 0)}function pi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function Sl(){return!1}function Le(i){function r(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gi:Sl,this.isPropagationStopped=Sl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),r}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Le(qt),Lr=y({},qt,{view:0,detail:0}),Rc=Le(Lr),Ba,za,yi,Ur=y({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(Ba=i.screenX-yi.screenX,za=i.screenY-yi.screenY):za=Ba=0,yi=i),Ba)},movementY:function(i){return"movementY"in i?i.movementY:za}}),Mn=Le(Ur),xc=y({},Ur,{dataTransfer:0}),yd=Le(xc),jr=y({},Lr,{relatedTarget:0}),Fa=Le(jr),wl=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Le(wl),Cc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ha=Le(Cc),vd=y({},qt,{data:0}),Rl=Le(vd),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Dc[i])?!!r[i]:!1}function zr(){return xl}var Nc=y({},Lr,{key:function(i){if(i.key){var r=Br[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ic[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ga=Le(Nc),Vc=y({},Ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Le(Vc),Xi=y({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),Mc=Le(Xi),Pc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oc=Le(Pc),kc=y({},Ur,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Le(kc),un=y({},qt,{newState:0,oldState:0}),Lc=Le(un),Uc=[9,13,27,32],vi=$n&&"CompositionEvent"in window,h=null;$n&&"documentMode"in document&&(h=document.documentMode);var v=$n&&"TextEvent"in window&&!h,T=$n&&(!vi||h&&8<h&&11>=h),S=" ",H=!1;function X(i,r){switch(i){case"keyup":return Uc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function Ne(i,r){switch(i){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return i=r.data,i===S&&H?null:i;default:return null}}function Ut(i,r){if(Lt)return i==="compositionend"||!vi&&X(i,r)?(i=Al(),Qi=Ns=mi=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ue[i.type]:r==="textarea"}function Wi(i,r,o,u){Yi?$i?$i.push(u):$i=[u]:Yi=u,r=Sh(r,"onChange"),0<r.length&&(o=new ja("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,_i=null;function Il(i){iT(i,0)}function jc(i){var r=hi(i);if(_l(r))return i}function Sv(i,r){if(i==="change")return r}var wv=!1;if($n){var _d;if($n){var Td="oninput"in document;if(!Td){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),Td=typeof Rv.oninput=="function"}_d=Td}else _d=!1;wv=_d&&(!document.documentMode||9<document.documentMode)}function xv(){He&&(He.detachEvent("onpropertychange",Cv),_i=He=null)}function Cv(i){if(i.propertyName==="value"&&jc(_i)){var r=[];Wi(r,_i,i,Nn(i)),wc(Il,r)}}function ox(i,r,o){i==="focusin"?(xv(),He=r,_i=o,He.attachEvent("onpropertychange",Cv)):i==="focusout"&&xv()}function lx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(_i)}function ux(i,r){if(i==="click")return jc(r)}function cx(i,r){if(i==="input"||i==="change")return jc(r)}function hx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:hx;function Dl(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Tr.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function Iv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dv(i,r){var o=Iv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Iv(o)}}function Nv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Nv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Vv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Nr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Nr(i.document)}return r}function Ed(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var fx=$n&&"documentMode"in document&&11>=document.documentMode,Ya=null,bd=null,Nl=null,Ad=!1;function Mv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ad||Ya==null||Ya!==Nr(u)||(u=Ya,"selectionStart"in u&&Ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Dl(Nl,u)||(Nl=u,u=Sh(bd,"onSelect"),0<u.length&&(r=new ja("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ya)))}function Fr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var $a={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Sd={},Pv={};$n&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function qr(i){if(Sd[i])return Sd[i];if(!$a[i])return i;var r=$a[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Pv)return Sd[i]=r[o];return i}var Ov=qr("animationend"),kv=qr("animationiteration"),Lv=qr("animationstart"),dx=qr("transitionrun"),mx=qr("transitionstart"),px=qr("transitioncancel"),Uv=qr("transitionend"),jv=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Qn(i,r){jv.set(i,r),Yn(r,[i])}var Bv=new WeakMap;function Pn(i,r){if(typeof i=="object"&&i!==null){var o=Bv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ka(r)},Bv.set(i,r),r)}return{value:i,source:r,stack:ka(r)}}var On=[],Qa=0,Rd=0;function Bc(){for(var i=Qa,r=Rd=Qa=0;r<i;){var o=On[r];On[r++]=null;var u=On[r];On[r++]=null;var f=On[r];On[r++]=null;var g=On[r];if(On[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&zv(o,f,g)}}function zc(i,r,o,u){On[Qa++]=i,On[Qa++]=r,On[Qa++]=o,On[Qa++]=u,Rd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function xd(i,r,o,u){return zc(i,r,o,u),Fc(i)}function Xa(i,r){return zc(i,null,null,r),Fc(i)}function zv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Ze(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function Fc(i){if(50<nu)throw nu=0,Mm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Wa={};function gx(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,r,o,u){return new gx(i,r,o,u)}function Cd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,r){var o=i.alternate;return o===null?(o=En(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Fv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function qc(i,r,o,u,f,g){var E=0;if(u=i,typeof i=="function")Cd(i)&&(E=1);else if(typeof i=="string")E=v2(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=En(31,o,r,f),i.elementType=C,i.lanes=g,i;case V:return Hr(o.children,f,g,r);case B:E=8,f|=24;break;case N:return i=En(12,o,r,f|2),i.elementType=N,i.lanes=g,i;case it:return i=En(13,o,r,f),i.elementType=it,i.lanes=g,i;case mt:return i=En(19,o,r,f),i.elementType=mt,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case Y:E=10;break t;case q:E=9;break t;case lt:E=11;break t;case P:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=En(E,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function Hr(i,r,o,u){return i=En(7,i,u,r),i.lanes=o,i}function Id(i,r,o){return i=En(6,i,null,r),i.lanes=o,i}function Dd(i,r,o){return r=En(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Za=[],Ja=0,Hc=null,Gc=0,kn=[],Ln=0,Gr=null,Ji=1,ts="";function Kr(i,r){Za[Ja++]=Gc,Za[Ja++]=Hc,Hc=i,Gc=r}function qv(i,r,o){kn[Ln++]=Ji,kn[Ln++]=ts,kn[Ln++]=Gr,Gr=i;var u=Ji;i=ts;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var g=32-Ze(r)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ji=1<<32-Ze(r)+f|o<<f|u,ts=g+i}else Ji=1<<g|o<<f|u,ts=i}function Nd(i){i.return!==null&&(Kr(i,1),qv(i,1,0))}function Vd(i){for(;i===Hc;)Hc=Za[--Ja],Za[Ja]=null,Gc=Za[--Ja],Za[Ja]=null;for(;i===Gr;)Gr=kn[--Ln],kn[Ln]=null,ts=kn[--Ln],kn[Ln]=null,Ji=kn[--Ln],kn[Ln]=null}var cn=null,fe=null,Ft=!1,Yr=null,Ti=!1,Md=Error(s(519));function $r(i){var r=Error(s(418,""));throw Pl(Pn(r,i)),Md}function Hv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[De]=i,r[be]=u,o){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(o=0;o<su.length;o++)Mt(su[o],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Vr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),La(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Mr(r,u.value,u.defaultValue,u.children),La(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||oT(r.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=wh),r=!0):r=!1,r||$r(i)}function Gv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:cn=cn.return}}function Vl(i){if(i!==cn)return!1;if(!Ft)return Gv(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qm(i.type,i.memoizedProps)),o=!o),o&&fe&&$r(i),Gv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){fe=Wn(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,Ys(i.type)?(i=Jm,Jm=null,fe=i):fe=r):fe=cn?Wn(i.stateNode.nextSibling):null;return!0}function Ml(){fe=cn=null,Ft=!1}function Kv(){var i=Yr;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Yr=null),i}function Pl(i){Yr===null?Yr=[i]:Yr.push(i)}var Pd=st(null),Qr=null,es=null;function Vs(i,r,o){at(Pd,r._currentValue),r._currentValue=o}function ns(i){i._currentValue=Pd.current,ut(Pd)}function Od(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function kd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=f;for(var I=0;I<r.length;I++)if(A.context===r[I]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Od(g.return,o,i),u||(E=null);break t}g=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Od(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ol(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(f===ke.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}f=f.return}i!==null&&kd(r,i,o,u),r.flags|=262144}function Kc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xr(i){Qr=i,es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return Yv(Qr,i)}function Yc(i,r){return Qr===null&&Xr(i),Yv(i,r)}function Yv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},es===null){if(i===null)throw Error(s(308));es=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else es=es.next=r;return o}var yx=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},vx=e.unstable_scheduleCallback,_x=e.unstable_NormalPriority,Me={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new yx,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&vx(_x,function(){i.controller.abort()})}var Ll=null,Ud=0,to=0,eo=null;function Tx(i,r){if(Ll===null){var o=Ll=[];Ud=0,to=Bm(),eo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ud++,r.then($v,$v),r}function $v(){if(--Ud===0&&Ll!==null){eo!==null&&(eo.status="fulfilled");var i=Ll;Ll=null,to=0,eo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Ex(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Qv=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Tx(i,r),Qv!==null&&Qv(i,r)};var Wr=st(null);function jd(){var i=Wr.current;return i!==null?i:te.pooledCache}function $c(i,r){r===null?at(Wr,Wr.current):at(Wr,r.pool)}function Xv(){var i=jd();return i===null?null:{parent:Me._currentValue,pool:i}}var Ul=Error(s(460)),Wv=Error(s(474)),Qc=Error(s(542)),Bd={then:function(){}};function Zv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xc(){}function Jv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Xc,Xc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e0(i),i;default:if(typeof r.status=="string")r.then(Xc,Xc);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e0(i),i}throw jl=r,Ul}}var jl=null;function t0(){if(jl===null)throw Error(s(459));var i=jl;return jl=null,i}function e0(i){if(i===Ul||i===Qc)throw Error(s(483))}var Ms=!1;function zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Os(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Fc(i),zv(i,null,o),r}return zc(i,u,r,o),Fc(i)}function Bl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ml(i,o)}}function qd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Hd=!1;function zl(){if(Hd){var i=eo;if(i!==null)throw i}}function Fl(i,r,o,u){Hd=!1;var f=i.updateQueue;Ms=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var I=A,K=I.next;I.next=null,E===null?g=K:E.next=K,E=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==E&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=I))}if(g!==null){var et=f.baseState;E=0,Z=K=I=null,A=g;do{var $=A.lane&-536870913,Q=$!==A.lane;if(Q?(jt&$)===$:(u&$)===$){$!==0&&$===to&&(Hd=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Et=i,vt=A;$=r;var Wt=o;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){et=Et.call(Wt,et,$);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,$=typeof Et=="function"?Et.call(Wt,et,$):Et,$==null)break t;et=y({},et,$);break t;case 2:Ms=!0}}$=A.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=Q,I=et):Z=Z.next=Q,E|=$;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(I=et),f.baseState=I,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),qs|=E,i.lanes=E,i.memoizedState=et}}function n0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function i0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)n0(o[i],r)}var no=st(null),Wc=st(0);function s0(i,r){i=us,at(Wc,i),at(no,r),us=i|r.baseLanes}function Gd(){at(Wc,us),at(no,no.current)}function Kd(){us=Wc.current,ut(no),ut(Wc)}var ks=0,It=null,Qt=null,Se=null,Zc=!1,io=!1,Zr=!1,Jc=0,ql=0,so=null,bx=0;function ge(){throw Error(s(321))}function Yd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Tn(i[o],r[o]))return!1;return!0}function $d(i,r,o,u,f,g){return ks=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?z0:F0,Zr=!1,g=o(u,f),Zr=!1,io&&(g=a0(r,o,u,f)),r0(i),g}function r0(i){W.H=rh;var r=Qt!==null&&Qt.next!==null;if(ks=0,Se=Qt=It=null,Zc=!1,ql=0,so=null,r)throw Error(s(300));i===null||je||(i=i.dependencies,i!==null&&Kc(i)&&(je=!0))}function a0(i,r,o,u){It=i;var f=0;do{if(io&&(so=null),ql=0,io=!1,25<=f)throw Error(s(301));if(f+=1,Se=Qt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=Ix,g=r(o,u)}while(io);return g}function Ax(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Hl(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(It.flags|=1024),r}function Qd(){var i=Jc!==0;return Jc=0,i}function Xd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Wd(i){if(Zc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zc=!1}ks=0,Se=Qt=It=null,io=!1,ql=Jc=0,so=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?It.memoizedState=Se=i:Se=Se.next=i,Se}function we(){if(Qt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=Se===null?It.memoizedState:Se.next;if(r!==null)Se=r,Qt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Se===null?It.memoizedState=Se=i:Se=Se.next=i}return Se}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(i){var r=ql;return ql+=1,so===null&&(so=[]),i=Jv(so,i,r),r=It,(Se===null?r.memoizedState:Se.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?z0:F0),i}function th(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hl(i);if(i.$$typeof===Y)return Je(i)}throw Error(s(438,String(i)))}function Jd(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Zd(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=k;return r.index++,o}function is(i,r){return typeof r=="function"?r(i):r}function eh(i){var r=we();return tm(r,Qt,i)}function tm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var A=E=null,I=null,K=r,Z=!1;do{var et=K.lane&-536870913;if(et!==K.lane?(jt&et)===et:(ks&et)===et){var $=K.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),et===to&&(Z=!0);else if((ks&$)===$){K=K.next,$===to&&(Z=!0);continue}else et={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(A=I=et,E=g):I=I.next=et,It.lanes|=$,qs|=$;et=K.action,Zr&&o(g,et),g=K.hasEagerState?K.eagerState:o(g,et)}else $={lane:et,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(A=I=$,E=g):I=I.next=$,It.lanes|=et,qs|=et;K=K.next}while(K!==null&&K!==r);if(I===null?E=g:I.next=A,!Tn(g,i.memoizedState)&&(je=!0,Z&&(o=eo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function em(i){var r=we(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Tn(g,r.memoizedState)||(je=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function o0(i,r,o){var u=It,f=we(),g=Ft;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Tn((Qt||f).memoizedState,o);E&&(f.memoizedState=o,je=!0),f=f.queue;var A=c0.bind(null,u,f,i);if(Gl(2048,8,A,[i]),f.getSnapshot!==r||E||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,ro(9,nh(),u0.bind(null,u,f,o,r),null),te===null)throw Error(s(349));g||(ks&124)!==0||l0(u,r,o)}return o}function l0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=Zd(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function u0(i,r,o,u){r.value=o,r.getSnapshot=u,h0(r)&&f0(i)}function c0(i,r,o){return o(function(){h0(r)&&f0(i)})}function h0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Tn(i,o)}catch{return!0}}function f0(i){var r=Xa(i,2);r!==null&&Rn(r,i,2)}function nm(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),Zr){vn(!0);try{o()}finally{vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:i},r}function d0(i,r,o,u){return i.baseState=o,tm(i,Qt,typeof u=="function"?u:is)}function Sx(i,r,o,u,f){if(sh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,m0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function m0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=W.T,E={};W.T=E;try{var A=o(f,u),I=W.S;I!==null&&I(E,A),p0(i,r,A)}catch(K){im(i,r,K)}finally{W.T=g}}else try{g=o(f,u),p0(i,r,g)}catch(K){im(i,r,K)}}function p0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){g0(i,r,u)},function(u){return im(i,r,u)}):g0(i,r,o)}function g0(i,r,o){r.status="fulfilled",r.value=o,y0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,m0(i,o)))}function im(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,y0(r),r=r.next;while(r!==u)}i.action=null}function y0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function v0(i,r){return r}function _0(i,r){if(Ft){var o=te.formState;if(o!==null){t:{var u=It;if(Ft){if(fe){e:{for(var f=fe,g=Ti;f.nodeType!==8;){if(!g){f=null;break e}if(f=Wn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){fe=Wn(f.nextSibling),u=f.data==="F!";break t}}$r(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:r},o.queue=u,o=U0.bind(null,It,u),u.dispatch=o,u=nm(!1),g=lm.bind(null,It,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=Sx.bind(null,It,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function T0(i){var r=we();return E0(r,Qt,i)}function E0(i,r,o){if(r=tm(i,r,v0)[0],i=eh(is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hl(r)}catch(E){throw E===Ul?Qc:E}else u=r;r=we();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(It.flags|=2048,ro(9,nh(),wx.bind(null,f,o),null)),[u,g,i]}function wx(i,r){i.action=r}function b0(i){var r=we(),o=Qt;if(o!==null)return E0(r,o,i);we(),r=r.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ro(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=Zd(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function nh(){return{destroy:void 0,resource:void 0}}function A0(){return we().memoizedState}function ih(i,r,o,u){var f=dn();u=u===void 0?null:u,It.flags|=i,f.memoizedState=ro(1|r,nh(),o,u)}function Gl(i,r,o,u){var f=we();u=u===void 0?null:u;var g=f.memoizedState.inst;Qt!==null&&u!==null&&Yd(u,Qt.memoizedState.deps)?f.memoizedState=ro(r,g,o,u):(It.flags|=i,f.memoizedState=ro(1|r,g,o,u))}function S0(i,r){ih(8390656,8,i,r)}function w0(i,r){Gl(2048,8,i,r)}function R0(i,r){return Gl(4,2,i,r)}function x0(i,r){return Gl(4,4,i,r)}function C0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function I0(i,r,o){o=o!=null?o.concat([i]):null,Gl(4,4,C0.bind(null,r,i),o)}function sm(){}function D0(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Yd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function N0(i,r){var o=we();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Yd(r,u[1]))return u[0];if(u=i(),Zr){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,r],u}function rm(i,r,o){return o===void 0||(ks&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=P_(),It.lanes|=i,qs|=i,o)}function V0(i,r,o,u){return Tn(o,r)?o:no.current!==null?(i=rm(i,o,u),Tn(i,r)||(je=!0),i):(ks&42)===0?(je=!0,i.memoizedState=o):(i=P_(),It.lanes|=i,qs|=i,r)}function M0(i,r,o,u,f){var g=rt.p;rt.p=g!==0&&8>g?g:8;var E=W.T,A={};W.T=A,lm(i,!1,r,o);try{var I=f(),K=W.S;if(K!==null&&K(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Ex(I,u);Kl(i,r,Z,wn(i))}else Kl(i,r,u,wn(i))}catch(et){Kl(i,r,{then:function(){},status:"rejected",reason:et},wn())}finally{rt.p=g,W.T=E}}function Rx(){}function am(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=P0(i).queue;M0(i,f,r,ht,o===null?Rx:function(){return O0(i),o(u)})}function P0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ht},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function O0(i){var r=P0(i).next.queue;Kl(i,r,{},wn())}function om(){return Je(cu)}function k0(){return we().memoizedState}function L0(){return we().memoizedState}function xx(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=wn();i=Ps(o);var u=Os(r,i,o);u!==null&&(Rn(u,r,o),Bl(u,r,o)),r={cache:Ld()},i.payload=r;return}r=r.return}}function Cx(i,r,o){var u=wn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},sh(i)?j0(r,o):(o=xd(i,r,o,u),o!==null&&(Rn(o,i,u),B0(o,r,u)))}function U0(i,r,o){var u=wn();Kl(i,r,o,u)}function Kl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(sh(i))j0(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,A=g(E,o);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,E))return zc(i,r,f,0),te===null&&Bc(),!1}catch{}finally{}if(o=xd(i,r,f,u),o!==null)return Rn(o,i,u),B0(o,r,u),!0}return!1}function lm(i,r,o,u){if(u={lane:2,revertLane:Bm(),action:u,hasEagerState:!1,eagerState:null,next:null},sh(i)){if(r)throw Error(s(479))}else r=xd(i,o,u,2),r!==null&&Rn(r,i,2)}function sh(i){var r=i.alternate;return i===It||r!==null&&r===It}function j0(i,r){io=Zc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function B0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ml(i,o)}}var rh={readContext:Je,use:th,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},z0={readContext:Je,use:th,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:S0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,ih(4194308,4,C0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return ih(4194308,4,i,r)},useInsertionEffect:function(i,r){ih(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(Zr){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var f=o(r);if(Zr){vn(!0);try{o(r)}finally{vn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=Cx.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=nm(i);var r=i.queue,o=U0.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:sm,useDeferredValue:function(i,r){var o=dn();return rm(o,i,r)},useTransition:function(){var i=nm(!1);return i=M0.bind(null,It,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=dn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(jt&124)!==0||l0(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,S0(c0.bind(null,u,g,i),[i]),u.flags|=2048,ro(9,nh(),u0.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=te.identifierPrefix;if(Ft){var o=ts,u=Ji;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,r=""+r+"R"+o,o=Jc++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=bx++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:om,useFormState:_0,useActionState:_0,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lm.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:Jd,useCacheRefresh:function(){return dn().memoizedState=xx.bind(null,It)}},F0={readContext:Je,use:th,useCallback:D0,useContext:Je,useEffect:w0,useImperativeHandle:I0,useInsertionEffect:R0,useLayoutEffect:x0,useMemo:N0,useReducer:eh,useRef:A0,useState:function(){return eh(is)},useDebugValue:sm,useDeferredValue:function(i,r){var o=we();return V0(o,Qt.memoizedState,i,r)},useTransition:function(){var i=eh(is)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:o0,useId:k0,useHostTransitionStatus:om,useFormState:T0,useActionState:T0,useOptimistic:function(i,r){var o=we();return d0(o,Qt,i,r)},useMemoCache:Jd,useCacheRefresh:L0},Ix={readContext:Je,use:th,useCallback:D0,useContext:Je,useEffect:w0,useImperativeHandle:I0,useInsertionEffect:R0,useLayoutEffect:x0,useMemo:N0,useReducer:em,useRef:A0,useState:function(){return em(is)},useDebugValue:sm,useDeferredValue:function(i,r){var o=we();return Qt===null?rm(o,i,r):V0(o,Qt.memoizedState,i,r)},useTransition:function(){var i=em(is)[0],r=we().memoizedState;return[typeof i=="boolean"?i:Hl(i),r]},useSyncExternalStore:o0,useId:k0,useHostTransitionStatus:om,useFormState:b0,useActionState:b0,useOptimistic:function(i,r){var o=we();return Qt!==null?d0(o,Qt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:L0},ao=null,Yl=0;function ah(i){var r=Yl;return Yl+=1,ao===null&&(ao=[]),Jv(ao,i,r)}function $l(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function oh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function q0(i){var r=i._init;return r(i._payload)}function H0(i){function r(z,L){if(i){var G=z.deletions;G===null?(z.deletions=[L],z.flags|=16):G.push(L)}}function o(z,L){if(!i)return null;for(;L!==null;)r(z,L),L=L.sibling;return null}function u(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function f(z,L){return z=Zi(z,L),z.index=0,z.sibling=null,z}function g(z,L,G){return z.index=G,i?(G=z.alternate,G!==null?(G=G.index,G<L?(z.flags|=67108866,L):G):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,L,G,J){return L===null||L.tag!==6?(L=Id(G,z.mode,J),L.return=z,L):(L=f(L,G),L.return=z,L)}function I(z,L,G,J){var dt=G.type;return dt===V?Z(z,L,G.props.children,J,G.key):L!==null&&(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&q0(dt)===L.type)?(L=f(L,G.props),$l(L,G),L.return=z,L):(L=qc(G.type,G.key,G.props,null,z.mode,J),$l(L,G),L.return=z,L)}function K(z,L,G,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Dd(G,z.mode,J),L.return=z,L):(L=f(L,G.children||[]),L.return=z,L)}function Z(z,L,G,J,dt){return L===null||L.tag!==7?(L=Hr(G,z.mode,J,dt),L.return=z,L):(L=f(L,G),L.return=z,L)}function et(z,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Id(""+L,z.mode,G),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return G=qc(L.type,L.key,L.props,null,z.mode,G),$l(G,L),G.return=z,G;case x:return L=Dd(L,z.mode,G),L.return=z,L;case R:var J=L._init;return L=J(L._payload),et(z,L,G)}if(ne(L)||F(L))return L=Hr(L,z.mode,G,null),L.return=z,L;if(typeof L.then=="function")return et(z,ah(L),G);if(L.$$typeof===Y)return et(z,Yc(z,L),G);oh(z,L)}return null}function $(z,L,G,J){var dt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return dt!==null?null:A(z,L,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===dt?I(z,L,G,J):null;case x:return G.key===dt?K(z,L,G,J):null;case R:return dt=G._init,G=dt(G._payload),$(z,L,G,J)}if(ne(G)||F(G))return dt!==null?null:Z(z,L,G,J,null);if(typeof G.then=="function")return $(z,L,ah(G),J);if(G.$$typeof===Y)return $(z,L,Yc(z,G),J);oh(z,G)}return null}function Q(z,L,G,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(G)||null,A(L,z,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return z=z.get(J.key===null?G:J.key)||null,I(L,z,J,dt);case x:return z=z.get(J.key===null?G:J.key)||null,K(L,z,J,dt);case R:var Nt=J._init;return J=Nt(J._payload),Q(z,L,G,J,dt)}if(ne(J)||F(J))return z=z.get(G)||null,Z(L,z,J,dt,null);if(typeof J.then=="function")return Q(z,L,G,ah(J),dt);if(J.$$typeof===Y)return Q(z,L,G,Yc(L,J),dt);oh(L,J)}return null}function Et(z,L,G,J){for(var dt=null,Nt=null,pt=L,_t=L=0,ze=null;pt!==null&&_t<G.length;_t++){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var zt=$(z,pt,G[_t],J);if(zt===null){pt===null&&(pt=ze);break}i&&pt&&zt.alternate===null&&r(z,pt),L=g(zt,L,_t),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt,pt=ze}if(_t===G.length)return o(z,pt),Ft&&Kr(z,_t),dt;if(pt===null){for(;_t<G.length;_t++)pt=et(z,G[_t],J),pt!==null&&(L=g(pt,L,_t),Nt===null?dt=pt:Nt.sibling=pt,Nt=pt);return Ft&&Kr(z,_t),dt}for(pt=u(pt);_t<G.length;_t++)ze=Q(pt,z,_t,G[_t],J),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?_t:ze.key),L=g(ze,L,_t),Nt===null?dt=ze:Nt.sibling=ze,Nt=ze);return i&&pt.forEach(function(Zs){return r(z,Zs)}),Ft&&Kr(z,_t),dt}function vt(z,L,G,J){if(G==null)throw Error(s(151));for(var dt=null,Nt=null,pt=L,_t=L=0,ze=null,zt=G.next();pt!==null&&!zt.done;_t++,zt=G.next()){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var Zs=$(z,pt,zt.value,J);if(Zs===null){pt===null&&(pt=ze);break}i&&pt&&Zs.alternate===null&&r(z,pt),L=g(Zs,L,_t),Nt===null?dt=Zs:Nt.sibling=Zs,Nt=Zs,pt=ze}if(zt.done)return o(z,pt),Ft&&Kr(z,_t),dt;if(pt===null){for(;!zt.done;_t++,zt=G.next())zt=et(z,zt.value,J),zt!==null&&(L=g(zt,L,_t),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt);return Ft&&Kr(z,_t),dt}for(pt=u(pt);!zt.done;_t++,zt=G.next())zt=Q(pt,z,_t,zt.value,J),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),L=g(zt,L,_t),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt);return i&&pt.forEach(function(D2){return r(z,D2)}),Ft&&Kr(z,_t),dt}function Wt(z,L,G,J){if(typeof G=="object"&&G!==null&&G.type===V&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var dt=G.key;L!==null;){if(L.key===dt){if(dt=G.type,dt===V){if(L.tag===7){o(z,L.sibling),J=f(L,G.props.children),J.return=z,z=J;break t}}else if(L.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&q0(dt)===L.type){o(z,L.sibling),J=f(L,G.props),$l(J,G),J.return=z,z=J;break t}o(z,L);break}else r(z,L);L=L.sibling}G.type===V?(J=Hr(G.props.children,z.mode,J,G.key),J.return=z,z=J):(J=qc(G.type,G.key,G.props,null,z.mode,J),$l(J,G),J.return=z,z=J)}return E(z);case x:t:{for(dt=G.key;L!==null;){if(L.key===dt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){o(z,L.sibling),J=f(L,G.children||[]),J.return=z,z=J;break t}else{o(z,L);break}else r(z,L);L=L.sibling}J=Dd(G,z.mode,J),J.return=z,z=J}return E(z);case R:return dt=G._init,G=dt(G._payload),Wt(z,L,G,J)}if(ne(G))return Et(z,L,G,J);if(F(G)){if(dt=F(G),typeof dt!="function")throw Error(s(150));return G=dt.call(G),vt(z,L,G,J)}if(typeof G.then=="function")return Wt(z,L,ah(G),J);if(G.$$typeof===Y)return Wt(z,L,Yc(z,G),J);oh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(o(z,L.sibling),J=f(L,G),J.return=z,z=J):(o(z,L),J=Id(G,z.mode,J),J.return=z,z=J),E(z)):o(z,L)}return function(z,L,G,J){try{Yl=0;var dt=Wt(z,L,G,J);return ao=null,dt}catch(pt){if(pt===Ul||pt===Qc)throw pt;var Nt=En(29,pt,null,z.mode);return Nt.lanes=J,Nt.return=z,Nt}finally{}}}var oo=H0(!0),G0=H0(!1),Un=st(null),Ei=null;function Ls(i){var r=i.alternate;at(Pe,Pe.current&1),at(Un,i),Ei===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(Ei=i)}function K0(i){if(i.tag===22){if(at(Pe,Pe.current),at(Un,i),Ei===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ei=i)}}else Us()}function Us(){at(Pe,Pe.current),at(Un,Un.current)}function ss(i){ut(Un),Ei===i&&(Ei=null),ut(Pe)}var Pe=st(0);function lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function um(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var cm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=wn(),f=Ps(u);f.payload=r,o!=null&&(f.callback=o),r=Os(i,f,u),r!==null&&(Rn(r,i,u),Bl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=wn(),f=Ps(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Os(i,f,u),r!==null&&(Rn(r,i,u),Bl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=wn(),u=Ps(o);u.tag=2,r!=null&&(u.callback=r),r=Os(i,u,o),r!==null&&(Rn(r,i,o),Bl(r,i,o))}};function Y0(i,r,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Dl(o,u)||!Dl(f,g):!0}function $0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&cm.enqueueReplaceState(r,r.state,null)}function Jr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var uh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Q0(i){uh(i)}function X0(i){console.error(i)}function W0(i){uh(i)}function ch(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Z0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hm(i,r,o){return o=Ps(o),o.tag=3,o.payload={element:null},o.callback=function(){ch(i,r)},o}function J0(i){return i=Ps(i),i.tag=3,i}function t_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){Z0(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Z0(r,o,u),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function Dx(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ol(r,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 13:return Ei===null?Om():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Bd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Lm(i,u,f)),!1;case 22:return o.flags|=65536,u===Bd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Lm(i,u,f)),!1}throw Error(s(435,o.tag))}return Lm(i,u,f),Om(),!1}if(Ft)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Md&&(i=Error(s(422),{cause:u}),Pl(Pn(i,o)))):(u!==Md&&(r=Error(s(423),{cause:u}),Pl(Pn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Pn(u,o),f=hm(i.stateNode,u,f),qd(i,f),de!==4&&(de=2)),!1;var g=Error(s(520),{cause:u});if(g=Pn(g,o),eu===null?eu=[g]:eu.push(g),de!==4&&(de=2),r===null)return!0;u=Pn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=hm(o.stateNode,u,i),qd(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hs===null||!Hs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=J0(f),t_(f,i,o,u),qd(o,f),!1}o=o.return}while(o!==null);return!1}var e_=Error(s(461)),je=!1;function Ge(i,r,o,u){r.child=i===null?G0(r,null,o,u):oo(r,i.child,o,u)}function n_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return Xr(r),u=$d(i,r,o,E,g,f),A=Qd(),i!==null&&!je?(Xd(i,r,f),rs(i,r,f)):(Ft&&A&&Nd(r),r.flags|=1,Ge(i,r,u,f),r.child)}function i_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Cd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,s_(i,r,g,u,f)):(i=qc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!_m(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(E,u)&&i.ref===r.ref)return rs(i,r,f)}return r.flags|=1,i=Zi(g,u),i.ref=r.ref,i.return=r,r.child=i}function s_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Dl(g,u)&&i.ref===r.ref)if(je=!1,r.pendingProps=u=g,_m(i,f))(i.flags&131072)!==0&&(je=!0);else return r.lanes=i.lanes,rs(i,r,f)}return fm(i,r,o,u,f)}function r_(i,r,o){var u=r.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return a_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&$c(r,g!==null?g.cachePool:null),g!==null?s0(r,g):Gd(),K0(r);else return r.lanes=r.childLanes=536870912,a_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?($c(r,g.cachePool),s0(r,g),Us(),r.memoizedState=null):(i!==null&&$c(r,null),Gd(),Us());return Ge(i,r,f,o),r.child}function a_(i,r,o,u){var f=jd();return f=f===null?null:{parent:Me._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&$c(r,null),Gd(),K0(r),i!==null&&Ol(i,r,u,!0),null}function hh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function fm(i,r,o,u,f){return Xr(r),o=$d(i,r,o,u,void 0,f),u=Qd(),i!==null&&!je?(Xd(i,r,f),rs(i,r,f)):(Ft&&u&&Nd(r),r.flags|=1,Ge(i,r,o,f),r.child)}function o_(i,r,o,u,f,g){return Xr(r),r.updateQueue=null,o=a0(r,u,o,f),r0(i),u=Qd(),i!==null&&!je?(Xd(i,r,g),rs(i,r,g)):(Ft&&u&&Nd(r),r.flags|=1,Ge(i,r,o,g),r.child)}function l_(i,r,o,u,f){if(Xr(r),r.stateNode===null){var g=Wa,E=o.contextType;typeof E=="object"&&E!==null&&(g=Je(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=cm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},zd(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?Je(E):Wa,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(um(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&cm.enqueueReplaceState(g,g.state,null),Fl(r,u,g,f),zl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,I=Jr(o,A);g.props=I;var K=g.context,Z=o.contextType;E=Wa,typeof Z=="object"&&Z!==null&&(E=Je(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==E)&&$0(r,g,u,E),Ms=!1;var $=r.memoizedState;g.state=$,Fl(r,u,g,f),zl(),K=r.memoizedState,A||$!==K||Ms?(typeof et=="function"&&(um(r,o,et,u),K=r.memoizedState),(I=Ms||Y0(r,o,I,u,$,K,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Fd(i,r),E=r.memoizedProps,Z=Jr(o,E),g.props=Z,et=r.pendingProps,$=g.context,K=o.contextType,I=Wa,typeof K=="object"&&K!==null&&(I=Je(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||$!==I)&&$0(r,g,u,I),Ms=!1,$=r.memoizedState,g.state=$,Fl(r,u,g,f),zl();var Q=r.memoizedState;E!==et||$!==Q||Ms||i!==null&&i.dependencies!==null&&Kc(i.dependencies)?(typeof A=="function"&&(um(r,o,A,u),Q=r.memoizedState),(Z=Ms||Y0(r,o,Z,u,$,Q,I)||i!==null&&i.dependencies!==null&&Kc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,I)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,hh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=oo(r,i.child,null,f),r.child=oo(r,null,o,f)):Ge(i,r,o,f),r.memoizedState=g.state,i=r.child):i=rs(i,r,f),i}function u_(i,r,o,u){return Ml(),r.flags|=256,Ge(i,r,o,u),r.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(i){return{baseLanes:i,cachePool:Xv()}}function pm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=jn),i}function c_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Pe.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?Ls(r):Us(),Ft){var A=fe,I;if(I=A){t:{for(I=A,A=Ti;I.nodeType!==8;){if(!A){A=null;break t}if(I=Wn(I.nextSibling),I===null){A=null;break t}}A=I}A!==null?(r.memoizedState={dehydrated:A,treeContext:Gr!==null?{id:Ji,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},I=En(18,null,null,0),I.stateNode=A,I.return=r,r.child=I,cn=r,fe=null,I=!0):I=!1}I||$r(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zm(A)?r.lanes=32:r.lanes=536870912,null;ss(r)}return A=u.children,u=u.fallback,f?(Us(),f=r.mode,A=fh({mode:"hidden",children:A},f),u=Hr(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,f=r.child,f.memoizedState=mm(o),f.childLanes=pm(i,E,o),r.memoizedState=dm,u):(Ls(r),gm(r,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(g)r.flags&256?(Ls(r),r.flags&=-257,r=ym(i,r,o)):r.memoizedState!==null?(Us(),r.child=i.child,r.flags|=128,r=null):(Us(),f=u.fallback,A=r.mode,u=fh({mode:"visible",children:u.children},A),f=Hr(f,A,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,oo(r,i.child,null,o),u=r.child,u.memoizedState=mm(o),u.childLanes=pm(i,E,o),r.memoizedState=dm,r=f);else if(Ls(r),Zm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,Pl({value:u,source:null,stack:null}),r=ym(i,r,o)}else if(je||Ol(i,r,o,!1),E=(o&i.childLanes)!==0,je||E){if(E=te,E!==null&&(u=o&-o,u=(u&42)!==0?1:ws(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Xa(i,u),Rn(E,i,u),e_;A.data==="$?"||Om(),r=ym(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,fe=Wn(A.nextSibling),cn=r,Ft=!0,Yr=null,Ti=!1,i!==null&&(kn[Ln++]=Ji,kn[Ln++]=ts,kn[Ln++]=Gr,Ji=i.id,ts=i.overflow,Gr=r),r=gm(r,u.children),r.flags|=4096);return r}return f?(Us(),f=u.fallback,A=r.mode,I=i.child,K=I.sibling,u=Zi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,K!==null?f=Zi(K,f):(f=Hr(f,A,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,A=i.child.memoizedState,A===null?A=mm(o):(I=A.cachePool,I!==null?(K=Me._currentValue,I=I.parent!==K?{parent:K,pool:K}:I):I=Xv(),A={baseLanes:A.baseLanes|o,cachePool:I}),f.memoizedState=A,f.childLanes=pm(i,E,o),r.memoizedState=dm,u):(Ls(r),o=i.child,i=o.sibling,o=Zi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function gm(i,r){return r=fh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function fh(i,r){return i=En(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ym(i,r,o){return oo(r,i.child,null,o),i=gm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function h_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Od(i.return,r,o)}function vm(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function f_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Ge(i,r,u.children,o),u=Pe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&h_(i,o,r);else if(i.tag===19)h_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(at(Pe,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&lh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),vm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&lh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}vm(r,!0,o,null,g);break;case"together":vm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ol(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Zi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Zi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function _m(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Kc(i)))}function Nx(i,r,o){switch(r.tag){case 3:Jt(r,r.stateNode.containerInfo),Vs(r,Me,i.memoizedState.cache),Ml();break;case 27:case 5:Ss(r);break;case 4:Jt(r,r.stateNode.containerInfo);break;case 10:Vs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ls(r),r.flags|=128,null):(o&r.child.childLanes)!==0?c_(i,r,o):(Ls(r),i=rs(i,r,o),i!==null?i.sibling:null);Ls(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ol(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return f_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(Pe,Pe.current),u)break;return null;case 22:case 23:return r.lanes=0,r_(i,r,o);case 24:Vs(r,Me,i.memoizedState.cache)}return rs(i,r,o)}function d_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)je=!0;else{if(!_m(i,o)&&(r.flags&128)===0)return je=!1,Nx(i,r,o);je=(i.flags&131072)!==0}else je=!1,Ft&&(r.flags&1048576)!==0&&qv(r,Gc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Cd(u)?(i=Jr(u,i),r.tag=1,r=l_(null,r,u,i,o)):(r.tag=0,r=fm(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===lt){r.tag=11,r=n_(null,r,u,i,o);break t}else if(f===P){r.tag=14,r=i_(null,r,u,i,o);break t}}throw r=Ee(u)||u,Error(s(306,r,""))}}return r;case 0:return fm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Jr(u,r.pendingProps),l_(i,r,u,f,o);case 3:t:{if(Jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,Fd(i,r),Fl(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Vs(r,Me,u),u!==g.cache&&kd(r,[Me],o,!0),zl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=u_(i,r,u,o);break t}else if(u!==f){f=Pn(Error(s(424)),r),Pl(f),r=u_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Wn(i.firstChild),cn=r,Ft=!0,Yr=null,Ti=!0,o=G0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ml(),u===f){r=rs(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return hh(i,r),i===null?(o=yT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=Rh(St.current).createElement(o),u[De]=r,u[be]=i,Ye(u,o,i),pe(u),r.stateNode=u):r.memoizedState=yT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ss(r),i===null&&Ft&&(u=r.stateNode=mT(r.type,r.pendingProps,St.current),cn=r,Ti=!0,f=fe,Ys(r.type)?(Jm=f,fe=Wn(u.firstChild)):fe=f),Ge(i,r,r.pendingProps.children,o),hh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=fe)&&(u=r2(u,r.type,r.pendingProps,Ti),u!==null?(r.stateNode=u,cn=r,fe=Wn(u.firstChild),Ti=!1,f=!0):f=!1),f||$r(r)),Ss(r),f=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Qm(f,g)?u=null:E!==null&&Qm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=$d(i,r,Ax,null,null,o),cu._currentValue=f),hh(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=fe)&&(o=a2(o,r.pendingProps,Ti),o!==null?(r.stateNode=o,cn=r,fe=null,i=!0):i=!1),i||$r(r)),null;case 13:return c_(i,r,o);case 4:return Jt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=oo(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return n_(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Vs(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Xr(r),f=Je(f),u=u(f),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return i_(i,r,r.type,r.pendingProps,o);case 15:return s_(i,r,r.type,r.pendingProps,o);case 19:return f_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=fh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Zi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return r_(i,r,o);case 24:return Xr(r),u=Je(Me),i===null?(f=jd(),f===null&&(f=te,g=Ld(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},zd(r),Vs(r,Me,f)):((i.lanes&o)!==0&&(Fd(i,r),Fl(r,null,null,o),zl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Vs(r,Me,u)):(u=g.cache,Vs(r,Me,u),u!==f.cache&&kd(r,[Me],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function as(i){i.flags|=4}function m_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bT(r)){if(r=Un.current,r!==null&&((jt&4194048)===jt?Ei!==null:(jt&62914560)!==jt&&(jt&536870912)===0||r!==Ei))throw jl=Bd,Wv;i.flags|=8192}}function dh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?fl():536870912,i.lanes|=r,ho|=r)}function Ql(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function Vx(i,r,o){var u=r.pendingProps;switch(Vd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ns(Me),li(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Vl(r)?as(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kv())),oe(r),null;case 26:return o=r.memoizedState,i===null?(as(r),o!==null?(oe(r),m_(r,o)):(oe(r),r.flags&=-16777217)):o?o!==i.memoizedState?(as(r),oe(r),m_(r,o)):(oe(r),r.flags&=-16777217):(i.memoizedProps!==u&&as(r),oe(r),r.flags&=-16777217),null;case 27:ji(r),o=St.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=yt.current,Vl(r)?Hv(r):(i=mT(f,u,o),r.stateNode=i,as(r))}return oe(r),null;case 5:if(ji(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(i=yt.current,Vl(r))Hv(r);else{switch(f=Rh(St.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[De]=r,i[be]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&as(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&as(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,Vl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[De]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||oT(i.nodeValue,o)),i||$r(r)}else i=Rh(i).createTextNode(u),i[De]=r,r.stateNode=i}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Vl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[De]=r}else Ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Kv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ss(r),r):(ss(r),null)}if(ss(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),dh(r,r.updateQueue),oe(r),null;case 4:return li(),i===null&&Hm(r.stateNode.containerInfo),oe(r),null;case 10:return ns(r.type),oe(r),null;case 19:if(ut(Pe),f=r.memoizedState,f===null)return oe(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Ql(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=lh(i),g!==null){for(r.flags|=128,Ql(f,!1),i=g.updateQueue,r.updateQueue=i,dh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Fv(o,i),o=o.sibling;return at(Pe,Pe.current&1|2),r.child}i=i.sibling}f.tail!==null&&Cn()>gh&&(r.flags|=128,u=!0,Ql(f,!1),r.lanes=4194304)}else{if(!u)if(i=lh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,dh(r,i),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ft)return oe(r),null}else 2*Cn()-f.renderingStartTime>gh&&o!==536870912&&(r.flags|=128,u=!0,Ql(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,i=Pe.current,at(Pe,u?i&1|2:i&1),r):(oe(r),null);case 22:case 23:return ss(r),Kd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&dh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ut(Wr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ns(Me),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Mx(i,r){switch(Vd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ns(Me),li(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ji(r),null;case 13:if(ss(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ml()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ut(Pe),null;case 4:return li(),null;case 10:return ns(r.type),null;case 22:case 23:return ss(r),Kd(),i!==null&&ut(Wr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ns(Me),null;case 25:return null;default:return null}}function p_(i,r){switch(Vd(r),r.tag){case 3:ns(Me),li();break;case 26:case 27:case 5:ji(r);break;case 4:li();break;case 13:ss(r);break;case 19:ut(Pe);break;case 10:ns(r.type);break;case 22:case 23:ss(r),Kd(),i!==null&&ut(Wr);break;case 24:ns(Me)}}function Xl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){Zt(r,r.return,A)}}function js(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=r;var I=o,K=A;try{K()}catch(Z){Zt(f,I,Z)}}}u=u.next}while(u!==g)}}catch(Z){Zt(r,r.return,Z)}}function g_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{i0(r,o)}catch(u){Zt(i,i.return,u)}}}function y_(i,r,o){o.props=Jr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,r,u)}}function Wl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Zt(i,r,f)}}function bi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function v_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function Tm(i,r,o){try{var u=i.stateNode;t2(u,i.type,o,r),u[be]=r}catch(f){Zt(i,i.return,f)}}function __(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function Em(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||__(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=wh));else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(bm(i,r,o),i=i.sibling;i!==null;)bm(i,r,o),i=i.sibling}function mh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ys(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(mh(i,r,o),i=i.sibling;i!==null;)mh(i,r,o),i=i.sibling}function T_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,u,o),r[De]=i,r[be]=o}catch(g){Zt(i,i.return,g)}}var os=!1,ye=!1,Am=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Px(i,r){if(i=i.containerInfo,Ym=Vh,i=Vv(i),Ed(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,A=-1,I=-1,K=0,Z=0,et=i,$=null;e:for(;;){for(var Q;et!==o||f!==0&&et.nodeType!==3||(A=E+f),et!==g||u!==0&&et.nodeType!==3||(I=E+u),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)$=et,et=Q;for(;;){if(et===i)break e;if($===o&&++K===f&&(A=E),$===g&&++Z===u&&(I=E),(Q=et.nextSibling)!==null)break;et=$,$=et.parentNode}et=Q}o=A===-1||I===-1?null:{start:A,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for($m={focusedElem:i,selectionRange:o},Vh=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Et=Jr(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Et,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Wm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function b_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(i,o),u&4&&Xl(5,o);break;case 1:if(Bs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Zt(o,o.return,E)}else{var f=Jr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(o,o.return,E)}}u&64&&g_(o),u&512&&Wl(o,o.return);break;case 3:if(Bs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{i0(i,r)}catch(E){Zt(o,o.return,E)}}break;case 27:r===null&&u&4&&T_(o);case 26:case 5:Bs(i,o),r===null&&u&4&&v_(o),u&512&&Wl(o,o.return);break;case 12:Bs(i,o);break;case 13:Bs(i,o),u&4&&w_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=qx.bind(null,o),o2(i,o))));break;case 22:if(u=o.memoizedState!==null||os,!u){r=r!==null&&r.memoizedState!==null||ye,f=os;var g=ye;os=u,(ye=r)&&!g?zs(i,o,(o.subtreeFlags&8772)!==0):Bs(i,o),os=f,ye=g}break;case 30:break;default:Bs(i,o)}}function A_(i){var r=i.alternate;r!==null&&(i.alternate=null,A_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Cs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,mn=!1;function ls(i,r,o){for(o=o.child;o!==null;)S_(i,r,o),o=o.sibling}function S_(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||bi(o,r),ls(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||bi(o,r);var u=re,f=mn;Ys(o.type)&&(re=o.stateNode,mn=!1),ls(i,r,o),au(o.stateNode),re=u,mn=f;break;case 5:ye||bi(o,r);case 6:if(u=re,f=mn,re=null,ls(i,r,o),re=u,mn=f,re!==null)if(mn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(g){Zt(o,r,g)}else try{re.removeChild(o.stateNode)}catch(g){Zt(o,r,g)}break;case 18:re!==null&&(mn?(i=re,fT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),mu(i)):fT(re,o.stateNode));break;case 4:u=re,f=mn,re=o.stateNode.containerInfo,mn=!0,ls(i,r,o),re=u,mn=f;break;case 0:case 11:case 14:case 15:ye||js(2,o,r),ye||js(4,o,r),ls(i,r,o);break;case 1:ye||(bi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&y_(o,r,u)),ls(i,r,o);break;case 21:ls(i,r,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,ls(i,r,o),ye=u;break;default:ls(i,r,o)}}function w_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(o){Zt(r,r.return,o)}}function Ox(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new E_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new E_),r;default:throw Error(s(435,i.tag))}}function Sm(i,r){var o=Ox(i);r.forEach(function(u){var f=Hx.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=r,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(Ys(A.type)){re=A.stateNode,mn=!1;break t}break;case 5:re=A.stateNode,mn=!1;break t;case 3:case 4:re=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(re===null)throw Error(s(160));S_(g,E,f),re=null,mn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,i),r=r.sibling}var Xn=null;function R_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),An(i),u&4&&(js(3,i,i.return),Xl(3,i),js(5,i,i.return));break;case 1:bn(r,i),An(i),u&512&&(ye||o===null||bi(o,o.return)),u&64&&os&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Xn;if(bn(r,i),An(i),u&512&&(ye||o===null||bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Cr]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ye(g,u,o),g[De]=i,pe(g),u=g;break t;case"link":var E=TT("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break e}}g=f.createElement(u),Ye(g,u,o),f.head.appendChild(g);break;case"meta":if(E=TT("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break e}}g=f.createElement(u),Ye(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[De]=i,pe(g),u=g}i.stateNode=u}else ET(f,i.type,i.stateNode);else i.stateNode=_T(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ET(f,i.type,i.stateNode):_T(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Tm(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(r,i),An(i),u&512&&(ye||o===null||bi(o,o.return)),o!==null&&u&4&&Tm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(r,i),An(i),u&512&&(ye||o===null||bi(o,o.return)),i.flags&32){f=i.stateNode;try{Dn(f,"")}catch(Q){Zt(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Tm(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Am=!0);break;case 6:if(bn(r,i),An(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){Zt(i,i.return,Q)}}break;case 3:if(Ih=null,f=Xn,Xn=xh(r.containerInfo),bn(r,i),Xn=f,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{mu(r.containerInfo)}catch(Q){Zt(i,i.return,Q)}Am&&(Am=!1,x_(i));break;case 4:u=Xn,Xn=xh(i.stateNode.containerInfo),bn(r,i),An(i),Xn=u;break;case 12:bn(r,i),An(i);break;case 13:bn(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dm=Cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Sm(i,u)));break;case 22:f=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,K=os,Z=ye;if(os=K||f,ye=Z||I,bn(r,i),ye=Z,os=K,An(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||I||os||ye||ta(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(g=I.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=I.stateNode;var et=I.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Zt(I,I.return,Q)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(Q){Zt(I,I.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Sm(i,o))));break;case 19:bn(r,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Sm(i,u)));break;case 30:break;case 21:break;default:bn(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(__(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Em(i);mh(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Dn(E,""),o.flags&=-33);var A=Em(i);mh(i,A,E);break;case 3:case 4:var I=o.stateNode.containerInfo,K=Em(i);bm(i,K,I);break;default:throw Error(s(161))}}catch(Z){Zt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function x_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Bs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b_(i,r.alternate,r),r=r.sibling}function ta(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:js(4,r,r.return),ta(r);break;case 1:bi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&y_(r,r.return,o),ta(r);break;case 27:au(r.stateNode);case 26:case 5:bi(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}i=i.sibling}}function zs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:zs(f,g,o),Xl(4,g);break;case 1:if(zs(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Zt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var A=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)n0(I[f],A)}catch(K){Zt(u,u.return,K)}}o&&E&64&&g_(g),Wl(g,g.return);break;case 27:T_(g);case 26:case 5:zs(f,g,o),o&&u===null&&E&4&&v_(g),Wl(g,g.return);break;case 12:zs(f,g,o);break;case 13:zs(f,g,o),o&&E&4&&w_(f,g);break;case 22:g.memoizedState===null&&zs(f,g,o),Wl(g,g.return);break;case 30:break;default:zs(f,g,o)}r=r.sibling}}function wm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function Rm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i))}function Ai(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(i,r,o,u),r=r.sibling}function C_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(i,r,o,u),f&2048&&Xl(9,r);break;case 1:Ai(i,r,o,u);break;case 3:Ai(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){Ai(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Zt(r,r.return,I)}}else Ai(i,r,o,u);break;case 13:Ai(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?Ai(i,r,o,u):Zl(i,r):g._visibility&2?Ai(i,r,o,u):(g._visibility|=2,lo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&wm(E,r);break;case 24:Ai(i,r,o,u),f&2048&&Rm(r.alternate,r);break;default:Ai(i,r,o,u)}}function lo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,E=r,A=o,I=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:lo(g,E,A,I,f),Xl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?lo(g,E,A,I,f):Zl(g,E):(Z._visibility|=2,lo(g,E,A,I,f)),f&&K&2048&&wm(E.alternate,E);break;case 24:lo(g,E,A,I,f),f&&K&2048&&Rm(E.alternate,E);break;default:lo(g,E,A,I,f)}r=r.sibling}}function Zl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Zl(o,u),f&2048&&wm(u.alternate,u);break;case 24:Zl(o,u),f&2048&&Rm(u.alternate,u);break;default:Zl(o,u)}r=r.sibling}}var Jl=8192;function uo(i){if(i.subtreeFlags&Jl)for(i=i.child;i!==null;)I_(i),i=i.sibling}function I_(i){switch(i.tag){case 26:uo(i),i.flags&Jl&&i.memoizedState!==null&&T2(Xn,i.memoizedState,i.memoizedProps);break;case 5:uo(i);break;case 3:case 4:var r=Xn;Xn=xh(i.stateNode.containerInfo),uo(i),Xn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Jl,Jl=16777216,uo(i),Jl=r):uo(i));break;default:uo(i)}}function D_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function tu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,V_(u,i)}D_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(i),i=i.sibling}function N_(i){switch(i.tag){case 0:case 11:case 15:tu(i),i.flags&2048&&js(9,i,i.return);break;case 3:tu(i);break;case 12:tu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ph(i)):tu(i);break;default:tu(i)}}function ph(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,V_(u,i)}D_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:js(8,r,r.return),ph(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ph(r));break;default:ph(r)}i=i.sibling}}function V_(i,r){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:js(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var f=u.sibling,g=u.return;if(A_(u),u===o){Be=null;break t}if(f!==null){f.return=g,Be=f;break t}Be=g}}}var kx={getCacheForType:function(i){var r=Je(Me),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},Lx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Vt=null,jt=0,Yt=0,Sn=null,Fs=!1,co=!1,xm=!1,us=0,de=0,qs=0,ea=0,Cm=0,jn=0,ho=0,eu=null,pn=null,Im=!1,Dm=0,gh=1/0,yh=null,Hs=null,Ke=0,Gs=null,fo=null,mo=0,Nm=0,Vm=null,M_=null,nu=0,Mm=null;function wn(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(W.T!==null){var i=to;return i!==0?i:Bm()}return Rs()}function P_(){jn===0&&(jn=(jt&536870912)===0||Ft?hl():536870912);var i=Un.current;return i!==null&&(i.flags|=32),jn}function Rn(i,r,o){(i===te&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(po(i,0),Ks(i,jt,jn,!1)),zi(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(ea|=o),de===4&&Ks(i,jt,jn,!1)),Si(i))}function O_(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||xr(i,r),f=u?Bx(i,r):km(i,r,!0),g=u;do{if(f===0){co&&!u&&Ks(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!Ux(o)){f=km(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var A=i;f=eu;var I=A.current.memoizedState.isDehydrated;if(I&&(po(A,E).flags|=256),E=km(A,E,!1),E!==2){if(xm&&!I){A.errorRecoveryDisabledLanes|=g,ea|=g,f=4;break t}g=pn,pn=f,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){po(i,0),Ks(i,r,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ks(u,r,jn,!Fs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Dm+300-Cn(),10<f)){if(Ks(u,r,jn,!Fs),Na(u,0,!0)!==0)break t;u.timeoutHandle=cT(k_.bind(null,u,o,pn,yh,Im,r,jn,ea,ho,Fs,g,2,-0,0),f);break t}k_(u,o,pn,yh,Im,r,jn,ea,ho,Fs,g,0,-0,0)}}break}while(!0);Si(i)}function k_(i,r,o,u,f,g,E,A,I,K,Z,et,$,Q){if(i.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:_2},I_(r),et=E2(),et!==null)){i.cancelPendingCommit=et(q_.bind(null,i,r,g,o,u,f,E,A,I,Z,1,$,Q)),Ks(i,g,E,!K);return}q_(i,r,g,o,u,f,E,A,I)}function Ux(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Tn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ks(i,r,o,u){r&=~Cm,r&=~ea,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-Ze(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&ui(i,o,r)}function vh(){return(Kt&6)===0?(iu(0),!1):!0}function Pm(){if(Vt!==null){if(Yt===0)var i=Vt.return;else i=Vt,es=Qr=null,Wd(i),ao=null,Yl=0,i=Vt;for(;i!==null;)p_(i.alternate,i),i=i.return;Vt=null}}function po(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,n2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Pm(),te=i,Vt=o=Zi(i.current,null),jt=r,Yt=0,Sn=null,Fs=!1,co=xr(i,r),xm=!1,ho=jn=Cm=ea=qs=de=0,pn=eu=null,Im=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ze(u),g=1<<f;r|=i[f],u&=~g}return us=r,Bc(),o}function L_(i,r){It=null,W.H=rh,r===Ul||r===Qc?(r=t0(),Yt=3):r===Wv?(r=t0(),Yt=4):Yt=r===e_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Vt===null&&(de=1,ch(i,Pn(r,i.current)))}function U_(){var i=W.H;return W.H=rh,i===null?rh:i}function j_(){var i=W.A;return W.A=kx,i}function Om(){de=4,Fs||(jt&4194048)!==jt&&Un.current!==null||(co=!0),(qs&134217727)===0&&(ea&134217727)===0||te===null||Ks(te,jt,jn,!1)}function km(i,r,o){var u=Kt;Kt|=2;var f=U_(),g=j_();(te!==i||jt!==r)&&(yh=null,po(i,r)),r=!1;var E=de;t:do try{if(Yt!==0&&Vt!==null){var A=Vt,I=Sn;switch(Yt){case 8:Pm(),E=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var K=Yt;if(Yt=0,Sn=null,go(i,A,I,K),o&&co){E=0;break t}break;default:K=Yt,Yt=0,Sn=null,go(i,A,I,K)}}jx(),E=de;break}catch(Z){L_(i,Z)}while(!0);return r&&i.shellSuspendCounter++,es=Qr=null,Kt=u,W.H=f,W.A=g,Vt===null&&(te=null,jt=0,Bc()),E}function jx(){for(;Vt!==null;)B_(Vt)}function Bx(i,r){var o=Kt;Kt|=2;var u=U_(),f=j_();te!==i||jt!==r?(yh=null,gh=Cn()+500,po(i,r)):co=xr(i,r);t:do try{if(Yt!==0&&Vt!==null){r=Vt;var g=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,go(i,r,g,1);break;case 2:case 9:if(Zv(g)){Yt=0,Sn=null,z_(r);break}r=function(){Yt!==2&&Yt!==9||te!==i||(Yt=7),Si(i)},g.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Zv(g)?(Yt=0,Sn=null,z_(r)):(Yt=0,Sn=null,go(i,r,g,7));break;case 5:var E=null;switch(Vt.tag){case 26:E=Vt.memoizedState;case 5:case 27:var A=Vt;if(!E||bT(E)){Yt=0,Sn=null;var I=A.sibling;if(I!==null)Vt=I;else{var K=A.return;K!==null?(Vt=K,_h(K)):Vt=null}break e}}Yt=0,Sn=null,go(i,r,g,5);break;case 6:Yt=0,Sn=null,go(i,r,g,6);break;case 8:Pm(),de=6;break t;default:throw Error(s(462))}}zx();break}catch(Z){L_(i,Z)}while(!0);return es=Qr=null,W.H=u,W.A=f,Kt=o,Vt!==null?0:(te=null,jt=0,Bc(),de)}function zx(){for(;Vt!==null&&!ol();)B_(Vt)}function B_(i){var r=d_(i.alternate,i,us);i.memoizedProps=i.pendingProps,r===null?_h(i):Vt=r}function z_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=o_(o,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=o_(o,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:Wd(r);default:p_(o,r),r=Vt=Fv(r,us),r=d_(o,r,us)}i.memoizedProps=i.pendingProps,r===null?_h(i):Vt=r}function go(i,r,o,u){es=Qr=null,Wd(r),ao=null,Yl=0;var f=r.return;try{if(Dx(i,f,r,o,jt)){de=1,ch(i,Pn(o,i.current)),Vt=null;return}}catch(g){if(f!==null)throw Vt=f,g;de=1,ch(i,Pn(o,i.current)),Vt=null;return}r.flags&32768?(Ft||u===1?i=!0:co||(jt&536870912)!==0?i=!1:(Fs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),F_(r,i)):_h(r)}function _h(i){var r=i;do{if((r.flags&32768)!==0){F_(r,Fs);return}i=r.return;var o=Vx(r.alternate,r,us);if(o!==null){Vt=o;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=i}while(r!==null);de===0&&(de=5)}function F_(i,r){do{var o=Mx(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);de=6,Vt=null}function q_(i,r,o,u,f,g,E,A,I){i.cancelPendingCommit=null;do Th();while(Ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Rd,dl(i,o,g,E,A,I),i===te&&(Vt=te=null,jt=0),fo=r,Gs=i,mo=o,Nm=g,Vm=f,M_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Gx(Ar,function(){return $_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=rt.p,rt.p=2,E=Kt,Kt|=4;try{Px(i,r,o)}finally{Kt=E,rt.p=f,W.T=u}}Ke=1,H_(),G_(),K_()}}function H_(){if(Ke===1){Ke=0;var i=Gs,r=fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Kt;Kt|=4;try{R_(r,i);var g=$m,E=Vv(i.containerInfo),A=g.focusedElem,I=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&Nv(A.ownerDocument.documentElement,A)){if(I!==null&&Ed(A)){var K=I.start,Z=I.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var et=A.ownerDocument||document,$=et&&et.defaultView||window;if($.getSelection){var Q=$.getSelection(),Et=A.textContent.length,vt=Math.min(I.start,Et),Wt=I.end===void 0?vt:Math.min(I.end,Et);!Q.extend&&vt>Wt&&(E=Wt,Wt=vt,vt=E);var z=Dv(A,vt),L=Dv(A,Wt);if(z&&L&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var G=et.createRange();G.setStart(z.node,z.offset),Q.removeAllRanges(),vt>Wt?(Q.addRange(G),Q.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),Q.addRange(G))}}}}for(et=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var J=et[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Vh=!!Ym,$m=Ym=null}finally{Kt=f,rt.p=u,W.T=o}}i.current=r,Ke=2}}function G_(){if(Ke===2){Ke=0;var i=Gs,r=fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Kt;Kt|=4;try{b_(i,r.alternate,r)}finally{Kt=f,rt.p=u,W.T=o}}Ke=3}}function K_(){if(Ke===4||Ke===3){Ke=0,pc();var i=Gs,r=fo,o=mo,u=M_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,fo=Gs=null,Y_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Hs=null),Va(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=rt.p,rt.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];g(A.value,{componentStack:A.stack})}}finally{W.T=r,rt.p=f}}(mo&3)!==0&&Th(),Si(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Mm?nu++:(nu=0,Mm=i):nu=0,iu(0)}}function Y_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,kl(r)))}function Th(i){return H_(),G_(),K_(),$_()}function $_(){if(Ke!==5)return!1;var i=Gs,r=Nm;Nm=0;var o=Va(mo),u=W.T,f=rt.p;try{rt.p=32>o?32:o,W.T=null,o=Vm,Vm=null;var g=Gs,E=mo;if(Ke=0,fo=Gs=null,mo=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,N_(g.current),C_(g,g.current,E,o),Kt=A,iu(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{rt.p=f,W.T=u,Y_(i,r)}}function Q_(i,r,o){r=Pn(o,r),r=hm(i.stateNode,r,2),i=Os(i,r,2),i!==null&&(zi(i,2),Si(i))}function Zt(i,r,o){if(i.tag===3)Q_(i,i,o);else for(;r!==null;){if(r.tag===3){Q_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hs===null||!Hs.has(u))){i=Pn(o,i),o=J0(2),u=Os(r,o,2),u!==null&&(t_(o,u,r,i),zi(u,2),Si(u));break}}r=r.return}}function Lm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Lx;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(xm=!0,f.add(o),i=Fx.bind(null,i,r,o),r.then(i,i))}function Fx(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(jt&o)===o&&(de===4||de===3&&(jt&62914560)===jt&&300>Cn()-Dm?(Kt&2)===0&&po(i,0):Cm|=o,ho===jt&&(ho=0)),Si(i)}function X_(i,r){r===0&&(r=fl()),i=Xa(i,r),i!==null&&(zi(i,r),Si(i))}function qx(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),X_(i,o)}function Hx(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),X_(i,o)}function Gx(i,r){return Er(i,r)}var Eh=null,yo=null,Um=!1,bh=!1,jm=!1,na=0;function Si(i){i!==yo&&i.next===null&&(yo===null?Eh=yo=i:yo=yo.next=i),bh=!0,Um||(Um=!0,Yx())}function iu(i,r){if(!jm&&bh){jm=!0;do for(var o=!1,u=Eh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Ze(42|i)+1)-1,g&=f&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,tT(u,g))}else g=jt,g=Na(u,u===te?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||xr(u,g)||(o=!0,tT(u,g));u=u.next}while(o);jm=!1}}function Kx(){W_()}function W_(){bh=Um=!1;var i=0;na!==0&&(e2()&&(i=na),na=0);for(var r=Cn(),o=null,u=Eh;u!==null;){var f=u.next,g=Z_(u,r);g===0?(u.next=null,o===null?Eh=f:o.next=f,f===null&&(yo=o)):(o=u,(i!==0||(g&3)!==0)&&(bh=!0)),u=f}iu(i)}function Z_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ze(g),A=1<<E,I=f[E];I===-1?((A&o)===0||(A&u)!==0)&&(f[E]=cl(A,r)):I<=r&&(i.expiredLanes|=A),g&=~A}if(r=te,o=jt,o=Na(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&br(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||xr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&br(u),Va(o)){case 2:case 8:o=Ia;break;case 32:o=Ar;break;case 268435456:o=Da;break;default:o=Ar}return u=J_.bind(null,i),o=Er(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&br(u),i.callbackPriority=2,i.callbackNode=null,2}function J_(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Th()&&i.callbackNode!==o)return null;var u=jt;return u=Na(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(O_(i,u,r),Z_(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?J_.bind(null,i):null)}function tT(i,r){if(Th())return null;O_(i,r,!0)}function Yx(){i2(function(){(Kt&6)!==0?Er(ll,Kx):W_()})}function Bm(){return na===0&&(na=hl()),na}function eT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ua(""+i)}function nT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function $x(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=eT((f[be]||null).action),E=u.submitter;E&&(r=(r=E[be]||null)?eT(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var A=new ja("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(na!==0){var I=E?nT(f,E):new FormData(f);am(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(A.preventDefault(),I=E?nT(f,E):new FormData(f),am(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var zm=0;zm<wd.length;zm++){var Fm=wd[zm],Qx=Fm.toLowerCase(),Xx=Fm[0].toUpperCase()+Fm.slice(1);Qn(Qx,"on"+Xx)}Qn(Ov,"onAnimationEnd"),Qn(kv,"onAnimationIteration"),Qn(Lv,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(dx,"onTransitionRun"),Qn(mx,"onTransitionStart"),Qn(px,"onTransitionCancel"),Qn(Uv,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function iT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var A=u[E],I=A.instance,K=A.currentTarget;if(A=A.listener,I!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=K;try{g(f)}catch(Z){uh(Z)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(A=u[E],I=A.instance,K=A.currentTarget,A=A.listener,I!==g&&f.isPropagationStopped())break t;g=A,f.currentTarget=K;try{g(f)}catch(Z){uh(Z)}f.currentTarget=null,g=I}}}}function Mt(i,r){var o=r[pl];o===void 0&&(o=r[pl]=new Set);var u=i+"__bubble";o.has(u)||(sT(r,i,2,!1),o.add(u))}function qm(i,r,o){var u=0;r&&(u|=4),sT(o,i,u,r)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Hm(i){if(!i[Ah]){i[Ah]=!0,gl.forEach(function(o){o!=="selectionchange"&&(Wx.has(o)||qm(o,!1,i),qm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ah]||(r[Ah]=!0,qm("selectionchange",!1,r))}}function sT(i,r,o,u){switch(CT(r)){case 2:var f=S2;break;case 8:f=w2;break;default:f=sp}o=f.bind(null,r,o,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Gm(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=Fi(A),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue t}A=A.parentNode}}u=u.return}wc(function(){var K=g,Z=Nn(o),et=[];t:{var $=jv.get(i);if($!==void 0){var Q=ja,Et=i;switch(i){case"keypress":if(pi(o)===0)break t;case"keydown":case"keyup":Q=Ga;break;case"focusin":Et="focus",Q=Fa;break;case"focusout":Et="blur",Q=Fa;break;case"beforeblur":case"afterblur":Q=Fa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mc;break;case Ov:case kv:case Lv:Q=qa;break;case Uv:Q=Oc;break;case"scroll":case"scrollend":Q=Rc;break;case"wheel":Q=Ka;break;case"copy":case"cut":case"paste":Q=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Cl;break;case"toggle":case"beforetoggle":Q=Lc}var vt=(r&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?$!==null?$+"Capture":null:$;vt=[];for(var L=K,G;L!==null;){var J=L;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||z===null||(J=Or(L,z),J!=null&&vt.push(ru(L,J,G))),Wt)break;L=L.return}0<vt.length&&($=new Q($,Et,null,o,Z),et.push({event:$,listeners:vt}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==Ki&&(Et=o.relatedTarget||o.fromElement)&&(Fi(Et)||Et[In]))break t;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Et=o.relatedTarget||o.toElement,Q=K,Et=Et?Fi(Et):null,Et!==null&&(Wt=l(Et),vt=Et.tag,Et!==Wt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(Q=null,Et=K),Q!==Et)){if(vt=Mn,J="onMouseLeave",z="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Cl,J="onPointerLeave",z="onPointerEnter",L="pointer"),Wt=Q==null?$:hi(Q),G=Et==null?$:hi(Et),$=new vt(J,L+"leave",Q,o,Z),$.target=Wt,$.relatedTarget=G,J=null,Fi(Z)===K&&(vt=new vt(z,L+"enter",Et,o,Z),vt.target=G,vt.relatedTarget=Wt,J=vt),Wt=J,Q&&Et)e:{for(vt=Q,z=Et,L=0,G=vt;G;G=vo(G))L++;for(G=0,J=z;J;J=vo(J))G++;for(;0<L-G;)vt=vo(vt),L--;for(;0<G-L;)z=vo(z),G--;for(;L--;){if(vt===z||z!==null&&vt===z.alternate)break e;vt=vo(vt),z=vo(z)}vt=null}else vt=null;Q!==null&&rT(et,$,Q,vt,!1),Et!==null&&Wt!==null&&rT(et,Wt,Et,vt,!0)}}t:{if($=K?hi(K):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var dt=Sv;else if(Ve($))if(wv)dt=cx;else{dt=lx;var Nt=ox}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&El(K.elementType)&&(dt=Sv):dt=ux;if(dt&&(dt=dt(i,K))){Wi(et,dt,o,Z);break t}Nt&&Nt(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Ds($,"number",$.value)}switch(Nt=K?hi(K):window,i){case"focusin":(Ve(Nt)||Nt.contentEditable==="true")&&(Ya=Nt,bd=K,Nl=null);break;case"focusout":Nl=bd=Ya=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Mv(et,o,Z);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":Mv(et,o,Z)}var pt;if(vi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?X(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=Al()):(mi=Z,Ns="value"in mi?mi.value:mi.textContent,Lt=!0)),Nt=Sh(K,_t),0<Nt.length&&(_t=new Rl(_t,i,null,o,Z),et.push({event:_t,listeners:Nt}),pt?_t.data=pt:(pt=ot(o),pt!==null&&(_t.data=pt)))),(pt=v?Ne(i,o):Ut(i,o))&&(_t=Sh(K,"onBeforeInput"),0<_t.length&&(Nt=new Rl("onBeforeInput","beforeinput",null,o,Z),et.push({event:Nt,listeners:_t}),Nt.data=pt)),$x(et,i,K,o,Z)}iT(et,r)})}function ru(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Sh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Or(i,o),f!=null&&u.unshift(ru(i,f,g)),f=Or(i,r),f!=null&&u.push(ru(i,f,g))),i.tag===3)return u;i=i.return}return[]}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rT(i,r,o,u,f){for(var g=r._reactName,E=[];o!==null&&o!==u;){var A=o,I=A.alternate,K=A.stateNode;if(A=A.tag,I!==null&&I===u)break;A!==5&&A!==26&&A!==27||K===null||(I=K,f?(K=Or(o,g),K!=null&&E.unshift(ru(o,K,I))):f||(K=Or(o,g),K!=null&&E.push(ru(o,K,I)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var Zx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function aT(i){return(typeof i=="string"?i:""+i).replace(Zx,`
`).replace(Jx,"")}function oT(i,r){return r=aT(r),aT(i)===r}function wh(){}function Xt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Dn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Dn(i,""+u);break;case"className":fi(i,"class",u);break;case"tabIndex":fi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,o,u);break;case"style":Tl(i,u,g);break;case"data":if(r!=="object"){fi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ua(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Xt(i,r,"name",f.name,f,null),Xt(i,r,"formEncType",f.formEncType,f,null),Xt(i,r,"formMethod",f.formMethod,f,null),Xt(i,r,"formTarget",f.formTarget,f,null)):(Xt(i,r,"encType",f.encType,f,null),Xt(i,r,"method",f.method,f,null),Xt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ua(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=wh);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ua(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Is(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Is(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=pd.get(o)||o,Is(i,o,u))}}function Km(i,r,o,u,f,g){switch(o){case"style":Tl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Dn(i,u):(typeof u=="number"||typeof u=="bigint")&&Dn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[be]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Is(i,o,u)}}}function Ye(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,g,E,o,null)}}f&&Xt(i,r,"srcSet",o.srcSet,o,null),u&&Xt(i,r,"src",o.src,o,null);return;case"input":Mt("invalid",i);var A=g=E=f=null,I=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Xt(i,r,u,Z,o,null)}}Vr(i,g,A,I,K,E,f,!1),La(i);return;case"select":Mt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Xt(i,r,f,A,o,null)}r=g,o=E,i.multiple=!!u,r!=null?Gi(i,!!u,r,!1):o!=null&&Gi(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Xt(i,r,E,A,o,null)}Mr(i,u,f,g),La(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xt(i,r,I,u,o,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<su.length;u++)Mt(su[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,K,u,o,null)}return;default:if(El(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Km(i,r,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Xt(i,r,A,u,o,null))}function t2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,A=null,I=null,K=null,Z=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=et;default:u.hasOwnProperty(Q)||Xt(i,r,Q,null,u,et)}}for(var $ in u){var Q=u[$];if(et=o[$],u.hasOwnProperty($)&&(Q!=null||et!=null))switch($){case"type":g=Q;break;case"name":f=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==et&&Xt(i,r,$,Q,u,et)}}_n(i,E,A,I,K,Z,g,f);return;case"select":Q=E=A=$=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Q=I;default:u.hasOwnProperty(g)||Xt(i,r,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":$=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==I&&Xt(i,r,f,g,u,I)}r=A,o=E,u=Q,$!=null?Gi(i,!!o,$,!1):!!u!=!!o&&(r!=null?Gi(i,!!o,r,!0):Gi(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xt(i,r,A,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Xt(i,r,E,f,u,g)}$t(i,$,Q);return;case"option":for(var Et in o)if($=o[Et],o.hasOwnProperty(Et)&&$!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Xt(i,r,Et,null,u,$)}for(I in u)if($=u[I],Q=o[I],u.hasOwnProperty(I)&&$!==Q&&($!=null||Q!=null))switch(I){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xt(i,r,I,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)$=o[vt],o.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&Xt(i,r,vt,null,u,$);for(K in u)if($=u[K],Q=o[K],u.hasOwnProperty(K)&&$!==Q&&($!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Xt(i,r,K,$,u,Q)}return;default:if(El(r)){for(var Wt in o)$=o[Wt],o.hasOwnProperty(Wt)&&$!==void 0&&!u.hasOwnProperty(Wt)&&Km(i,r,Wt,void 0,u,$);for(Z in u)$=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||Km(i,r,Z,$,u,Q);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&Xt(i,r,z,null,u,$);for(et in u)$=u[et],Q=o[et],!u.hasOwnProperty(et)||$===Q||$==null&&Q==null||Xt(i,r,et,$,u,Q)}var Ym=null,$m=null;function Rh(i){return i.nodeType===9?i:i.ownerDocument}function lT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xm=null;function e2(){var i=window.event;return i&&i.type==="popstate"?i===Xm?!1:(Xm=i,!0):(Xm=null,!1)}var cT=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,hT=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof hT<"u"?function(i){return hT.resolve(null).then(i).catch(s2)}:cT;function s2(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function fT(i,r){var o=r,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&au(E.documentElement),o&2&&au(E.body),o&4)for(o=E.head,au(o),E=o.firstChild;E;){var A=E.nextSibling,I=E.nodeName;E[Cr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(f===0){i.removeChild(g),mu(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);mu(r)}function Wm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),Cs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function r2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Cr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function a2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function Zm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function o2(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Jm=null;function dT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function mT(i,r,o){switch(r=Rh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function au(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Cs(i)}var Bn=new Map,pT=new Set;function xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cs=rt.d;rt.d={f:l2,r:u2,D:c2,C:h2,L:f2,m:d2,X:p2,S:m2,M:g2};function l2(){var i=cs.f(),r=vh();return i||r}function u2(i){var r=ci(i);r!==null&&r.tag===5&&r.type==="form"?O0(r):cs.r(i)}var _o=typeof document>"u"?null:document;function gT(i,r,o){var u=_o;if(u&&typeof r=="string"&&r){var f=Ae(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),pT.has(f)||(pT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ye(r,"link",i),pe(r),u.head.appendChild(r)))}}function c2(i){cs.D(i),gT("dns-prefetch",i,null)}function h2(i,r){cs.C(i,r),gT("preconnect",i,r)}function f2(i,r,o){cs.L(i,r,o);var u=_o;if(u&&i&&r){var f='link[rel="preload"][as="'+Ae(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ae(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ae(o.imageSizes)+'"]')):f+='[href="'+Ae(i)+'"]';var g=f;switch(r){case"style":g=To(i);break;case"script":g=Eo(i)}Bn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Bn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(ou(g))||r==="script"&&u.querySelector(lu(g))||(r=u.createElement("link"),Ye(r,"link",i),pe(r),u.head.appendChild(r)))}}function d2(i,r){cs.m(i,r);var o=_o;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ae(u)+'"][href="'+Ae(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(i)}if(!Bn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Bn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(g)))return}u=o.createElement("link"),Ye(u,"link",i),pe(u),o.head.appendChild(u)}}}function m2(i,r,o){cs.S(i,r,o);var u=_o;if(u&&i){var f=on(u).hoistableStyles,g=To(i);r=r||"default";var E=f.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(ou(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Bn.get(g))&&tp(i,o);var I=E=u.createElement("link");pe(I),Ye(I,"link",i),I._p=new Promise(function(K,Z){I.onload=K,I.onerror=Z}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ch(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(g,E)}}}function p2(i,r){cs.X(i,r);var o=_o;if(o&&i){var u=on(o).hoistableScripts,f=Eo(i),g=u.get(f);g||(g=o.querySelector(lu(f)),g||(i=y({src:i,async:!0},r),(r=Bn.get(f))&&ep(i,r),g=o.createElement("script"),pe(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function g2(i,r){cs.M(i,r);var o=_o;if(o&&i){var u=on(o).hoistableScripts,f=Eo(i),g=u.get(f);g||(g=o.querySelector(lu(f)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Bn.get(f))&&ep(i,r),g=o.createElement("script"),pe(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function yT(i,r,o,u){var f=(f=St.current)?xh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=To(o.href),o=on(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=To(o.href);var g=on(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(ou(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Bn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(i,o),g||y2(f,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(o),o=on(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function To(i){return'href="'+Ae(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function vT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function y2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ye(r,"link",o),pe(r),i.head.appendChild(r))}function Eo(i){return'[src="'+Ae(i)+'"]'}function lu(i){return"script[async]"+i}function _T(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ae(o.href)+'"]');if(u)return r.instance=u,pe(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),Ye(u,"style",f),Ch(u,o.precedence,i),r.instance=u;case"stylesheet":f=To(o.href);var g=i.querySelector(ou(f));if(g)return r.state.loading|=4,r.instance=g,pe(g),g;u=vT(o),(f=Bn.get(f))&&tp(u,f),g=(i.ownerDocument||i).createElement("link"),pe(g);var E=g;return E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),Ye(g,"link",u),r.state.loading|=4,Ch(g,o.precedence,i),r.instance=g;case"script":return g=Eo(o.src),(f=i.querySelector(lu(g)))?(r.instance=f,pe(f),f):(u=o,(f=Bn.get(g))&&(u=y({},o),ep(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),pe(f),Ye(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ch(u,o.precedence,i));return r.instance}function Ch(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===r)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ep(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ih=null;function TT(i,r,o){if(Ih===null){var u=new Map,f=Ih=new Map;f.set(o,u)}else f=Ih,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Cr]||g[De]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function ET(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function v2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var uu=null;function _2(){}function T2(i,r,o){if(uu===null)throw Error(s(475));var u=uu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=To(o.href),g=i.querySelector(ou(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Dh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,pe(g);return}g=i.ownerDocument||i,o=vT(o),(f=Bn.get(f))&&tp(o,f),g=g.createElement("link"),pe(g);var E=g;E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),Ye(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Dh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function E2(){if(uu===null)throw Error(s(475));var i=uu;return i.stylesheets&&i.count===0&&np(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&np(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Dh(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nh=null;function np(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nh=new Map,r.forEach(b2,i),Nh=null,Dh.call(i))}function b2(i,r){if(!(r.state.loading&4)){var o=Nh.get(i);if(o)var u=o.get(null);else{o=new Map,Nh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var cu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function A2(i,r,o,u,f,g,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function AT(i,r,o,u,f,g,E,A,I,K,Z,et){return i=new A2(i,r,o,E,A,I,K,et),r=1,g===!0&&(r|=24),g=En(3,null,null,r),i.current=g,g.stateNode=i,r=Ld(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},zd(g),i}function ST(i){return i?(i=Wa,i):Wa}function wT(i,r,o,u,f,g){f=ST(f),u.context===null?u.context=f:u.pendingContext=f,u=Ps(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Os(i,u,r),o!==null&&(Rn(o,i,r),Bl(o,i,r))}function RT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ip(i,r){RT(i,r),(i=i.alternate)&&RT(i,r)}function xT(i){if(i.tag===13){var r=Xa(i,67108864);r!==null&&Rn(r,i,67108864),ip(i,67108864)}}var Vh=!0;function S2(i,r,o,u){var f=W.T;W.T=null;var g=rt.p;try{rt.p=2,sp(i,r,o,u)}finally{rt.p=g,W.T=f}}function w2(i,r,o,u){var f=W.T;W.T=null;var g=rt.p;try{rt.p=8,sp(i,r,o,u)}finally{rt.p=g,W.T=f}}function sp(i,r,o,u){if(Vh){var f=rp(u);if(f===null)Gm(i,r,u,Mh,o),IT(i,u);else if(x2(f,i,r,o,u))u.stopPropagation();else if(IT(i,u),r&4&&-1<R2.indexOf(i)){for(;f!==null;){var g=ci(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Kn(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var I=1<<31-Ze(E);A.entanglements[1]|=I,E&=~I}Si(g),(Kt&6)===0&&(gh=Cn()+500,iu(0))}}break;case 13:A=Xa(g,2),A!==null&&Rn(A,g,2),vh(),ip(g,2)}if(g=rp(u),g===null&&Gm(i,r,u,Mh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Gm(i,r,u,null,o)}}function rp(i){return i=Nn(i),ap(i)}var Mh=null;function ap(i){if(Mh=null,i=Fi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Mh=i,null}function CT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ud()){case ll:return 2;case Ia:return 8;case Ar:case cd:return 32;case Da:return 268435456;default:return 32}default:return 32}}var op=!1,$s=null,Qs=null,Xs=null,hu=new Map,fu=new Map,Ws=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IT(i,r){switch(i){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":hu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(r.pointerId)}}function du(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ci(r),r!==null&&xT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function x2(i,r,o,u,f){switch(r){case"focusin":return $s=du($s,i,r,o,u,f),!0;case"dragenter":return Qs=du(Qs,i,r,o,u,f),!0;case"mouseover":return Xs=du(Xs,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return hu.set(g,du(hu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,fu.set(g,du(fu.get(g)||null,i,r,o,u,f)),!0}return!1}function DT(i){var r=Fi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,vc(i.priority,function(){if(o.tag===13){var u=wn();u=ws(u);var f=Xa(o,u);f!==null&&Rn(f,o,u),ip(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ph(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=rp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ki=u,o.target.dispatchEvent(u),Ki=null}else return r=ci(o),r!==null&&xT(r),i.blockedOn=o,!1;r.shift()}return!0}function NT(i,r,o){Ph(i)&&o.delete(r)}function C2(){op=!1,$s!==null&&Ph($s)&&($s=null),Qs!==null&&Ph(Qs)&&(Qs=null),Xs!==null&&Ph(Xs)&&(Xs=null),hu.forEach(NT),fu.forEach(NT)}function Oh(i,r){i.blockedOn===r&&(i.blockedOn=null,op||(op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,C2)))}var kh=null;function VT(i){kh!==i&&(kh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){kh===i&&(kh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(ap(u||o)===null)continue;break}var g=ci(o);g!==null&&(i.splice(r,3),r-=3,am(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function mu(i){function r(I){return Oh(I,i)}$s!==null&&Oh($s,i),Qs!==null&&Oh(Qs,i),Xs!==null&&Oh(Xs,i),hu.forEach(r),fu.forEach(r);for(var o=0;o<Ws.length;o++){var u=Ws[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)DT(o),o.blockedOn===null&&Ws.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[be]||null;if(typeof g=="function")E||VT(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[be]||null)A=E.formAction;else if(ap(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),VT(o)}}}function lp(i){this._internalRoot=i}Lh.prototype.render=lp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=wn();wT(o,u,i,r,null,null)},Lh.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;wT(i.current,2,null,i,null,null),vh(),r[In]=null}};function Lh(i){this._internalRoot=i}Lh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Rs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ws.length&&r!==0&&r<Ws[o].priority;o++);Ws.splice(o,0,i),o===0&&DT(i)}};var MT=t.version;if(MT!=="19.1.1")throw Error(s(527,MT,"19.1.1"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var I2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{he=Uh.inject(I2),Gt=Uh}catch{}}return gu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Q0,g=X0,E=W0,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=AT(i,1,!1,null,null,o,u,f,g,E,A,null),i[In]=r.current,Hm(i),new lp(r)},gu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=Q0,E=X0,A=W0,I=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),r=AT(i,1,!0,r,o??null,u,f,g,E,A,I,K),r.context=ST(null),o=r.current,u=wn(),u=ws(u),f=Ps(u),f.callback=null,Os(o,f,u),o=u,r.current.lanes=o,zi(r,o),Si(r),i[In]=r.current,Hm(i),new Lh(r)},gu.version="19.1.1",gu}var qT;function B2(){if(qT)return hp.exports;qT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hp.exports=j2(),hp.exports}var z2=B2();const F2=Ob(z2);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HT="popstate";function q2(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return Hp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ou(a)}return G2(t,n,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H2(){return Math.random().toString(36).substring(2,10)}function GT(e,t){return{usr:e.state,key:e.key,idx:t}}function Hp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ko(t):t,state:n,key:t&&t.key||s||H2()}}function Ou({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function G2(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=y(),j=N==null?null:N-p;p=N,m&&m({action:d,location:B.location,delta:j})}function b(N,j){d="PUSH";let q=Hp(B.location,N,j);p=y()+1;let Y=GT(q,p),lt=B.createHref(q);try{c.pushState(Y,"",lt)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(lt)}l&&m&&m({action:d,location:B.location,delta:1})}function x(N,j){d="REPLACE";let q=Hp(B.location,N,j);p=y();let Y=GT(q,p),lt=B.createHref(q);c.replaceState(Y,"",lt),l&&m&&m({action:d,location:B.location,delta:0})}function V(N){return K2(N)}let B={get action(){return d},get location(){return e(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(HT,_),m=N,()=>{a.removeEventListener(HT,_),m=null}},createHref(N){return t(a,N)},createURL:V,encodeLocation(N){let j=V(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:x,go(N){return c.go(N)}};return B}function K2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ou(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function kb(e,t,n="/"){return Y2(e,t,n,!1)}function Y2(e,t,n,s){let a=typeof t=="string"?Ko(t):t,l=gs(a.pathname||"/",n);if(l==null)return null;let c=Lb(e);$2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=rC(l);d=iC(c[m],p,s)}return d}function Lb(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;ue(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=ms([s,y.relativePath]),b=n.concat(y);c.children&&c.children.length>0&&(ue(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Lb(c.children,t,b,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:eC(_,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of Ub(c.path))l(c,d,!0,m)}),t}function Ub(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Ub(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function $2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nC(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Q2=/^:[\w-]+$/,X2=3,W2=2,Z2=1,J2=10,tC=-2,KT=e=>e==="*";function eC(e,t){let n=e.split("/"),s=n.length;return n.some(KT)&&(s+=tC),t&&(s+=W2),n.filter(a=>!KT(a)).reduce((a,l)=>a+(Q2.test(l)?X2:l===""?Z2:J2),s)}function nC(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function iC(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ms([l,_.pathname]),pathnameBase:uC(ms([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=ms([l,_.pathnameBase]))}return c}function ff(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=sC(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let V=d[b]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[b];return _&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function sC(e,t=!1,n=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function rC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function aC(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ko(e):e;return{pathname:n?n.startsWith("/")?n:oC(n,t):t,search:cC(s),hash:hC(a)}}function oC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function pp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jb(e){let t=lC(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Bb(e,t,n,s=!1){let a;typeof e=="string"?a=Ko(e):(a={...e},ue(!a.pathname||!a.pathname.includes("?"),pp("?","pathname","search",a)),ue(!a.pathname||!a.pathname.includes("#"),pp("#","pathname","hash",a)),ue(!a.search||!a.search.includes("#"),pp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=aC(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ms=e=>e.join("/").replace(/\/\/+/g,"/"),uC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var zb=["POST","PUT","PATCH","DELETE"];new Set(zb);var dC=["GET",...zb];new Set(dC);var Yo=O.createContext(null);Yo.displayName="DataRouter";var Lf=O.createContext(null);Lf.displayName="DataRouterState";O.createContext(!1);var Fb=O.createContext({isTransitioning:!1});Fb.displayName="ViewTransition";var mC=O.createContext(new Map);mC.displayName="Fetchers";var pC=O.createContext(null);pC.displayName="Await";var Ui=O.createContext(null);Ui.displayName="Navigation";var Zu=O.createContext(null);Zu.displayName="Location";var ai=O.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var zg=O.createContext(null);zg.displayName="RouteError";function gC(e,{relative:t}={}){ue(Ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Ui),{hash:a,pathname:l,search:c}=tc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:ms([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Ju(){return O.useContext(Zu)!=null}function oi(){return ue(Ju(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Zu).location}var qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hb(e){O.useContext(Ui).static||O.useLayoutEffect(e)}function $o(){let{isDataRoute:e}=O.useContext(ai);return e?VC():yC()}function yC(){ue(Ju(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Yo),{basename:t,navigator:n}=O.useContext(Ui),{matches:s}=O.useContext(ai),{pathname:a}=oi(),l=JSON.stringify(jb(s)),c=O.useRef(!1);return Hb(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(Oi(c.current,qb),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Bb(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ms([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var vC=O.createContext(null);function _C(e){let t=O.useContext(ai).outlet;return t&&O.createElement(vC.Provider,{value:e},t)}function TC(){let{matches:e}=O.useContext(ai),t=e[e.length-1];return t?t.params:{}}function tc(e,{relative:t}={}){let{matches:n}=O.useContext(ai),{pathname:s}=oi(),a=JSON.stringify(jb(n));return O.useMemo(()=>Bb(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function EC(e,t){return Gb(e,t)}function Gb(e,t,n,s,a){ue(Ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Ui),{matches:c}=O.useContext(ai),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let q=_&&_.path||"";Kb(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=oi(),x;if(t){let q=typeof t=="string"?Ko(t):t;ue(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),x=q}else x=b;let V=x.pathname||"/",B=V;if(y!=="/"){let q=y.replace(/^\//,"").split("/");B="/"+V.replace(/^\//,"").split("/").slice(q.length).join("/")}let N=kb(e,{pathname:B});Oi(_||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=RC(N&&N.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:ms([y,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:ms([y,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,n,s,a);return t&&j?O.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function bC(){let e=NC(),t=fC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var AC=O.createElement(bC,null),SC=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(ai.Provider,{value:this.props.routeContext},O.createElement(zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wC({routeContext:e,match:t,children:n}){let s=O.useContext(Yo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(ai.Provider,{value:e},n)}function RC(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ue(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:b}=n,x=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||x){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let b,x=!1,V=null,B=null;n&&(b=c&&y.route.id?c[y.route.id]:void 0,V=y.route.errorElement||AC,d&&(m<0&&_===0?(Kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,B=null):m===_&&(x=!0,B=y.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,_+1)),j=()=>{let q;return b?q=V:x?q=B:y.route.Component?q=O.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,O.createElement(wC,{match:y,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?O.createElement(SC,{location:n.location,revalidation:n.revalidation,component:V,error:b,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):j()},null)}function Fg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xC(e){let t=O.useContext(Yo);return ue(t,Fg(e)),t}function CC(e){let t=O.useContext(Lf);return ue(t,Fg(e)),t}function IC(e){let t=O.useContext(ai);return ue(t,Fg(e)),t}function qg(e){let t=IC(e),n=t.matches[t.matches.length-1];return ue(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DC(){return qg("useRouteId")}function NC(){let e=O.useContext(zg),t=CC("useRouteError"),n=qg("useRouteError");return e!==void 0?e:t.errors?.[n]}function VC(){let{router:e}=xC("useNavigate"),t=qg("useNavigate"),n=O.useRef(!1);return Hb(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Oi(n.current,qb),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var YT={};function Kb(e,t,n){!t&&!YT[e]&&(YT[e]=!0,Oi(!1,n))}O.memo(MC);function MC({routes:e,future:t,state:n,unstable_onError:s}){return Gb(e,void 0,n,s,t)}function Yb(e){return _C(e.context)}function Zn(e){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PC({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ue(!Ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Ko(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,x=O.useMemo(()=>{let V=gs(m,c);return V==null?null:{location:{pathname:V,search:p,hash:y,state:_,key:b},navigationType:s}},[c,m,p,y,_,b,s]);return Oi(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(Ui.Provider,{value:d},O.createElement(Zu.Provider,{children:t,value:x}))}function OC({children:e,location:t}){return EC(Gp(e),t)}function Gp(e,t=[]){let n=[];return O.Children.forEach(e,(s,a)=>{if(!O.isValidElement(s))return;let l=[...t,a];if(s.type===O.Fragment){n.push.apply(n,Gp(s.props.children,l));return}ue(s.type===Zn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Gp(s.props.children,l)),n.push(c)}),n}var Qh="get",Xh="application/x-www-form-urlencoded";function Uf(e){return e!=null&&typeof e.tagName=="string"}function kC(e){return Uf(e)&&e.tagName.toLowerCase()==="button"}function LC(e){return Uf(e)&&e.tagName.toLowerCase()==="form"}function UC(e){return Uf(e)&&e.tagName.toLowerCase()==="input"}function jC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BC(e,t){return e.button===0&&(!t||t==="_self")&&!jC(e)}var jh=null;function zC(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var FC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(e){return e!=null&&!FC.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):e}function qC(e,t){let n,s,a,l,c;if(LC(e)){let d=e.getAttribute("action");s=d?gs(d,t):null,n=e.getAttribute("method")||Qh,a=gp(e.getAttribute("enctype"))||Xh,l=new FormData(e)}else if(kC(e)||UC(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?gs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Qh,a=gp(e.getAttribute("formenctype"))||gp(d.getAttribute("enctype"))||Xh,l=new FormData(d,e),!zC()){let{name:p,type:y,value:_}=e;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Uf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qh,s=null,a=Xh,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HC(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&gs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function GC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YC(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await GC(l,n);return c.links?c.links():[]}return[]}));return WC(s.flat(1).filter(KC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $T(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function $C(e,t,{includeHydrateFallback:n}={}){return QC(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function QC(e){return[...new Set(e)]}function XC(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function WC(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(XC(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function $b(){let e=O.useContext(Yo);return Hg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZC(){let e=O.useContext(Lf);return Hg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gg=O.createContext(void 0);Gg.displayName="FrameworkContext";function Qb(){let e=O.useContext(Gg);return Hg(e,"You must render this element inside a <HydratedRouter> element"),e}function JC(e,t){let n=O.useContext(Gg),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,b=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let B=j=>{j.forEach(q=>{c(q.isIntersecting)})},N=new IntersectionObserver(B,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),O.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let x=()=>{a(!0)},V=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:yu(d,x),onBlur:yu(m,V),onMouseEnter:yu(p,x),onMouseLeave:yu(y,V),onTouchStart:yu(_,x)}]:[!1,b,{}]}function yu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tI({page:e,...t}){let{router:n}=$b(),s=O.useMemo(()=>kb(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?O.createElement(nI,{page:e,matches:s,...t}):null}function eI(e){let{manifest:t,routeModules:n}=Qb(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return YC(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function nI({page:e,matches:t,...n}){let s=oi(),{manifest:a,routeModules:l}=Qb(),{basename:c}=$b(),{loaderData:d,matches:m}=ZC(),p=O.useMemo(()=>$T(e,t,m,a,s,"data"),[e,t,m,a,s]),y=O.useMemo(()=>$T(e,t,m,a,s,"assets"),[e,t,m,a,s]),_=O.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let V=new Set,B=!1;if(t.forEach(j=>{let q=a.routes[j.route.id];!q||!q.hasLoader||(!p.some(Y=>Y.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||q.hasClientLoader?B=!0:V.add(j.route.id))}),V.size===0)return[];let N=HC(e,c,"data");return B&&V.size>0&&N.searchParams.set("_routes",t.filter(j=>V.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[c,d,s,a,p,t,e,l]),b=O.useMemo(()=>$C(y,a),[y,a]),x=eI(y);return O.createElement(O.Fragment,null,_.map(V=>O.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),b.map(V=>O.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),x.map(({key:V,link:B})=>O.createElement("link",{key:V,nonce:n.nonce,...B})))}function iI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xb&&(window.__reactRouterVersion="7.8.2")}catch{}function sI({basename:e,children:t,window:n}){let s=O.useRef();s.current==null&&(s.current=q2({window:n,v5Compat:!0}));let a=s.current,[l,c]=O.useState({action:a.action,location:a.location}),d=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(d),[a,d]),O.createElement(PC,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kg=O.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...b},x){let{basename:V}=O.useContext(Ui),B=typeof p=="string"&&Wb.test(p),N,j=!1;if(typeof p=="string"&&B&&(N=p,Xb))try{let C=new URL(window.location.href),k=p.startsWith("//")?new URL(C.protocol+p):new URL(p),U=gs(k.pathname,V);k.origin===C.origin&&U!=null?p=U+k.search+k.hash:j=!0}catch{Oi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=gC(p,{relative:a}),[Y,lt,it]=JC(s,b),mt=oI(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function P(C){t&&t(C),C.defaultPrevented||mt(C)}let R=O.createElement("a",{...b,...it,href:N||q,onClick:j||l?t:P,ref:iI(x,lt),target:m,"data-discover":!B&&n==="render"?"true":void 0});return Y&&!B?O.createElement(O.Fragment,null,R,O.createElement(tI,{page:q})):R});Kg.displayName="Link";var aa=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=tc(c,{relative:p.relative}),b=oi(),x=O.useContext(Lf),{navigator:V,basename:B}=O.useContext(Ui),N=x!=null&&fI(_)&&d===!0,j=V.encodeLocation?V.encodeLocation(_).pathname:_.pathname,q=b.pathname,Y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&B&&(Y=gs(Y,B)||Y);const lt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let it=q===j||!a&&q.startsWith(j)&&q.charAt(lt)==="/",mt=Y!=null&&(Y===j||!a&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),P={isActive:it,isPending:mt,isTransitioning:N},R=it?t:void 0,C;typeof s=="function"?C=s(P):C=[s,it?"active":null,mt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(P):l;return O.createElement(Kg,{...p,"aria-current":R,className:C,ref:y,style:k,to:c,viewTransition:d},typeof m=="function"?m(P):m)});aa.displayName="NavLink";var rI=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Qh,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...b},x)=>{let V=cI(),B=hI(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&Wb.test(d),q=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let lt=Y.nativeEvent.submitter,it=lt?.getAttribute("formmethod")||c;V(lt||Y.currentTarget,{fetcherKey:t,method:it,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:x,method:N,action:B,onSubmit:s?m:q,...b,"data-discover":!j&&e==="render"?"true":void 0})});rI.displayName="Form";function aI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(e){let t=O.useContext(Yo);return ue(t,aI(e)),t}function oI(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=$o(),m=oi(),p=tc(e,{relative:l});return O.useCallback(y=>{if(BC(y,t)){y.preventDefault();let _=n!==void 0?n:Ou(m)===Ou(p);d(e,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,t,e,a,l,c])}var lI=0,uI=()=>`__${String(++lI)}__`;function cI(){let{router:e}=Zb("useSubmit"),{basename:t}=O.useContext(Ui),n=DC();return O.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=qC(s,t);if(a.navigate===!1){let y=a.fetcherKey||uI();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function hI(e,{relative:t}={}){let{basename:n}=O.useContext(Ui),s=O.useContext(ai);ue(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...tc(e||".",{relative:t})},c=oi();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ms([n,l.pathname])),Ou(l)}function fI(e,{relative:t}={}){let n=O.useContext(Fb);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zb("useViewTransitionState"),a=tc(e,{relative:t});if(!n.isTransitioning)return!1;let l=gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ff(a.pathname,c)!=null||ff(a.pathname,l)!=null}const dI=()=>{const e=({isActive:n})=>`flex flex-col items-center justify-center p-3 rounded-lg hover:bg-gray-100 md:flex-row md:justify-center ${n?"text-blue-600":"text-gray-500"}`;return w.jsx("nav",{className:`fixed bottom-0 left-0 w-full bg-white shadow-2xl z-10 
    md:fixed md:right-0 md:top-[4rem] md:h-[calc(100vh-4rem)] md:shadow-lg md:rounded-l-lg
    md:flex md:flex-col md:p-4 transition-all duration-500 smooth-transition 
    md:w-20`,children:w.jsxs("div",{className:"flex justify-around items-center h-16 md:h-auto md:flex-col md:items-stretch md:space-y-6",children:[w.jsxs(aa,{to:"/",className:e,children:[w.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M3 9H21M9 15L11 17L15 13M7 3V5M17 3V5M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),w.jsx("span",{className:"text-xs mt-1 md:hidden",children:""})]}),w.jsxs(aa,{to:"/evaluations",className:e,children:[w.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 294.023 294.023",children:w.jsx("path",{d:"M124.916,0.002 c-1.649,0.045-3.169,0.9-4.064,2.285l-14.49,21.736h-49.35c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5 V39.574l-10,15v19.449h-40v-40h37.682L85.631,55.117l-6.146-12.293c-1.205-2.485-4.196-3.523-6.681-2.318 c-2.485,1.205-3.523,4.196-2.318,6.681c0.018,0.036,0.035,0.072,0.054,0.108l10,20c1.235,2.47,4.238,3.472,6.709,2.237 c0.778-0.389,1.441-0.974,1.924-1.698l40-60c1.565-2.276,0.989-5.389-1.287-6.954C127.013,0.281,125.974-0.027,124.916,0.002 L124.916,0.002z M147.012,44.025c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5 H147.012z M57.012,94.06c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5v-50c0-2.761-2.239-5-5-5H57.012z M62.012,104.06h40v40h-40V104.06z M147.012,114.023c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10 c0-2.761-2.239-5-5-5H147.012z M57.012,164.023c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50c2.761,0,5-2.239,5-5v-50 c0-2.761-2.239-5-5-5H57.012z M62.012,174.023h40v40h-40V174.023z M147.012,184.058c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90 c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5H147.012z M57.012,234.023c-2.761,0-5,2.239-5,5v50c0,2.761,2.239,5,5,5h50 c2.761,0,5-2.239,5-5v-50c0-2.761-2.239-5-5-5L57.012,234.023L57.012,234.023z M62.012,244.023h40v40h-40V244.023z M147.012,254.023 c-2.761,0-5,2.239-5,5v10c0,2.761,2.239,5,5,5h90c2.761,0,5-2.239,5-5v-10c0-2.761-2.239-5-5-5H147.012z"})}),w.jsx("span",{className:"text-xs mt-1 md:hidden",children:""})]}),w.jsxs(aa,{to:"/leaderboard",className:`${e} hidden md:flex`,children:[w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),w.jsx("span",{className:"text-xs mt-1 md:hidden",children:""})]}),w.jsxs(aa,{to:"/store",className:e,children:[w.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4H6zM3 6h18M16 10a4 4 0 1 1-8 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),w.jsx("span",{className:"text-xs mt-1 md:hidden",children:""})]}),w.jsxs(aa,{to:"/profile",className:e,children:[w.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),w.jsx("span",{className:"text-xs mt-1 md:hidden",children:" "})]})]})})},mI=()=>{};var QT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},pI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},tA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(b=64)),s.push(n[y],n[_],n[b],n[x])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new gI;const b=l<<2|d>>4;if(s.push(b),p!==64){const x=d<<4&240|p>>2;if(s.push(x),_!==64){const V=p<<6&192|_;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yI=function(e){const t=Jb(e);return tA.encodeByteArray(t,!0)},df=function(e){return yI(e).replace(/\./g,"")},eA=function(e){try{return tA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=()=>vI().__FIREBASE_DEFAULTS__,TI=()=>{if(typeof process>"u"||typeof QT>"u")return;const e=QT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&eA(e[1]);return t&&JSON.parse(t)},jf=()=>{try{return mI()||_I()||TI()||EI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},nA=e=>jf()?.emulatorHosts?.[e],bI=e=>{const t=nA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},iA=()=>jf()?.config,sA=e=>jf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rA(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[df(JSON.stringify(n)),df(JSON.stringify(c)),""].join(".")}const Su={};function wI(){const e={prod:[],emulator:[]};for(const t of Object.keys(Su))Su[t]?e.emulator.push(t):e.prod.push(t);return e}function RI(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let XT=!1;function aA(e,t){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Su[e]===t||Su[e]||XT)return;Su[e]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=wI().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{XT=!0,c()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=RI(s),x=n("text"),V=document.getElementById(x)||document.createElement("span"),B=n("learnmore"),N=document.getElementById(B)||document.createElement("a"),j=n("preprendIcon"),q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;d(Y),y(N,B);const lt=p();m(q,j),Y.append(q,V,N,lt),document.body.appendChild(Y)}l?(V.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function CI(){const e=jf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function II(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VI(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function MI(){return!CI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="FirebaseError";class As extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=kI,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?LI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new As(a,d,s)}}function LI(e,t){return e.replace(UI,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const UI=/\{\$([^}]+)}/g;function jI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ga(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(WT(l)&&WT(c)){if(!ga(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function WT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function BI(e,t){const n=new zI(e,t);return n.subscribe.bind(n)}class zI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FI(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=yp),a.error===void 0&&(a.error=yp),a.complete===void 0&&(a.complete=yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e&&e._delegate?e._delegate:e}class ya{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new AI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GI(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HI(e){return e===sa?void 0:e}function GI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const YI={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},$I=Pt.INFO,QI={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},XI=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=QI[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yg{constructor(t){this.name=t,this._logLevel=$I,this._logHandler=XI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const WI=(e,t)=>t.some(n=>e instanceof n);let ZT,JT;function ZI(){return ZT||(ZT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JI(){return JT||(JT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oA=new WeakMap,Kp=new WeakMap,lA=new WeakMap,vp=new WeakMap,$g=new WeakMap;function tD(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(rr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&oA.set(n,e)}).catch(()=>{}),$g.set(t,e),t}function eD(e){if(Kp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Kp.set(e,t)}let Yp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Kp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nD(e){Yp=e(Yp)}function iD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(_p(this),t,...n);return lA.set(s,t.sort?t.sort():[t]),rr(s)}:JI().includes(e)?function(...t){return e.apply(_p(this),t),rr(oA.get(this))}:function(...t){return rr(e.apply(_p(this),t))}}function sD(e){return typeof e=="function"?iD(e):(e instanceof IDBTransaction&&eD(e),WI(e,ZI())?new Proxy(e,Yp):e)}function rr(e){if(e instanceof IDBRequest)return tD(e);if(vp.has(e))return vp.get(e);const t=sD(e);return t!==e&&(vp.set(e,t),$g.set(t,e)),t}const _p=e=>$g.get(e);function rD(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=rr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(rr(c.result),m.oldVersion,m.newVersion,rr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const aD=["get","getKey","getAll","getAllKeys","count"],oD=["put","add","delete","clear"],Tp=new Map;function tE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Tp.get(t))return Tp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=oD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||aD.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Tp.set(t,l),l}nD(e=>({...e,get:(t,n,s)=>tE(t,n)||e.get(t,n,s),has:(t,n)=>!!tE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uD(e){return e.getComponent()?.type==="VERSION"}const $p="@firebase/app",eE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Yg("@firebase/app"),cD="@firebase/app-compat",hD="@firebase/analytics-compat",fD="@firebase/analytics",dD="@firebase/app-check-compat",mD="@firebase/app-check",pD="@firebase/auth",gD="@firebase/auth-compat",yD="@firebase/database",vD="@firebase/data-connect",_D="@firebase/database-compat",TD="@firebase/functions",ED="@firebase/functions-compat",bD="@firebase/installations",AD="@firebase/installations-compat",SD="@firebase/messaging",wD="@firebase/messaging-compat",RD="@firebase/performance",xD="@firebase/performance-compat",CD="@firebase/remote-config",ID="@firebase/remote-config-compat",DD="@firebase/storage",ND="@firebase/storage-compat",VD="@firebase/firestore",MD="@firebase/ai",PD="@firebase/firestore-compat",OD="firebase",kD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",LD={[$p]:"fire-core",[cD]:"fire-core-compat",[fD]:"fire-analytics",[hD]:"fire-analytics-compat",[mD]:"fire-app-check",[dD]:"fire-app-check-compat",[pD]:"fire-auth",[gD]:"fire-auth-compat",[yD]:"fire-rtdb",[vD]:"fire-data-connect",[_D]:"fire-rtdb-compat",[TD]:"fire-fn",[ED]:"fire-fn-compat",[bD]:"fire-iid",[AD]:"fire-iid-compat",[SD]:"fire-fcm",[wD]:"fire-fcm-compat",[RD]:"fire-perf",[xD]:"fire-perf-compat",[CD]:"fire-rc",[ID]:"fire-rc-compat",[DD]:"fire-gcs",[ND]:"fire-gcs-compat",[VD]:"fire-fst",[PD]:"fire-fst-compat",[MD]:"fire-vertex","fire-js":"fire-js",[OD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map,UD=new Map,Xp=new Map;function nE(e,t){try{e.container.addComponent(t)}catch(n){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ko(e){const t=e.name;if(Xp.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;Xp.set(t,e);for(const n of mf.values())nE(n,e);for(const n of UD.values())nE(n,e);return!0}function Qg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ti(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new ec("app","Firebase",jD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=kD;function uA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Qp,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw ar.create("bad-app-name",{appName:String(a)});if(n||(n=iA()),!n)throw ar.create("no-options");const l=mf.get(a);if(l){if(ga(n,l.options)&&ga(s,l.config))return l;throw ar.create("duplicate-app",{appName:a})}const c=new KI(a);for(const m of Xp.values())c.addComponent(m);const d=new BD(n,s,c);return mf.set(a,d),d}function cA(e=Qp){const t=mf.get(e);if(!t&&e===Qp&&iA())return uA();if(!t)throw ar.create("no-app",{appName:e});return t}function or(e,t,n){let s=LD[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}ko(new ya(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firebase-heartbeat-database",FD=1,ku="firebase-heartbeat-store";let Ep=null;function hA(){return Ep||(Ep=rD(zD,FD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})})),Ep}async function qD(e){try{const n=(await hA()).transaction(ku),s=await n.objectStore(ku).get(fA(e));return await n.done,s}catch(t){if(t instanceof As)ys.warn(t.message);else{const n=ar.create("idb-get",{originalErrorMessage:t?.message});ys.warn(n.message)}}}async function iE(e,t){try{const s=(await hA()).transaction(ku,"readwrite");await s.objectStore(ku).put(t,fA(e)),await s.done}catch(n){if(n instanceof As)ys.warn(n.message);else{const s=ar.create("idb-set",{originalErrorMessage:n?.message});ys.warn(s.message)}}}function fA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=1024,GD=30;class KD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $D(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>GD){const a=QD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sE(),{heartbeatsToSend:n,unsentEntries:s}=YD(this._heartbeatsCache.heartbeats),a=df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function sE(){return new Date().toISOString().substring(0,10)}function YD(e,t=HD){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $D{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function rE(e){return df(JSON.stringify({version:2,heartbeats:e})).length}function QD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(e){ko(new ya("platform-logger",t=>new lD(t),"PRIVATE")),ko(new ya("heartbeat",t=>new KD(t),"PRIVATE")),or($p,eE,e),or($p,eE,"esm2020"),or("fire-js","")}XD("");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,dA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(k,U,F){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return R.prototype[U].apply(k,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,C){C||(C=0);var k=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)k[U]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(U=0;16>U;++U)k[U]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],U=P.g[2];var F=P.g[3],D=R+(F^C&(U^F))+k[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=F+(U^R&(C^U))+k[1]+3905402710&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(C^F&(R^C))+k[2]+606105819&4294967295,U=F+(D<<17&4294967295|D>>>15),D=C+(R^U&(F^R))+k[3]+3250441966&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(F^C&(U^F))+k[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(U^R&(C^U))+k[5]+1200080426&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(C^F&(R^C))+k[6]+2821735955&4294967295,U=F+(D<<17&4294967295|D>>>15),D=C+(R^U&(F^R))+k[7]+4249261313&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(F^C&(U^F))+k[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(U^R&(C^U))+k[9]+2336552879&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(C^F&(R^C))+k[10]+4294925233&4294967295,U=F+(D<<17&4294967295|D>>>15),D=C+(R^U&(F^R))+k[11]+2304563134&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(F^C&(U^F))+k[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(U^R&(C^U))+k[13]+4254626195&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(C^F&(R^C))+k[14]+2792965006&4294967295,U=F+(D<<17&4294967295|D>>>15),D=C+(R^U&(F^R))+k[15]+1236535329&4294967295,C=U+(D<<22&4294967295|D>>>10),D=R+(U^F&(C^U))+k[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^U&(R^C))+k[6]+3225465664&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(F^R))+k[11]+643717713&4294967295,U=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(U^F))+k[0]+3921069994&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(U^F&(C^U))+k[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^U&(R^C))+k[10]+38016083&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(F^R))+k[15]+3634488961&4294967295,U=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(U^F))+k[4]+3889429448&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(U^F&(C^U))+k[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^U&(R^C))+k[14]+3275163606&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(F^R))+k[3]+4107603335&4294967295,U=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(U^F))+k[8]+1163531501&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(U^F&(C^U))+k[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^U&(R^C))+k[2]+4243563512&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^C&(F^R))+k[7]+1735328473&4294967295,U=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(U^F))+k[12]+2368359562&4294967295,C=U+(D<<20&4294967295|D>>>12),D=R+(C^U^F)+k[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^U)+k[8]+2272392833&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^C)+k[11]+1839030562&4294967295,U=F+(D<<16&4294967295|D>>>16),D=C+(U^F^R)+k[14]+4259657740&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(C^U^F)+k[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^U)+k[4]+1272893353&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^C)+k[7]+4139469664&4294967295,U=F+(D<<16&4294967295|D>>>16),D=C+(U^F^R)+k[10]+3200236656&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(C^U^F)+k[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^U)+k[0]+3936430074&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^C)+k[3]+3572445317&4294967295,U=F+(D<<16&4294967295|D>>>16),D=C+(U^F^R)+k[6]+76029189&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(C^U^F)+k[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^U)+k[12]+3873151461&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^C)+k[15]+530742520&4294967295,U=F+(D<<16&4294967295|D>>>16),D=C+(U^F^R)+k[2]+3299628645&4294967295,C=U+(D<<23&4294967295|D>>>9),D=R+(U^(C|~F))+k[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~U))+k[7]+1126891415&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~C))+k[14]+2878612391&4294967295,U=F+(D<<15&4294967295|D>>>17),D=C+(F^(U|~R))+k[5]+4237533241&4294967295,C=U+(D<<21&4294967295|D>>>11),D=R+(U^(C|~F))+k[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~U))+k[3]+2399980690&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~C))+k[10]+4293915773&4294967295,U=F+(D<<15&4294967295|D>>>17),D=C+(F^(U|~R))+k[1]+2240044497&4294967295,C=U+(D<<21&4294967295|D>>>11),D=R+(U^(C|~F))+k[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~U))+k[15]+4264355552&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~C))+k[6]+2734768916&4294967295,U=F+(D<<15&4294967295|D>>>17),D=C+(F^(U|~R))+k[13]+1309151649&4294967295,C=U+(D<<21&4294967295|D>>>11),D=R+(U^(C|~F))+k[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~U))+k[11]+3174756917&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~C))+k[2]+718787259&4294967295,U=F+(D<<15&4294967295|D>>>17),D=C+(F^(U|~R))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,k=this.B,U=this.h,F=0;F<R;){if(U==0)for(;F<=C;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<R;)if(k[U++]=P.charCodeAt(F++),U==this.blockSize){a(this,k),U=0;break}}else for(;F<R;)if(k[U++]=P[F++],U==this.blockSize){a(this,k),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var k=0;32>k;k+=8)P[C++]=this.g[R]>>>k&255;return P};function l(P,R){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function c(P,R){this.h=R;for(var C=[],k=!0,U=P.length-1;0<=U;U--){var F=P[U]|0;k&&F==R||(C[U]=F,k=!1)}this.g=C}var d={};function m(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return N(p(-P));for(var R=[],C=1,k=0;P>=C;k++)R[k]=P/C|0,C*=4294967296;return new c(R,0)}function y(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return N(y(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),k=_,U=0;U<P.length;U+=8){var F=Math.min(8,P.length-U),D=parseInt(P.substring(U,U+F),R);8>F?(F=p(Math.pow(R,F)),k=k.j(F).add(p(D))):(k=k.j(C),k=k.add(p(D)))}return k}var _=m(0),b=m(1),x=m(16777216);e=c.prototype,e.m=function(){if(B(this))return-N(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var k=this.i(C);P+=(0<=k?k:4294967296+k)*R,R*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V(this))return"0";if(B(this))return"-"+N(this).toString(P);for(var R=p(Math.pow(P,6)),C=this,k="";;){var U=lt(C,R).g;C=j(C,U.j(R));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=U,V(C))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function V(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function B(P){return P.h==-1}e.l=function(P){return P=j(this,P),B(P)?-1:V(P)?0:1};function N(P){for(var R=P.g.length,C=[],k=0;k<R;k++)C[k]=~P.g[k];return new c(C,~P.h).add(b)}e.abs=function(){return B(this)?N(this):this},e.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0,U=0;U<=R;U++){var F=k+(this.i(U)&65535)+(P.i(U)&65535),D=(F>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);k=D>>>16,F&=65535,D&=65535,C[U]=D<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(P,R){return P.add(N(R))}e.j=function(P){if(V(this)||V(P))return _;if(B(this))return B(P)?N(this).j(N(P)):N(N(this).j(P));if(B(P))return N(this.j(N(P)));if(0>this.l(x)&&0>P.l(x))return p(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<P.g.length;U++){var F=this.i(k)>>>16,D=this.i(k)&65535,Ee=P.i(U)>>>16,ne=P.i(U)&65535;C[2*k+2*U]+=D*ne,q(C,2*k+2*U),C[2*k+2*U+1]+=F*ne,q(C,2*k+2*U+1),C[2*k+2*U+1]+=D*Ee,q(C,2*k+2*U+1),C[2*k+2*U+2]+=F*Ee,q(C,2*k+2*U+2)}for(k=0;k<R;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=R;k<2*R;k++)C[k]=0;return new c(C,0)};function q(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function Y(P,R){this.g=P,this.h=R}function lt(P,R){if(V(R))throw Error("division by zero");if(V(P))return new Y(_,_);if(B(P))return R=lt(N(P),R),new Y(N(R.g),N(R.h));if(B(R))return R=lt(P,N(R)),new Y(N(R.g),R.h);if(30<P.g.length){if(B(P)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,k=R;0>=k.l(P);)C=it(C),k=it(k);var U=mt(C,1),F=mt(k,1);for(k=mt(k,2),C=mt(C,2);!V(k);){var D=F.add(k);0>=D.l(P)&&(U=U.add(C),F=D),k=mt(k,1),C=mt(C,1)}return R=j(P,U.j(R)),new Y(U,R)}for(U=_;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=p(C),D=F.j(R);B(D)||0<D.l(P);)C-=k,F=p(C),D=F.j(R);V(F)&&(F=b),U=U.add(F),P=j(P,D)}return new Y(U,P)}e.A=function(P){return lt(this,P).h},e.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)&P.i(k);return new c(C,this.h&P.h)},e.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)|P.i(k);return new c(C,this.h|P.h)},e.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)^P.i(k);return new c(C,this.h^P.h)};function it(P){for(var R=P.g.length+1,C=[],k=0;k<R;k++)C[k]=P.i(k)<<1|P.i(k-1)>>>31;return new c(C,P.h)}function mt(P,R){var C=R>>5;R%=32;for(var k=P.g.length-C,U=[],F=0;F<k;F++)U[F]=0<R?P.i(F+C)>>>R|P.i(F+C+1)<<32-R:P.i(F+C);return new c(U,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,lr=c}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mA,_u,pA,Wh,Wp,gA,yA,vA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var T=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in T))break t;T=T[H]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,H={next:function(){if(!S&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function x(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function V(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,H,X){for(var ot=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ot[Lt-2]=arguments[Lt];return v.prototype[H].apply(S,ot)}}function B(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function N(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(m(S)){const H=h.length||0,X=S.length||0;h.length=H+X;for(let ot=0;ot<X;ot++)h[H+ot]=S[ot]}else h.push(S)}}class j{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var it=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function mt(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function P(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let T,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(T in S)h[T]=S[T];for(let X=0;X<C.length;X++)T=C[X],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Ct;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,T){const S=ne.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new j(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ht=!1,Ct=new Ee,M=()=>{const h=d.Promise.resolve(void 0);rt=()=>{h.then(st)}};var st=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(T){F(T)}var v=ne;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ht=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,v),d.removeEventListener("test",T,v)}catch{}return h})();function Dt(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(it){t:{try{lt(v.nodeName);var H=!0;break t}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}V(Dt,at);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function li(h,v,T,S,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=H,this.key=++Jt,this.da=this.fa=!1}function Ss(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ji(h){this.src=h,this.g={},this.h=0}ji.prototype.add=function(h,v,T,S,H){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ot=Er(h,v,S,H);return-1<ot?(v=h[ot],T||(v.fa=!1)):(v=new li(v,this.src,X,!!S,H),v.fa=T,h.push(v)),v};function Tr(h,v){var T=v.type;if(T in h.g){var S=h.g[T],H=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(S,H,1),X&&(Ss(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Er(h,v,T,S){for(var H=0;H<h.length;++H){var X=h[H];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==S)return H}return-1}var br="closure_lm_"+(1e6*Math.random()|0),ol={};function pc(h,v,T,S,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)pc(h,v[X],T,S,H);return null}return T=gc(T),h&&h[ke]?h.K(v,T,p(S)?!!S.capture:!1,H):Cn(h,v,T,!1,S,H)}function Cn(h,v,T,S,H,X){if(!v)throw Error("Invalid event type");var ot=p(H)?!!H.capture:!!H,Lt=Da(h);if(Lt||(h[br]=Lt=new ji(h)),T=Lt.add(v,T,S,ot,X),T.proxy)return T;if(S=ud(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)yt||(H=ot),H===void 0&&(H=!1),h.addEventListener(v.toString(),S,H);else if(h.attachEvent)h.attachEvent(Ar(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ud(){function h(T){return v.call(h.src,h.listener,T)}const v=cd;return h}function ll(h,v,T,S,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)ll(h,v[X],T,S,H);else S=p(S)?!!S.capture:!!S,T=gc(T),h&&h[ke]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=Er(X,T,S,H),-1<T&&(Ss(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Da(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Er(v,T,S,H)),(T=-1<h?v[h]:null)&&Ia(T))}function Ia(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ke])Tr(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(Ar(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=Da(v))?(Tr(T,h),T.h==0&&(T.src=null,v[br]=null)):Ss(h)}}}function Ar(h){return h in ol?ol[h]:ol[h]="on"+h}function cd(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&Ia(h),h=T.call(S,v)}return h}function Da(h){return h=h[br],h instanceof ji?h:null}var ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function gc(h){return typeof h=="function"?h:(h[ul]||(h[ul]=function(v){return h.handleEvent(v)}),h[ul])}function he(){ut.call(this),this.i=new ji(this),this.M=this,this.F=null}V(he,ut),he.prototype[ke]=!0,he.prototype.removeEventListener=function(h,v,T,S){ll(this,h,v,T,S)};function Gt(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var H=v;v=new at(S,h),k(v,H)}if(H=!0,T)for(var X=T.length-1;0<=X;X--){var ot=v.g=T[X];H=vn(ot,S,!0,v)&&H}if(ot=v.g=h,H=vn(ot,S,!0,v)&&H,H=vn(ot,S,!1,v)&&H,T)for(X=0;X<T.length;X++)ot=v.g=T[X],H=vn(ot,S,!1,v)&&H}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)Ss(T[S]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},he.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function vn(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var ot=v[X];if(ot&&!ot.da&&ot.capture==T){var Lt=ot.listener,Ne=ot.ha||ot.src;ot.fa&&Tr(h.i,ot),H=Lt.call(Ne,S)!==!1&&H}}return H&&!S.defaultPrevented}function Ze(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function yc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,yc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hd extends ut{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){ut.call(this),this.h=h,this.g={}}V(Sr,ut);var wr=[];function Rr(h){mt(h.g,function(v,T){this.g.hasOwnProperty(T)&&Ia(v)},h),h.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),Rr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Na=d.JSON.parse,xr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function cl(){}cl.prototype.h=null;function hl(h){return h.h||(h.h=h.i())}function fl(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){at.call(this,"d")}V(zi,at);function dl(){at.call(this,"c")}V(dl,at);var ui={},ml=null;function ws(){return ml=ml||new he}ui.La="serverreachability";function Va(h){at.call(this,ui.La,h)}V(Va,at);function Rs(h){const v=ws();Gt(v,new Va(v))}ui.STAT_EVENT="statevent";function vc(h,v){at.call(this,ui.STAT_EVENT,h),this.stat=v}V(vc,at);function se(h){const v=ws();Gt(v,new vc(v,h))}ui.Ma="timingevent";function De(h,v){at.call(this,ui.Ma,h),this.size=v}V(De,at);function be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function pl(h,v,T,S,H,X){h.info(function(){if(h.g)if(X)for(var ot="",Lt=X.split("&"),Ne=0;Ne<Lt.length;Ne++){var Ut=Lt[Ne].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var Ve=Ue.split("_");ot=2<=Ve.length&&Ve[1]=="type"?ot+(Ue+"="+Ut+"&"):ot+(Ue+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+T+`
`+ot})}function fd(h,v,T,S,H,X,ot){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+T+`
`+X+" "+ot})}function xs(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cr(h,T)+(S?" "+S:"")})}function _c(h,v){h.info(function(){return"TIMEOUT: "+v})}In.prototype.info=function(){};function Cr(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<H.length;ot++)H[ot]=""}}}}return Kn(T)}catch{return v}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}V(hi,cl),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function on(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var gl={},Ma={};function Yn(h,v,T){h.L=1,h.v=Mr(_n(v)),h.m=T,h.P=!0,qi(h,null)}function qi(h,v){h.F=Date.now(),Ir(h),h.A=_n(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),bl(T.i,"t",S),h.C=0,T=h.j.J,h.h=new pe,h.g=Oc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new hd(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(wr[0]=H.toString()),H=wr);for(var X=0;X<H.length;X++){var ot=pc(T,H[X],S||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Rs(),pl(h.i,h.u,h.A,h.l,h.R,h.m)}on.prototype.ca=function(h){h=h.target;const v=this.M;v&&Mn(h)==3?v.j():this.Y(h)},on.prototype.Y=function(h){try{if(h==this.g)t:{const Ve=Mn(this.g);var v=this.g.Ba();const Wi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||xc(this.g)))){this.J||Ve!=4||v==7||(v==8||0>=Wi?Rs(3):Rs(2)),Is(this);var T=this.g.Z();this.X=T;e:if(Tc(this)){var S=xc(this.g);h="";var H=S.length,X=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),fi(this);var ot="";break e}this.h.i=new d.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(X&&v==H-1)});S.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=T==200,fd(this.i,this.u,this.A,this.l,this.R,Ve,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ne=this.g;if((Lt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Lt)){var Ut=Lt;break e}}Ut=null}if(T=Ut)xs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,T);else{this.o=!1,this.s=3,se(12),qe(this),fi(this);break t}}if(this.P){T=!0;let He;for(;!this.J&&this.C<ot.length;)if(He=Ec(this,ot),He==Ma){Ve==4&&(this.s=4,se(14),T=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(He==gl){this.s=4,se(15),xs(this.i,this.l,ot,"[Invalid Chunk]"),T=!1;break}else xs(this.i,this.l,He,null),Dr(this,He);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||ot.length!=0||this.h.h||(this.s=1,se(16),T=!1),this.o=this.o&&T,!T)xs(this.i,this.l,ot,"[Invalid Chunked Response]"),qe(this),fi(this);else if(0<ot.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),zr(Ue),Ue.M=!0,se(11))}}else xs(this.i,this.l,ot,null),Dr(this,ot);Ve==4&&qe(this),this.o&&!this.J&&(Ve==4?Vc(this.j,this):(this.o=!1,Ir(this)))}else yd(this.g),T==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),qe(this),fi(this)}}}catch{}finally{}};function Tc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ec(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?Ma:(T=Number(v.substring(T,S)),isNaN(T)?gl:(S+=1,S+T>v.length?Ma:(v=v.slice(S,S+T),h.C=S+T,v)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function Ir(h){h.S=Date.now()+h.I,bc(h,h.I)}function bc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(b(h.ba,h),v)}function Is(h){h.B&&(d.clearTimeout(h.B),h.B=null)}on.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(_c(this.i,this.A),this.L!=2&&(Rs(),se(17)),qe(this),this.s=2,fi(this)):bc(this,this.S-h)};function fi(h){h.j.G==0||h.J||Vc(h.j,h)}function qe(h){Is(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Rr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Dr(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||yl(T.h,h))){if(!h.K&&yl(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ga(T),qa(T);else break t;xl(T),se(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=be(b(T.Za,T),6e3));if(1>=Oa(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Xi(T,11)}else if((h.K||T.g==h)&&Ga(T),!q(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let Ut=H[v];if(T.T=Ut[0],Ut=Ut[1],T.G==2)if(Ut[0]=="c"){T.K=Ut[1],T.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(T.la=Ue,T.j.info("VER="+T.la));const Ve=Ut[4];Ve!=null&&(T.Aa=Ve,T.j.info("SVER="+T.Aa));const Wi=Ut[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(S=1.5*Wi,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const He=h.g;if(He){const _i=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var X=S.h;X.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ka(X,X.h),X.h=null))}if(S.D){const Il=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(S.ya=Il,$t(S.I,S.D,Il))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var ot=h;if(S.qa=Pc(S,S.J?S.ia:null,S.W),ot.K){ln(S.h,ot);var Lt=ot,Ne=S.L;Ne&&(Lt.I=Ne),Lt.B&&(Is(Lt),Ir(Lt)),S.g=ot}else Dc(S);0<T.i.length&&Ha(T)}else Ut[0]!="stop"&&Ut[0]!="close"||Xi(T,7);else T.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Xi(T,7):wl(T):Ut[0]!="noop"&&T.l&&T.l.ta(Ut),T.v=0)}}Rs(4)}catch{}}var Ac=class{constructor(h,v){this.g=h,this.map=v}};function Hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Oa(h){return h.h?1:h.g?h.g.size:0}function yl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ka(h,v){h.g?h.g.add(v):h.h=v}function ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Hi.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return B(h.i)}function dd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function La(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function _l(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=La(h),S=dd(h),H=S.length,X=0;X<H;X++)v.call(void 0,S[X],T&&T[X],h)}var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),H=null;if(0<=S){var X=h[T].substring(0,S);H=h[T].substring(S+1)}else X=h[T];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,Vr(this,h.j),this.o=h.o,this.g=h.g,Ds(this,h.s),this.l=h.l;var v=h.i,T=new Ki;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Gi(this,T),this.m=h.m}else h&&(v=String(h).match(Nr))?(this.h=!1,Vr(this,v[1]||"",!0),this.o=Dn(v[2]||""),this.g=Dn(v[3]||"",!0),Ds(this,v[4]),this.l=Dn(v[5]||"",!0),Gi(this,v[6]||"",!0),this.m=Dn(v[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Ae.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Pr(v,Tl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Pr(v,Tl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Pr(T,T.charAt(0)=="/"?pd:El,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Pr(T,Ua)),h.join("")};function _n(h){return new Ae(h)}function Vr(h,v,T){h.j=T?Dn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ds(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Gi(h,v,T){v instanceof Ki?(h.i=v,wc(h.i,h.h)):(T||(v=Pr(v,gd)),h.i=new Ki(v,h.h))}function $t(h,v,T){h.i.set(v,T)}function Mr(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Dn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Sc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Tl=/[#\/\?@]/g,El=/[#\?:]/g,pd=/[#\?]/g,gd=/[#\?@]/g,Ua=/#/g;function Ki(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&md(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Ki.prototype,e.add=function(h,v){Nn(this),this.i=null,h=di(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Yi(h,v){Nn(h),v=di(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function $i(h,v){return Nn(h),v=di(h,v),h.g.has(v)}e.forEach=function(h,v){Nn(this),this.g.forEach(function(T,S){T.forEach(function(H){h.call(v,H,S,this)},this)},this)},e.na=function(){Nn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const H=h[S];for(let X=0;X<H.length;X++)T.push(v[S])}return T},e.V=function(h){Nn(this);let v=[];if(typeof h=="string")$i(this,h)&&(v=v.concat(this.g.get(di(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return Nn(this),this.i=null,h=di(this,h),$i(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function bl(h,v,T){Yi(h,v),0<T.length&&(h.i=null,h.g.set(di(h,v),B(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const X=encodeURIComponent(String(S)),ot=this.V(S);for(S=0;S<ot.length;S++){var H=X;ot[S]!==""&&(H+="="+encodeURIComponent(String(ot[S]))),h.push(H)}}return this.i=h.join("&")};function di(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function wc(h,v){v&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(T,S){var H=S.toLowerCase();S!=H&&(Yi(this,S),bl(this,H,T))},h)),h.j=v}function Or(h,v){const T=new In;if(d.Image){const S=new Image;S.onload=x(Vn,T,"TestLoadImage: loaded",!0,v,S),S.onerror=x(Vn,T,"TestLoadImage: error",!1,v,S),S.onabort=x(Vn,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=x(Vn,T,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function $n(h,v){const T=new In,S=new AbortController,H=setTimeout(()=>{S.abort(),Vn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(H),X.ok?Vn(T,"TestPingServer: ok",!0,v):Vn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Vn(T,"TestPingServer: error",!1,v)})}function Vn(h,v,T,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(T)}catch{}}function kr(){this.g=new xr}function mi(h,v,T){const S=T||"";try{_l(h,function(H,X){let ot=H;p(H)&&(ot=Kn(H)),v.push(S+X+"="+encodeURIComponent(ot))})}catch(H){throw v.push(S+"type="+encodeURIComponent("_badmap")),H}}function Ns(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Ns,cl),Ns.prototype.g=function(){return new Qi(this.l,this.j)},Ns.prototype.i=(function(h){return function(){return h}})({});function Qi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Qi,he),e=Qi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,gi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?pi(this):gi(this),this.readyState==3&&Al(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},e.Qa=function(h){this.g&&(this.response=h,pi(this))},e.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Sl(h){let v="";return mt(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function Le(h,v,T){t:{for(S in T){var S=!1;break t}S=!0}S||(T=Sl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):$t(h,v,T))}function qt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(qt,he);var ja=/^https?$/i,Lr=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?hl(this.o):hl(ci),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Rc(this,X);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)T.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())T.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Lr,v,void 0))||S||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of T)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ur(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Rc(this,X)}};function Rc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ba(h),yi(h)}function Ba(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),yi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},e.bb=function(){za(this)};function za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var S;if(S=ot===0){var H=String(h.D).match(Nr)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),S=!ja.test(H?H.toLowerCase():"")}T=S}if(T)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var X=2<Mn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ba(h)}}finally{yi(h)}}}}function yi(h,v){if(h.g){Ur(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Gt(h,"ready");try{T.onreadystatechange=S}catch{}}}function Ur(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Na(v)}};function xc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yd(h){const v={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(q(h[S]))continue;var T=U(h[S]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[H]||[];v[H]=X,X.push(T)}P(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Fa(h){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,h),this.cb=jr("retryDelaySeedMs",1e4,h),this.Wa=jr("forwardChannelMaxRetries",2,h),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Da=new kr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Fa.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,S){se(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=Pc(this,null,this.W),Ha(this)};function wl(h){if(Cc(h),h.G==3){var v=h.U++,T=_n(h.I);if($t(T,"SID",h.K),$t(T,"RID",v),$t(T,"TYPE","terminate"),Br(h,T),v=new on(h,h.j,v),v.L=2,v.v=Mr(_n(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=v.v,T=!0),T||(v.g=Oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ir(v)}Mc(h)}function qa(h){h.g&&(zr(h),h.g.cancel(),h.g=null)}function Cc(h){qa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ha(h){if(!Pa(h.h)&&!h.s){h.s=!0;var v=h.Ga;rt||M(),ht||(rt(),ht=!0),Ct.add(v,h),h.B=0}}function vd(h,v){return Oa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(b(h.Ga,h,v),Cl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new on(this,this.j,h);let X=this.o;if(this.S&&(X?(X=R(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Ic(this,H,v),T=_n(this.I),$t(T,"RID",h),$t(T,"CVER",22),this.D&&$t(T,"X-HTTP-Session-Id",this.D),Br(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(Sl(X)))+"&"+v:this.m&&Le(T,this.m,X)),ka(this.h,H),this.Ua&&$t(T,"TYPE","init"),this.P?($t(T,"$req",v),$t(T,"SID","null"),H.T=!0,Yn(H,T,null)):Yn(H,T,v),this.G=2}}else this.G==3&&(h?Rl(this,h):this.i.length==0||Pa(this.h)||Rl(this))};function Rl(h,v){var T;v?T=v.l:T=h.U++;const S=_n(h.I);$t(S,"SID",h.K),$t(S,"RID",T),$t(S,"AID",h.T),Br(h,S),h.m&&h.o&&Le(S,h.m,h.o),T=new on(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ic(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ka(h.h,T),Yn(T,S,v)}function Br(h,v){h.H&&mt(h.H,function(T,S){$t(v,S,T)}),h.l&&_l({},function(T,S){$t(v,S,T)})}function Ic(h,v,T){T=Math.min(h.i.length,T);var S=h.l?b(h.l.Na,h.l,h):null;t:{var H=h.i;let X=-1;for(;;){const ot=["count="+T];X==-1?0<T?(X=H[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let Lt=!0;for(let Ne=0;Ne<T;Ne++){let Ut=H[Ne].g;const Ue=H[Ne].map;if(Ut-=X,0>Ut)X=Math.max(0,H[Ne].g-100),Lt=!1;else try{mi(Ue,ot,"req"+Ut+"_")}catch{S&&S(Ue)}}if(Lt){S=ot.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,S}function Dc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;rt||M(),ht||(rt(),ht=!0),Ct.add(v,h),h.v=0}}function xl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(b(h.Fa,h),Cl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),qa(this),Nc(this))};function zr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Nc(h){h.g=new on(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=_n(h.qa);$t(v,"RID","rpc"),$t(v,"SID",h.K),$t(v,"AID",h.T),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(v,"TO",h.ja),$t(v,"TYPE","xmlhttp"),Br(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Mr(_n(v)),T.m=null,T.P=!0,qi(T,h)}e.Za=function(){this.C!=null&&(this.C=null,qa(this),xl(this),se(19))};function Ga(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Vc(h,v){var T=null;if(h.g==v){Ga(h),zr(h),h.g=null;var S=2}else if(yl(h.h,v))T=v.D,ln(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;S=ws(),Gt(S,new De(S,T)),Ha(h)}else Dc(h);else if(H=v.s,H==3||H==0&&0<v.X||!(S==1&&vd(h,v)||S==2&&xl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),H){case 1:Xi(h,5);break;case 4:Xi(h,10);break;case 3:Xi(h,6);break;default:Xi(h,2)}}}function Cl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Xi(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),S=h.Xa;const H=!S;S=new Ae(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Vr(S,"https"),Mr(S),H?Or(S.toString(),T):$n(S.toString(),T)}else se(2);h.G=0,h.l&&h.l.sa(v),Mc(h),Cc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Mc(h){if(h.G=0,h.ka=[],h.l){const v=vl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Pc(h,v,T){var S=T instanceof Ae?_n(T):new Ae(T);if(S.g!="")v&&(S.g=v+"."+S.g),Ds(S,S.s);else{var H=d.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new Ae(null);S&&Vr(X,S),v&&(X.g=v),H&&Ds(X,H),T&&(X.l=T),S=X}return T=h.D,v=h.ya,T&&v&&$t(S,T,v),$t(S,"VER",h.la),Br(h,S),S}function Oc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new Ns({eb:T})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}e=kc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ka(){}Ka.prototype.g=function(h,v){return new un(h,v)};function un(h,v){he.call(this),this.g=new Fa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new vi(this)}V(un,he),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){wl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Kn(h),h=T);v.i.push(new Ac(v.Ya++,h)),v.G==3&&Ha(v)},un.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,un.aa.N.call(this)};function Lc(h){zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(Lc,zi);function Uc(){dl.call(this),this.status=1}V(Uc,dl);function vi(h){this.g=h}V(vi,kc),vi.prototype.ua=function(){Gt(this.g,"a")},vi.prototype.ta=function(h){Gt(this.g,new Lc(h))},vi.prototype.sa=function(h){Gt(this.g,new Uc)},vi.prototype.ra=function(){Gt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vA=function(){return new Ka},yA=function(){return ws()},gA=ui,Wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Wh=Cs,Fi.COMPLETE="complete",pA=Fi,fl.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",he.prototype.listen=he.prototype.K,_u=fl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,mA=qt}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore",lE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Yg("@firebase/firestore");function bo(){return va.logLevel}function ft(e,...t){if(va.logLevel<=Pt.DEBUG){const n=t.map(Xg);va.debug(`Firestore (${Wo}): ${e}`,...n)}}function vs(e,...t){if(va.logLevel<=Pt.ERROR){const n=t.map(Xg);va.error(`Firestore (${Wo}): ${e}`,...n)}}function Lo(e,...t){if(va.logLevel<=Pt.WARN){const n=t.map(Xg);va.warn(`Firestore (${Wo}): ${e}`,...n)}}function Xg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,_A(e,s,n)}function _A(e,t,n){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vs(s),new Error(s)}function Ht(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||_A(t,a,s)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends As{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class ZD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JD{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ps,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ps)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new TA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class tN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new tN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=iN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Ot(e,t){return e<t?-1:e>t?1:0}function Zp(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return bp(a)===bp(l)?Ot(a,l):bp(a)?1:-1}return Ot(e.length,t.length)}const sN=55296,rN=57343;function bp(e){const t=e.charCodeAt(0);return t>=sN&&t<=rN}function Uo(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class wi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=wi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ot(t.length,n.length)}static compareSegments(t,n){const s=wi.isNumericId(t),a=wi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?wi.extractNumericId(t).compare(wi.extractNumericId(n)):Zp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class ee extends wi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const aN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends wi{construct(t,n,s){return new Xe(t,n,s)}static isValidIdentifier(t){return aN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Xe([cE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(e,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oN(e,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hE(e){if(!gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fE(e){if(gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function bA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Bf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function ii(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(e);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t){const n={typeString:e};return t&&(n.value=t),n}function ic(e,t){if(!bA(e))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,mE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*mE);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<dE)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ic(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ie(0,0))}static max(){return new wt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function lN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new cr(a,gt.empty(),t)}function uN(e){return new cr(e.readTime,e.key,Lu)}class cr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new cr(wt.min(),gt.empty(),Lu)}static max(){return new cr(wt.max(),gt.empty(),Lu)}}function cN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==hN)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((a=>a?nt.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new nt(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function dN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=-1;function Ff(e){return e==null}function pf(e){return e===0&&1/e==-1/0}function mN(e){return typeof e=="number"&&Number.isInteger(e)&&!pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="";function pN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=pE(t)),t=gN(e.get(n),t);return pE(t)}function gN(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case AA:n+="";break;default:n+=l}}return n}function pE(e){return e+AA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function SA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zh(this.root,t,this.comparator,!0)}}class zh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Qe(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(t){return new yE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class yE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new ei([])}unionWith(t){let n=new Oe(Xe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ei(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Uo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wA("Invalid base64 string: "+l):l}})(t);return new We(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(e){if(Ht(!!e,39018),typeof e=="string"){let t=0;const n=yN.exec(e);if(Ht(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fr(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="server_timestamp",xA="__type__",CA="__previous_value__",IA="__local_write_time__";function Jg(e){return(e?.mapValue?.fields||{})[xA]?.stringValue===RA}function qf(e){const t=e.mapValue.fields[CA];return Jg(t)?qf(t):t}function Uu(e){const t=hr(e.mapValue.fields[IA].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n,s,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const gf="(default)";class ju{constructor(t,n){this.projectId=t,this.database=n||gf}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===gf}isEqual(t){return t instanceof ju&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="__type__",_N="__max__",Fh={mapValue:{}},NA="__vector__",yf="value";function dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jg(e)?4:EN(e)?9007199254740991:TN(e)?10:11:Tt(28295,{value:e})}function ki(e,t){if(e===t)return!0;const n=dr(e);if(n!==dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uu(e).isEqual(Uu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=hr(a.timestampValue),d=hr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return fr(a.bytesValue).isEqual(fr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?pf(c)===pf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Uo(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(gE(c)!==gE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ki(c[m],d[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function Bu(e,t){return(e.values||[]).find((n=>ki(n,t)))!==void 0}function jo(e,t){if(e===t)return 0;const n=dr(e),s=dr(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return vE(e.timestampValue,t.timestampValue);case 4:return vE(Uu(e),Uu(t));case 5:return Zp(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=fr(l),m=fr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Ot(d[p],m[p]);if(y!==0)return y}return Ot(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ot(_e(l.latitude),_e(c.latitude));return d!==0?d:Ot(_e(l.longitude),_e(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return _E(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[yf]?.arrayValue,y=m[yf]?.arrayValue,_=Ot(p?.values?.length||0,y?.values?.length||0);return _!==0?_:_E(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===Fh.mapValue&&c===Fh.mapValue)return 0;if(l===Fh.mapValue)return 1;if(c===Fh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Zp(m[_],y[_]);if(b!==0)return b;const x=jo(d[m[_]],p[y[_]]);if(x!==0)return x}return Ot(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function vE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ot(e,t);const n=hr(e),s=hr(t),a=Ot(n.seconds,s.seconds);return a!==0?a:Ot(n.nanos,s.nanos)}function _E(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=jo(n[a],s[a]);if(l)return l}return Ot(n.length,s.length)}function Bo(e){return Jp(e)}function Jp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=hr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return fr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return gt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Jp(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Jp(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function Zh(e){switch(dr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(e);return t?16+Zh(t):16;case 5:return 2*e.stringValue.length;case 6:return fr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Zh(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return Sa(s.fields,((l,c)=>{a+=l.length+Zh(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function TE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tg(e){return!!e&&"integerValue"in e}function ty(e){return!!e&&"arrayValue"in e}function EE(e){return!!e&&"nullValue"in e}function bE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jh(e){return!!e&&"mapValue"in e}function TN(e){return(e?.mapValue?.fields||{})[DA]?.stringValue===NA}function wu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Sa(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=wu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wu(e.arrayValue.values[n]);return t}return{...e}}function EN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Jh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wu(n)}setAll(t){let n=Xe.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=wu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Sa(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new qn(wu(this.value))}}function VA(e){const t=[];return Sa(e.fields,((n,s)=>{const a=new Xe([n]);if(Jh(s)){const l=VA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new ei(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,wt.min(),wt.min(),wt.min(),qn.empty(),0)}static newFoundDocument(t,n,s,a){return new sn(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new sn(t,2,n,wt.min(),wt.min(),qn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,wt.min(),wt.min(),qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,n){this.position=t,this.inclusive=n}}function AE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=gt.comparator(gt.fromName(c.referenceValue),n.key):s=jo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n="asc"){this.field=t,this.dir=n}}function bN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{}class Ce extends MA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new SN(t,n,s):n==="array-contains"?new xN(t,s):n==="in"?new CN(t,s):n==="not-in"?new IN(t,s):n==="array-contains-any"?new DN(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wN(t,s):new RN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends MA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ri(t,n)}matches(t){return PA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PA(e){return e.op==="and"}function OA(e){return AN(e)&&PA(e)}function AN(e){for(const t of e.filters)if(t instanceof ri)return!1;return!0}function eg(e){if(e instanceof Ce)return e.field.canonicalString()+e.op.toString()+Bo(e.value);if(OA(e))return e.filters.map((t=>eg(t))).join(",");{const t=e.filters.map((n=>eg(n))).join(",");return`${e.op}(${t})`}}function kA(e,t){return e instanceof Ce?(function(s,a){return a instanceof Ce&&s.op===a.op&&s.field.isEqual(a.field)&&ki(s.value,a.value)})(e,t):e instanceof ri?(function(s,a){return a instanceof ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&kA(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function LA(e){return e instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(e):e instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(LA).join(" ,")+"}"})(e):"Filter"}class SN extends Ce{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wN extends Ce{constructor(t,n){super(t,"in",n),this.keys=UA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class RN extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=UA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function UA(e,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class xN extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ty(n)&&Bu(n.arrayValue,this.value)}}class CN extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class IN extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bu(this.value.arrayValue,n)}}class DN extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Bu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function wE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new NN(e,t,n,s,a,l,c)}function ey(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>eg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ff(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Bo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Bo(s))).join(",")),t.Te=n}return t.Te}function ny(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!SE(e.startAt,t.startAt)&&SE(e.endAt,t.endAt)}function ng(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VN(e,t,n,s,a,l,c,d){return new tl(e,t,n,s,a,l,c,d)}function Hf(e){return new tl(e)}function RE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jA(e){return e.collectionGroup!==null}function Ru(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(Xe.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new zu(l,s))})),n.has(Xe.keyField().canonicalString())||t.Ie.push(new zu(Xe.keyField(),s))}return t.Ie}function Ri(e){const t=Rt(e);return t.Ee||(t.Ee=MN(t,Ru(e))),t.Ee}function MN(e,t){if(e.limitType==="F")return wE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new zu(a.field,l)}));const n=e.endAt?new vf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new vf(e.startAt.position,e.startAt.inclusive):null;return wE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function ig(e,t){const n=e.filters.concat([t]);return new tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sg(e,t,n){return new tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gf(e,t){return ny(Ri(e),Ri(t))&&e.limitType===t.limitType}function BA(e){return`${ey(Ri(e))}|lt:${e.limitType}`}function Ao(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>LA(a))).join(", ")}]`),Ff(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Bo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Bo(a))).join(",")),`Target(${s})`})(Ri(e))}; limitType=${e.limitType})`}function Kf(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):gt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Ru(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=AE(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Ru(s),a)||s.endAt&&!(function(c,d,m){const p=AE(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Ru(s),a))})(e,t)}function PN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zA(e){return(t,n)=>{let s=!1;for(const a of Ru(e)){const l=ON(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function ON(e,t,n){const s=e.field.isKeyField()?gt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?jo(m,p):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new ce(gt.comparator);function _s(){return kN}const FA=new ce(gt.comparator);function Tu(...e){let t=FA;for(const n of e)t=t.insert(n.key,n);return t}function qA(e){let t=FA;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function oa(){return xu()}function HA(){return xu()}function xu(){return new wa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const LN=new ce(gt.comparator),UN=new Oe(gt.comparator);function kt(...e){let t=UN;for(const n of e)t=t.add(n);return t}const jN=new Oe(Ot);function BN(){return jN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(t)?"-0":t}}function GA(e){return{integerValue:""+e}}function zN(e,t){return mN(t)?GA(t):iy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function FN(e,t,n){return e instanceof Fu?(function(a,l){const c={fields:{[xA]:{stringValue:RA},[IA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jg(l)&&(l=qf(l)),l&&(c.fields[CA]=l),{mapValue:c}})(n,t):e instanceof qu?YA(e,t):e instanceof Hu?$A(e,t):(function(a,l){const c=KA(a,l),d=xE(c)+xE(a.Ae);return tg(c)&&tg(a.Ae)?GA(d):iy(a.serializer,d)})(e,t)}function qN(e,t,n){return e instanceof qu?YA(e,t):e instanceof Hu?$A(e,t):n}function KA(e,t){return e instanceof _f?(function(s){return tg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Fu extends Yf{}class qu extends Yf{constructor(t){super(),this.elements=t}}function YA(e,t){const n=QA(t);for(const s of e.elements)n.some((a=>ki(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Hu extends Yf{constructor(t){super(),this.elements=t}}function $A(e,t){let n=QA(t);for(const s of e.elements)n=n.filter((a=>!ki(a,s)));return{arrayValue:{values:n}}}class _f extends Yf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xE(e){return _e(e.integerValue||e.doubleValue)}function QA(e){return ty(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,n){this.field=t,this.transform=n}}function GN(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof qu&&a instanceof qu||s instanceof Hu&&a instanceof Hu?Uo(s.elements,a.elements,ki):s instanceof _f&&a instanceof _f?ki(s.Ae,a.Ae):s instanceof Fu&&a instanceof Fu})(e.transform,t.transform)}class KN{constructor(t,n){this.version=t,this.transformResults=n}}class xi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $f{}function XA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ZA(e.key,xi.none()):new sc(e.key,e.data,xi.none());{const n=e.data,s=qn.empty();let a=new Oe(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ra(e.key,s,new ei(a.toArray()),xi.none())}}function YN(e,t,n){e instanceof sc?(function(a,l,c){const d=a.value.clone(),m=IE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Ra?(function(a,l,c){if(!tf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=IE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(WA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Cu(e,t,n,s){return e instanceof sc?(function(l,c,d,m){if(!tf(l.precondition,c))return d;const p=l.value.clone(),y=DE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ra?(function(l,c,d,m){if(!tf(l.precondition,c))return d;const p=DE(l.fieldTransforms,m,c),y=c.data;return y.setAll(WA(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return tf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function $N(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=KA(s.transform,a||null);l!=null&&(n===null&&(n=qn.empty()),n.set(s.field,l))}return n||null}function CE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Uo(s,a,((l,c)=>GN(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sc extends $f{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ra extends $f{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WA(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function IE(e,t,n){const s=new Map;Ht(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,qN(c,d,n[a]))}return s}function DE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,FN(l,c,t))}return s}class ZA extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QN extends $f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&YN(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Cu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Cu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=HA();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=XA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Uo(this.mutations,t.mutations,((n,s)=>CE(n,s)))&&Uo(this.baseMutations,t.baseMutations,((n,s)=>CE(n,s)))}}class sy{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return LN})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new sy(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function JN(e){switch(e){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function JA(e){if(e===void 0)return vs("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:e})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new lr([4294967295,4294967295],0);function NE(e){const t=tV().encode(e),n=new dA;return n.update(t),new Uint8Array(n.digest())}function VE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new lr([n,s],0),new lr([a,l],0)]}class ry{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(s<0)throw new Eu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=lr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(lr.fromNumber(s)));return a.compare(eV)===1&&(a=new lr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=NE(t),[s,a]=VE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new ry(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=NE(t),[s,a]=VE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,rc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qf(wt.min(),a,new ce(Ot),_s(),kt())}}class rc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new rc(s,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class tS{constructor(t,n){this.targetId=t,this.Ce=n}}class eS{constructor(t,n,s=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ME{constructor(){this.ve=0,this.Fe=PE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),s=kt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new rc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=PE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nV{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.Je=qh(),this.He=qh(),this.Ye=new ce(Ot)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ng(l))if(s===0){const c=new gt(l.path);this.et(n,c,sn.newNoDocument(c,wt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=fr(s).toUint8Array()}catch(m){if(m instanceof wA)return Lo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ry(c,a,l)}catch(m){return Lo(m instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ng(d.target)){const m=new gt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,sn.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=kt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Qf(t,n,this.Ye,this.je,s);return this.je=_s(),this.Je=qh(),this.He=qh(),this.Ye=new ce(Ot),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new ME,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Oe(Ot),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Oe(Ot),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ME),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function qh(){return new ce(gt.comparator)}function PE(){return new ce(gt.comparator)}const iV={asc:"ASCENDING",desc:"DESCENDING"},sV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rV={and:"AND",or:"OR"};class aV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function rg(e,t){return e.useProto3Json||Ff(t)?t:{value:t}}function Tf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oV(e,t){return Tf(e,t.toTimestamp())}function Ci(e){return Ht(!!e,49232),wt.fromTimestamp((function(n){const s=hr(n);return new ie(s.seconds,s.nanos)})(e))}function ay(e,t){return ag(e,t).canonicalString()}function ag(e,t){const n=(function(a){return new ee(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function iS(e){const t=ee.fromString(e);return Ht(lS(t),10190,{key:t.toString()}),t}function og(e,t){return ay(e.databaseId,t.path)}function Ap(e,t){const n=iS(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(rS(n))}function sS(e,t){return ay(e.databaseId,t)}function lV(e){const t=iS(e);return t.length===4?ee.emptyPath():rS(t)}function lg(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rS(e){return Ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function OE(e,t,n){return{name:og(e,t),fields:n.value.mapValue.fields}}function uV(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ht(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(Ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?tt.UNKNOWN:JA(p.code);return new ct(y,p.message||"")})(c);n=new eS(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ap(e,s.document.name),l=Ci(s.document.updateTime),c=s.document.createTime?Ci(s.document.createTime):wt.min(),d=new qn({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new ef(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Ap(e,s.document),l=s.readTime?Ci(s.readTime):wt.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new ef([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Ap(e,s.document),l=s.removedTargetIds||[];n=new ef([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new ZN(a,l),d=s.targetId;n=new tS(d,c)}}return n}function cV(e,t){let n;if(t instanceof sc)n={update:OE(e,t.key,t.value)};else if(t instanceof ZA)n={delete:og(e,t.key)};else if(t instanceof Ra)n={update:OE(e,t.key,t.data),updateMask:_V(t.fieldMask)};else{if(!(t instanceof QN))return Tt(16599,{Vt:t.type});n={verify:og(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof qu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _f)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:oV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function hV(e,t){return e&&e.length>0?(Ht(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Ci(a.updateTime):Ci(l);return c.isEqual(wt.min())&&(c=Ci(l)),new KN(c,a.transformResults||[])})(n,t)))):[]}function fV(e,t){return{documents:[sS(e,t.path)]}}function dV(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sS(e,a);const l=(function(p){if(p.length!==0)return oS(ri.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:So(b.field),direction:gV(b.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=rg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function mV(e){let t=lV(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ht(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const b=aS(_);return b instanceof ri&&OA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((b=>(function(V){return new zu(wo(V.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let b;return b=typeof _=="object"?_.value:_,Ff(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(_){const b=!!_.before,x=_.values||[];return new vf(x,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const b=!_.before,x=_.values||[];return new vf(x,b)})(n.endAt)),VN(t,a,c,l,d,"F",m,p)}function pV(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function aS(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=wo(n.unaryFilter.field);return Ce.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(n.unaryFilter.field);return Ce.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wo(n.unaryFilter.field);return Ce.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ce.create(wo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>aS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function gV(e){return iV[e]}function yV(e){return sV[e]}function vV(e){return rV[e]}function So(e){return{fieldPath:e.canonicalString()}}function wo(e){return Xe.fromServerFormat(e.fieldPath)}function oS(e){return e instanceof Ce?(function(n){if(n.op==="=="){if(bE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:yV(n.op),value:n.value}}})(e):e instanceof ri?(function(n){const s=n.getFilters().map((a=>oS(a)));return s.length===1?s[0]:{compositeFilter:{op:vV(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function _V(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function lS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t){this.yt=t}}function EV(e){const t=mV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?sg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Cn=new AV}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(cr.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class AV{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Oe(ee.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uS=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(uS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",SV=1048576;function UE([e,t],[n,s]){const a=Ot(e,n);return a===0?Ot(t,s):a}class wV{constructor(t){this.Ir=t,this.buffer=new Oe(UE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();UE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RV{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(LE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?ft(LE,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Vr(3e5)}))}}class xV{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(zf.ce);const s=new wV(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(kE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),bo()<=Pt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function CV(e,t){return new xV(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.changes=new wa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Cu(s.mutation,a,ei.empty(),ie.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=kt()){const a=oa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Tu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=oa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,kt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=_s();const c=xu(),d=(function(){return xu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ra)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Cu(y.mutation,p,y.mutation.getFieldMask(),ie.now())):c.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new DV(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=xu();let a=new ce(((c,d)=>c-d)),l=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||ei.empty();y=d.applyToLocalView(p,y),s.set(m,y);const _=(a.get(d.batchId)||kt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=HA();y.forEach((b=>{if(!l.has(b)){const x=XA(n.get(b),s.get(b));x!==null&&_.set(b,x),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):jA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):nt.resolve(oa());let d=Lu,m=l;return c.next((p=>nt.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,kt()))).next((y=>({batchId:d,changes:qA(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let a=Tu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(t,l).next((d=>nt.forEach(d,(m=>{const p=(function(_,b){return new tl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))}));let d=Tu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Cu(y.mutation,p,ei.empty(),ie.now()),Kf(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:EV(a.bundledQuery),readTime:Ci(a.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.overlays=new ce(gt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=oa();return nt.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const a=oa(),l=n.length+1,c=new gt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ce(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=oa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=oa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return nt.resolve(d)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new WN(n,s));let l=this.qr.get(n);l===void 0&&(l=kt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Qr=new Oe(Fe.$r),this.Ur=new Oe(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Fe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ee([])),s=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ee([])),s=new Fe(n,t),a=new Fe(n,t+1);let l=kt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Fe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Ot(t.Yr,n.Yr)}static Kr(t,n){return Ot(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Fe.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XN(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Fe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Zg:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Oe(Ot);return n.forEach((a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;gt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new gt(l),0);let d=new Oe(Ot);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),nt.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(a=>{const l=new Fe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Fe(n,0),a=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t){this.ri=t,this.docs=(function(){return new ce(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=_s();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=_s();const c=n.path,d=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||cN(uN(y),s)<=0||(a.has(y.key)||Kf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new LV(this)}getSize(t){return nt.resolve(this.size)}}class LV extends IV{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t){this.persistence=t,this.si=new wa((n=>ey(n)),ny),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new oy,this.targetCount=0,this.ai=zo.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),nt.waitFor(l).next((()=>a))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new PV,this.referenceDelegate=t(this),this.Pi=new UV(this),this.indexManager=new bV,this.remoteDocumentCache=(function(a){return new kV(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new TV(n),this.Ii=new VV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new MV,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new OV(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new jV(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class jV extends fN{constructor(t){super(),this.currentSequenceNumber=t}}class ly{constructor(t){this.persistence=t,this.Ri=new oy,this.Vi=null}static mi(t){return new ly(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const a=gt.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ef{constructor(t,n){this.persistence=t,this.pi=new wa((s=>pN(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=CV(this,n)}static mi(t,n){return new Ef(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?nt.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zh(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=kt(),a=kt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new uy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MI()?8:dN(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BV;return this.Ss(t,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(bo()<=Pt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(bo()<=Pt.DEBUG&&ft("QueryEngine","Query:",Ao(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(bo()<=Pt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):nt.resolve())}ys(t,n){if(RE(n))return nt.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=sg(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=kt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(t,sg(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,s,a){return RE(n)||a.isEqual(wt.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?nt.resolve(null):(bo()<=Pt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ao(n)),this.vs(t,c,n,lN(a,Lu)).next((d=>d)))}))}Ds(t,n){let s=new Oe(zA(t));return n.forEach(((a,l)=>{Kf(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return bo()<=Pt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.ps.getDocumentsMatchingQuery(t,n,cr.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LocalStore",FV=3e8;class qV{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ce(Ot),this.xs=new wa((l=>ey(l)),ny),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function HV(e,t,n,s){return new qV(e,t,n,s)}async function hS(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=kt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function GV(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const _=p.batch,b=_.keys();let x=nt.resolve();return b.forEach((V=>{x=x.next((()=>y.getEntry(m,V))).next((B=>{const N=p.docVersions.get(V);Ht(N!==null,48541),B.version.compareTo(N)<0&&(_.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=kt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function fS(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function KV(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,s)),a=a.insert(_,x),(function(B,N,j){return B.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=FV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,x,y)&&d.push(n.Pi.updateTargetData(l,x))}));let m=_s(),p=kt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(YV(l,c,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(wt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return nt.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function YV(e,t,n){let s=kt(),a=kt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=_s();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(cy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function $V(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function QV(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,nt.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new sr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function ug(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Jo(c))throw c;ft(cy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function jE(e,t,n){const s=Rt(e);let a=wt.min(),l=kt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Rt(m),b=_.xs.get(y);return b!==void 0?nt.resolve(_.Ms.get(b)):_.Pi.getTargetData(p,y)})(s,c,Ri(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:kt()))).next((d=>(XV(s,PN(t),d),{documents:d,Qs:l})))))}function XV(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class BE{constructor(){this.activeTargetIds=BN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class WV{constructor(){this.Mo=new BE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new BE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class FE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(zE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(zE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function cg(){return Hh===null?Hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RestConnection",JV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=cg(),d=this.zo(t,n.toUriEncodedString());ft(Sp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=Qo(p);return this.Jo(t,d,m,s,y).then((_=>(ft(Sp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Lo(Sp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=JV[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class nM extends tM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=cg();return new Promise(((d,m)=>{const p=new mA;p.setWithCredentials(!0),p.listenOnce(pA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Wh.NO_ERROR:const _=p.getResponseJson();ft(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Wh.TIMEOUT:ft(en,`RPC '${t}' ${c} timed out`),m(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const b=p.getStatus();if(ft(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x?.error;if(V&&V.status&&V.message){const B=(function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(q)>=0?q:tt.UNKNOWN})(V.status);m(new ct(B,V.message))}else m(new ct(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ft(en,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ft(en,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=cg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=vA(),d=yA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,x=!1;const V=new eM({Yo:N=>{x?ft(en,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(b||(ft(en,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ft(en,`RPC '${t}' stream ${a} sending:`,N),_.send(N))},Zo:()=>_.close()}),B=(N,j,q)=>{N.listen(j,(Y=>{try{q(Y)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return B(_,_u.EventType.OPEN,(()=>{x||(ft(en,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),B(_,_u.EventType.CLOSE,(()=>{x||(x=!0,ft(en,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(_))})),B(_,_u.EventType.ERROR,(N=>{x||(x=!0,Lo(en,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),V.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),B(_,_u.EventType.MESSAGE,(N=>{if(!x){const j=N.data[0];Ht(!!j,16349);const q=j,Y=q?.error||q[0]?.error;if(Y){ft(en,`RPC '${t}' stream ${a} received error:`,Y);const lt=Y.status;let it=(function(R){const C=Re[R];if(C!==void 0)return JA(C)})(lt),mt=Y.message;it===void 0&&(it=tt.INTERNAL,mt="Unknown error status: "+lt+" with message "+Y.message),x=!0,V.a_(new ct(it,mt)),_.close()}else ft(en,`RPC '${t}' stream ${a} received:`,j),V.u_(j)}})),B(d,gA.STAT_EVENT,(N=>{N.stat===Wp.PROXY?ft(en,`RPC '${t}' stream ${a} detected buffering proxy`):N.stat===Wp.NOPROXY&&ft(en,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(e){return new aV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class mS{constructor(t,n,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(qE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iM extends mS{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=uV(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Ci(c.readTime):wt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=lg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=ng(m)?{documents:fV(l,m)}:{query:dV(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nS(l,c.resumeToken);const p=rg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=Tf(l,c.snapshotVersion.toTimestamp());const p=rg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const s=pV(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=lg(this.serializer),n.removeTarget=t,this.q_(n)}}class sM extends mS{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=hV(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=lg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>cV(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{}class aM extends rM{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,ag(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(tt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,ag(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class lM{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{xa(this)&&(ft(_a,"Restarting streams for network reachability change."),await(async function(m){const p=Rt(m);p.Ea.add(4),await ac(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Wf(p)})(this))}))})),this.Ra=new oM(s,a)}}async function Wf(e){if(xa(e))for(const t of e.da)await t(!0)}async function ac(e){for(const t of e.da)await t(!1)}function pS(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),my(n)?dy(n):el(n).O_()&&fy(n,t))}function hy(e,t){const n=Rt(e),s=el(n);n.Ia.delete(t),s.O_()&&gS(n,t),n.Ia.size===0&&(s.O_()?s.L_():xa(n)&&n.Ra.set("Unknown"))}function fy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}el(e).Y_(t)}function gS(e,t){e.Va.Ue(t),el(e).Z_(t)}function dy(e){e.Va=new nV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),el(e).start(),e.Ra.ua()}function my(e){return xa(e)&&!el(e).x_()&&e.Ia.size>0}function xa(e){return Rt(e).Ea.size===0}function yS(e){e.Va=void 0}async function uM(e){e.Ra.set("Online")}async function cM(e){e.Ia.forEach(((t,n)=>{fy(e,t)}))}async function hM(e,t){yS(e),my(e)?(e.Ra.ha(t),dy(e)):e.Ra.set("Unknown")}async function fM(e,t,n){if(e.Ra.set("Online"),t instanceof eS&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(e,t)}catch(s){ft(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await bf(e,s)}else if(t instanceof ef?e.Va.Ze(t):t instanceof tS?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await fS(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),gS(l,m);const _=new sr(y.target,m,p,y.sequenceNumber);fy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ft(_a,"Failed to raise snapshot:",s),await bf(e,s)}}async function bf(e,t,n){if(!Jo(t))throw t;e.Ea.add(1),await ac(e),e.Ra.set("Offline"),n||(n=()=>fS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(_a,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Wf(e)}))}function vS(e,t){return t().catch((n=>bf(e,n,t)))}async function Zf(e){const t=Rt(e),n=mr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zg;for(;dM(t);)try{const a=await $V(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,mM(t,a)}catch(a){await bf(t,a)}_S(t)&&TS(t)}function dM(e){return xa(e)&&e.Ta.length<10}function mM(e,t){e.Ta.push(t);const n=mr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _S(e){return xa(e)&&!mr(e).x_()&&e.Ta.length>0}function TS(e){mr(e).start()}async function pM(e){mr(e).ra()}async function gM(e){const t=mr(e);for(const n of e.Ta)t.ea(n.mutations)}async function yM(e,t,n){const s=e.Ta.shift(),a=sy.from(s,t,n);await vS(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Zf(e)}async function vM(e,t){t&&mr(e).X_&&await(async function(s,a){if((function(c){return JN(c)&&c!==tt.ABORTED})(a.code)){const l=s.Ta.shift();mr(s).B_(),await vS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Zf(s)}})(e,t),_S(e)&&TS(e)}async function HE(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ft(_a,"RemoteStore received new credentials");const s=xa(n);n.Ea.add(3),await ac(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Wf(n)}async function _M(e,t){const n=Rt(e);t?(n.Ea.delete(2),await Wf(n)):t||(n.Ea.add(2),await ac(n),n.Ra.set("Unknown"))}function el(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new iM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:uM.bind(null,e),t_:cM.bind(null,e),r_:hM.bind(null,e),H_:fM.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),my(e)?dy(e):e.Ra.set("Unknown")):(await e.ma.stop(),yS(e))}))),e.ma}function mr(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new sM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:pM.bind(null,e),r_:vM.bind(null,e),ta:gM.bind(null,e),na:yM.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Zf(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(_a,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new py(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(e,t){if(vs("AsyncQueue",`${t}: ${e}`),Jo(e))return new ct(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(t){return new No(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Tu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof No)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.ga=new ce(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Fo{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Fo(t,n,No.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class EM{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=KE(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function KE(){return new wa((e=>BA(e)),Gf)}async function yy(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new TM,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=gy(c,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&_y(n)}async function vy(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bM(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&_y(n)}function AM(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function _y(e){e.Ca.forEach((t=>{t.next()}))}var hg,YE;(YE=hg||(hg={})).Ma="default",YE.Cache="cache";class Ty{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Fo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.key=t}}class bS{constructor(t){this.key=t}}class SM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=zA(t),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new GE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const b=a.get(y),x=Kf(this.query,_)?_:null,V=!!b&&this.mutatedKeys.has(b.key),B=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;b&&x?b.data.isEqual(x.data)?V!==B&&(s.track({type:3,doc:x}),N=!0):this.su(b,x)||(s.track({type:2,doc:x}),N=!0,(m&&this.eu(x,m)>0||p&&this.eu(x,p)<0)&&(d=!0)):!b&&x?(s.track({type:0,doc:x}),N=!0):b&&!x&&(s.track({type:1,doc:b}),N=!0,(m||p)&&(d=!0)),N&&(x?(c=c.add(x),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(x,V){const B=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:N})}};return B(x)-B(V)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Fo(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new bS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new ES(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ey="SyncEngine";class wM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class RM{constructor(t){this.key=t,this.hu=!1}}class xM{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new wa((d=>BA(d)),Gf),this.Iu=new Map,this.Eu=new Set,this.du=new ce(gt.comparator),this.Au=new Map,this.Ru=new oy,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CM(e,t,n=!0){const s=CS(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await AS(s,t,n,!0),a}async function IM(e,t){const n=CS(e);await AS(n,t,!0,!1)}async function AS(e,t,n,s){const a=await QV(e.localStore,Ri(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await DM(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&pS(e.remoteStore,a),d}async function DM(e,t,n,s,a){e.pu=(_,b,x)=>(async function(B,N,j,q){let Y=N.view.ru(j);Y.Cs&&(Y=await jE(B.localStore,N.query,!1).then((({documents:P})=>N.view.ru(P,Y))));const lt=q&&q.targetChanges.get(N.targetId),it=q&&q.targetMismatches.get(N.targetId)!=null,mt=N.view.applyChanges(Y,B.isPrimaryClient,lt,it);return QE(B,N.targetId,mt.au),mt.snapshot})(e,_,b,x);const l=await jE(e.localStore,t,!0),c=new SM(t,l.Qs),d=c.ru(l.documents),m=rc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);QE(e,n,p.au);const y=new wM(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function NM(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Gf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ug(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&hy(s.remoteStore,a.targetId),fg(s,a.targetId)})).catch(Zo)):(fg(s,a.targetId),await ug(s.localStore,a.targetId,!0))}async function VM(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hy(n.remoteStore,s.targetId))}async function MM(e,t,n){const s=BM(e);try{const a=await(function(c,d){const m=Rt(c),p=ie.now(),y=d.reduce(((x,V)=>x.add(V.key)),kt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let V=_s(),B=kt();return m.Ns.getEntries(x,y).next((N=>{V=N,V.forEach(((j,q)=>{q.isValidDocument()||(B=B.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,V))).next((N=>{_=N;const j=[];for(const q of d){const Y=$N(q,_.get(q.key).overlayedDocument);Y!=null&&j.push(new Ra(q.key,Y,VA(Y.value.mapValue),xi.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,j,d)})).next((N=>{b=N;const j=N.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(x,N.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:qA(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new ce(Ot)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await oc(s,a.changes),await Zf(s.remoteStore)}catch(a){const l=gy(a,"Failed to persist write");n.reject(l)}}async function SS(e,t){const n=Rt(e);try{const s=await KV(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ht(c.hu,14607):a.removedDocuments.size>0&&(Ht(c.hu,42227),c.hu=!1))})),await oc(n,s,t)}catch(s){await Zo(s)}}function $E(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Rt(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(d)&&(p=!0)})),p&&_y(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PM(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ce(gt.comparator);c=c.insert(l,sn.newNoDocument(l,wt.min()));const d=kt().add(l),m=new Qf(wt.min(),new Map,new ce(Ot),c,d);await SS(s,m),s.du=s.du.remove(l),s.Au.delete(t),by(s)}else await ug(s.localStore,t,!1).then((()=>fg(s,t,n))).catch(Zo)}async function OM(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await GV(n.localStore,t);RS(n,s,null),wS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await oc(n,a)}catch(a){await Zo(a)}}async function kM(e,t,n){const s=Rt(e);try{const a=await(function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(Ht(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);RS(s,t,n),wS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await oc(s,a)}catch(a){await Zo(a)}}function wS(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function RS(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function fg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||xS(e,s)}))}function xS(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(hy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),by(e))}function QE(e,t,n){for(const s of n)s instanceof ES?(e.Ru.addReference(s.key,t),LM(e,s)):s instanceof bS?(ft(Ey,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||xS(e,s.key)):Tt(19791,{wu:s})}function LM(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ft(Ey,"New document in limbo: "+n),e.Eu.add(s),by(e))}function by(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(ee.fromString(t)),s=e.fu.next();e.Au.set(s,new RM(n)),e.du=e.du.insert(n,s),pS(e.remoteStore,new sr(Ri(Hf(n.path)),s,"TargetPurposeLimboResolution",zf.ce))}}async function oc(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=uy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>nt.forEach(p,(b=>nt.forEach(b.Es,(x=>y.persistence.referenceDelegate.addReference(_,b.targetId,x))).next((()=>nt.forEach(b.ds,(x=>y.persistence.referenceDelegate.removeReference(_,b.targetId,x)))))))))}catch(_){if(!Jo(_))throw _;ft(cy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const x=y.Ms.get(b),V=x.snapshotVersion,B=x.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(b,B)}}})(s.localStore,l))}async function UM(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ft(Ey,"User change. New user:",t.toKey());const s=await hS(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ct(tt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await oc(n,s.Ls)}}function jM(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let a=kt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function CS(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PM.bind(null,t),t.Pu.H_=bM.bind(null,t.eventManager),t.Pu.yu=AM.bind(null,t.eventManager),t}function BM(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kM.bind(null,t),t}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return HV(this.persistence,new zV,t.initialUser,this.serializer)}Cu(t){return new cS(ly.mi,this.serializer)}Du(t){return new WV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class zM extends Af{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RV(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new cS((s=>Ef.mi(s,n)),this.serializer)}}class dg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UM.bind(null,this.syncEngine),await _M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new EM})()}createDatastore(t){const n=Xf(t.databaseInfo.databaseId),s=(function(l){return new nM(l)})(t.databaseInfo);return(function(l,c,d,m){return new aM(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new lM(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>$E(this.syncEngine,n,0)),(function(){return FE.v()?new FE:new ZV})())}createSyncEngine(t,n){return(function(a,l,c,d,m,p,y){const _=new xM(a,l,c,d,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);ft(_a,"RemoteStore shutting down."),s.Ea.add(5),await ac(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class FM{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ft(pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ft(pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=gy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(pr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await hS(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function XE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qM(e);ft(pr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>HE(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>HE(t.remoteStore,a))),e._onlineComponents=t}async function qM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(pr,"Using user provided OfflineComponentProvider");try{await Rp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await Rp(e,new Af)}}else ft(pr,"Using default OfflineComponentProvider"),await Rp(e,new zM(void 0));return e._offlineComponents}async function IS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(pr,"Using user provided OnlineComponentProvider"),await XE(e,e._uninitializedComponentsProvider._online)):(ft(pr,"Using default OnlineComponentProvider"),await XE(e,new dg))),e._onlineComponents}function HM(e){return IS(e).then((t=>t.syncEngine))}async function Sf(e){const t=await IS(e),n=t.eventManager;return n.onListen=CM.bind(null,t.syncEngine),n.onUnlisten=NM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=VM.bind(null,t.syncEngine),n}function GM(e,t,n={}){const s=new ps;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new Ay({next:b=>{y.Nu(),c.enqueueAndForget((()=>vy(l,_)));const x=b.docs.has(d);!x&&b.fromCache?p.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&m&&m.source==="server"?p.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Ty(Hf(d.path),y,{includeMetadataChanges:!0,qa:!0});return yy(l,_)})(await Sf(e),e.asyncQueue,t,n,s))),s.promise}function KM(e,t,n={}){const s=new ps;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new Ay({next:b=>{y.Nu(),c.enqueueAndForget((()=>vy(l,_))),b.fromCache&&m.source==="server"?p.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new Ty(d,y,{includeMetadataChanges:!0,qa:!0});return yy(l,_)})(await Sf(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",ZE=!0;class JE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=ZE}else this.host=t.host,this.ssl=t.ssl??ZE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SV)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jf{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new WD;switch(s.type){case"firstParty":return new eN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WE.get(n);s&&(ft("ComponentProvider","Removing Datastore"),WE.delete(n),s.terminate())})(this),Promise.resolve()}}function YM(e,t,n,s={}){e=ii(e,Jf);const a=Qo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(rA(`https://${d}`),aA("Firestore",!0)),l.host!==NS&&l.host!==d&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ga(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=nn.MOCK_USER;else{p=SI(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(_)}e._authCredentials=new ZD(new TA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new vr(this.firestore,t,this._query)}}class Te{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ic(n,Te._jsonSchema))return new Te(t,s||null,new gt(ee.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ie("string",Te._jsonSchemaVersion),referencePath:Ie("string")};class ur extends vr{constructor(t,n,s){super(t,n,Hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new gt(t))}withConverter(t){return new ur(this.firestore,t,this._path)}}function Ta(e,t,...n){if(e=fn(e),EA("collection","path",t),e instanceof Jf){const s=ee.fromString(t,...n);return fE(s),new ur(e,null,s)}{if(!(e instanceof Te||e instanceof ur))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return fE(s),new ur(e.firestore,null,s)}}function Ea(e,t,...n){if(e=fn(e),arguments.length===1&&(t=Wg.newId()),EA("doc","path",t),e instanceof Jf){const s=ee.fromString(t,...n);return hE(s),new Te(e,null,new gt(s))}{if(!(e instanceof Te||e instanceof ur))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return hE(s),new Te(e.firestore,e instanceof ur?e.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="AsyncQueue";class e1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dS(this,"async_queue_retry"),this._c=()=>{const s=wp();s&&ft(t1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jo(t))throw t;ft(t1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",n1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=py.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:n1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function n1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class ba extends Jf{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new e1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e1(t),this._firestoreClient=void 0,await t}}}function $M(e,t){const n=typeof e=="object"?e:cA(),s=typeof e=="string"?e:gf,a=Qg(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=bI("firestore");l&&YM(a,...l)}return a}function td(e){if(e._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||QM(e),e._firestoreClient}function QM(e){const t=e._freezeSettings(),n=(function(a,l,c,d){return new vN(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new FM(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(We.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Hn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ic(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ie("string",Hn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(ic(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ic(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Di(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^__.*__$/;class WM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ra(t,this.data,this.fieldMask,n,this.fieldTransforms):new sc(t,this.data,n,this.fieldTransforms)}}function VS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:e})}}class Ry{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ry({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VS(this.Ac)&&XM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Xf(t)}Cc(t,n,s,a=!1){return new Ry({Ac:t,methodName:n,Dc:s,path:Xe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(e){const t=e._freezeSettings(),n=Xf(e._databaseId);return new ZM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MS(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);kS("Data must be an object, but it was:",c,s);const d=PS(s,c);let m,p;if(l.merge)m=new ei(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=tP(t,_,n);if(!c.contains(b))throw new ct(tt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nP(y,b)||y.push(b)}m=new ei(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new WM(new qn(d),m,p)}class Cy extends wy{_toFieldTransform(t){return new HN(t.path,new Fu)}isEqual(t){return t instanceof Cy}}function JM(e,t,n,s=!1){return Iy(n,e.Cc(s?4:3,t))}function Iy(e,t){if(OS(e=fn(e)))return kS("Unsupported field value:",t,e),PS(e,t);if(e instanceof wy)return(function(s,a){if(!VS(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Iy(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zN(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ie.fromDate(s);return{timestampValue:Tf(a.serializer,l)}}if(s instanceof ie){const l=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tf(a.serializer,l)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:nS(a.serializer,s._byteString)};if(s instanceof Te){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ay(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Di)return(function(c,d){return{mapValue:{fields:{[DA]:{stringValue:NA},[yf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return iy(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Bf(s)}`)})(e,t)}function PS(e,t){const n={};return SA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(e,((s,a)=>{const l=Iy(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function OS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof Ii||e instanceof Hn||e instanceof Te||e instanceof wy||e instanceof Di)}function kS(e,t,n){if(!OS(n)||!bA(n)){const s=Bf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function tP(e,t,n){if((t=fn(t))instanceof Sy)return t._internalPath;if(typeof t=="string")return LS(e,t);throw wf("Field path arguments must be of type string or ",e,!1,void 0,n)}const eP=new RegExp("[~\\*/\\[\\]]");function LS(e,t,n){if(t.search(eP)>=0)throw wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Sy(...t.split("."))._internalPath}catch{throw wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function wf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ct(tt.INVALID_ARGUMENT,d+e+m)}function nP(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ed("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iP extends US{data(){return super.data()}}function ed(e,t){return typeof t=="string"?LS(e,t):t instanceof Sy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class BS extends Dy{}function Ny(e,t,...n){let s=[];t instanceof Dy&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Vy)).length,d=l.filter((m=>m instanceof nd)).length;if(c>1||c>0&&d>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class nd extends BS{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new nd(t,n,s)}_apply(t){const n=this._parse(t);return FS(t._query,n),new vr(t.firestore,t.converter,ig(t._query,n))}_parse(t){const n=xy(t.firestore);return(function(l,c,d,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){r1(_,y);const V=[];for(const B of _)V.push(s1(m,l,B));b={arrayValue:{values:V}}}else b=s1(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||r1(_,y),b=JM(d,c,_,y==="in"||y==="not-in");return Ce.create(p,y,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function sP(e,t,n){const s=t,a=ed("where",e);return nd._create(a,s,n)}class Vy extends Dy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Vy(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)FS(c,m),c=ig(c,m)})(t._query,n),new vr(t.firestore,t.converter,ig(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class My extends BS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new My(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zu(l,c)})(t._query,this._field,this._direction);return new vr(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new tl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function zS(e,t="asc"){const n=t,s=ed("orderBy",e);return My._create(s,n)}function s1(e,t,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jA(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!gt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TE(e,new gt(s))}if(n instanceof Te)return TE(e,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function r1(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FS(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rP{convertValue(t,n="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Sa(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[yf].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Di(n)}convertGeoPoint(t){return new Ii(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=qf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Uu(t));default:return null}}convertTimestamp(t){const n=hr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ht(lS(s),9688,{name:t});const a=new ju(s.get(1),s.get(3)),l=new gt(s.popFirst(5));return a.isEqual(n)||vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class bu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ha extends US{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ed("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Ie("string",ha._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class nf extends ha{data(t={}){return super.data(t)}}class fa{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new bu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new nf(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new nf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new bu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new nf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new bu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:aP(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){e=ii(e,Te);const t=ii(e.firestore,ba);return GM(td(t),e._key).then((n=>GS(t,e,n)))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ie("string",fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Oy extends rP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function oP(e){e=ii(e,vr);const t=ii(e.firestore,ba),n=td(t),s=new Oy(t);return jS(e._query),KM(n,e._query).then((a=>new fa(t,s,e,a)))}function mg(e,t,n){e=ii(e,Te);const s=ii(e.firestore,ba),a=qS(e.converter,t,n);return HS(s,[MS(xy(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,xi.none())])}function lP(e,t){const n=ii(e.firestore,ba),s=Ea(e),a=qS(e.converter,t);return HS(n,[MS(xy(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,xi.exists(!1))]).then((()=>s))}function nl(e,...t){e=fn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||i1(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(i1(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(e instanceof Te)c=ii(e.firestore,ba),d=Hf(e._key.path),l={next:m=>{t[s]&&t[s](GS(c,e,m))},error:t[s+1],complete:t[s+2]};else{const m=ii(e,vr);c=ii(m.firestore,ba),d=m._query;const p=new Oy(c);l={next:y=>{t[s]&&t[s](new fa(c,p,m,y))},error:t[s+1],complete:t[s+2]},jS(e._query)}return(function(p,y,_,b){const x=new Ay(b),V=new Ty(y,x,_);return p.asyncQueue.enqueueAndForget((async()=>yy(await Sf(p),V))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>vy(await Sf(p),V)))}})(td(c),d,a,l)}function HS(e,t){return(function(s,a){const l=new ps;return s.asyncQueue.enqueueAndForget((async()=>MM(await HM(s),a,l))),l.promise})(td(e),t)}function GS(e,t,n){const s=n.docs.get(t._key),a=new Oy(e);return new ha(e,a,t._key,s,new bu(n.hasPendingWrites,n.fromCache),t.converter)}function uP(){return new Cy("serverTimestamp")}(function(t,n=!0){(function(a){Wo=a})(Xo),ko(new ya("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ba(new JD(s.getProvider("auth-internal")),new nN(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),or(oE,lE,t),or(oE,lE,"esm2020")})();var cP="firebase",hP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(cP,hP,"app");function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fP=KS,YS=new ec("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Yg("@firebase/auth");function dP(e,...t){Rf.logLevel<=Pt.WARN&&Rf.warn(`Auth (${Xo}): ${e}`,...t)}function sf(e,...t){Rf.logLevel<=Pt.ERROR&&Rf.error(`Auth (${Xo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,...t){throw Ly(e,...t)}function si(e,...t){return Ly(e,...t)}function ky(e,t,n){const s={...fP(),[t]:n};return new ec("auth","Firebase",s).create(t,{appName:e.name})}function da(e){return ky(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mP(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Li(e,"argument-error"),ky(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ly(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return YS.create(e,...t)}function At(e,t,...n){if(!e)throw Ly(t,...n)}function fs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sf(t),new Error(t)}function Ts(e,t){e||fs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){return typeof self<"u"&&self.location?.href||""}function pP(){return a1()==="http:"||a1()==="https:"}function a1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pP()||DI()||"connection"in navigator)?navigator.onLine:!0}function yP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ts(n>t,"Short delay should be less than long delay!"),this.isMobile=xI()||NI()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(e,t){Ts(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TP=new lc(3e4,6e4);function jy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function il(e,t,n,s,a={}){return QS(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=nc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return II()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Qo(e.emulatorConfig.host)&&(p.credentials="include"),$S.fetch()(await XS(e,e.config.apiHost,n,d),p)})}async function QS(e,t,n){e._canInitEmulator=!1;const s={...vP,...t};try{const a=new bP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Gh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Gh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Gh(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ky(e,y,p);Li(e,y)}}catch(a){if(a instanceof As)throw a;Li(e,"network-request-failed",{message:String(a)})}}async function EP(e,t,n,s,a={}){const l=await il(e,t,n,s,a);return"mfaPendingCredential"in l&&Li(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function XS(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Uy(e.config,a):`${e.config.apiScheme}://${a}`;return _P.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class bP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),TP.get())})}}function Gh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=si(e,t,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(e,t){return il(e,"POST","/v1/accounts:delete",t)}async function xf(e,t){return il(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SP(e,t=!1){const n=fn(e),s=await n.getIdToken(t),a=By(s);At(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Iu(xp(a.auth_time)),issuedAtTime:Iu(xp(a.iat)),expirationTime:Iu(xp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xp(e){return Number(e)*1e3}function By(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=eA(n);return a?JSON.parse(a):(sf("Failed to decode base64 JWT payload"),null)}catch(a){return sf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function o1(e){const t=By(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof As&&wP(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function wP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(e){const t=e.auth,n=await e.getIdToken(),s=await Gu(e,xf(t,{idToken:n}));At(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?WS(a.providerUserInfo):[],c=CP(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function xP(e){const t=fn(e);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CP(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function WS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(e,t){const n=await QS(e,{},async()=>{const s=nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await XS(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&Qo(e.emulatorConfig.host)&&(m.credentials="include"),$S.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DP(e,t){return il(e,"POST","/v2/accounts:revokeToken",jy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):o1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=o1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await IP(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Vo;return s&&(At(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(At(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(At(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return SP(this,t)}reload(){return xP(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(da(this.auth));const t=await this.getIdToken();return await Gu(this,AP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:x,providerData:V,stsTokenManager:B}=n;At(_&&B,t,"internal-error");const N=Vo.fromJSON(this.name,B);At(typeof _=="string",t,"internal-error"),Js(s,t.name),Js(a,t.name),At(typeof b=="boolean",t,"internal-error"),At(typeof x=="boolean",t,"internal-error"),Js(l,t.name),Js(c,t.name),Js(d,t.name),Js(m,t.name),Js(p,t.name),Js(y,t.name);const j=new ni({uid:_,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:y});return V&&Array.isArray(V)&&(j.providerData=V.map(q=>({...q}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(t,n,s=!1){const a=new Vo;a.updateFromServerResponse(n);const l=new ni({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Cf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];At(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?WS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Vo;d.updateFromIdToken(s);const m=new ni({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;function ds(e){Ts(e instanceof Function,"Expected a class definition");let t=l1.get(e);return t?(Ts(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,l1.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZS.type="NONE";const u1=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(e,t,n){return`firebase:${e}:${t}:${n}`}class Mo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=rf(this.userKey,a.apiKey,l),this.fullPersistenceKey=rf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await xf(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Mo(ds(u1),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ds(u1);const c=rf(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await xf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await ni._fromGetAccountInfoResponse(t,b,y)}else _=ni._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Mo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Mo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sw(t))return"Blackberry";if(rw(t))return"Webos";if(tw(t))return"Safari";if((t.includes("chrome/")||ew(t))&&!t.includes("edge/"))return"Chrome";if(iw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function JS(e=an()){return/firefox\//i.test(e)}function tw(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ew(e=an()){return/crios\//i.test(e)}function nw(e=an()){return/iemobile/i.test(e)}function iw(e=an()){return/android/i.test(e)}function sw(e=an()){return/blackberry/i.test(e)}function rw(e=an()){return/webos/i.test(e)}function zy(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function NP(e=an()){return zy(e)&&!!window.navigator?.standalone}function VP(){return VI()&&document.documentMode===10}function aw(e=an()){return zy(e)||iw(e)||rw(e)||sw(e)||/windows phone/i.test(e)||nw(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(e,t=[]){let n;switch(e){case"Browser":n=c1(an());break;case"Worker":n=`${c1(an())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(e,t={}){return il(e,"GET","/v2/passwordPolicy",jy(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=6;class kP{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h1(this),this.idTokenSubscription=new h1(this),this.beforeStateQueue=new MP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await xf(this,{idToken:t}),s=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(da(this));const n=t?fn(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PP(this),n=new kP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ec("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ds(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function id(e){return fn(e)}class h1{constructor(t){this.auth=t,this.observer=null,this.addObserver=BI(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UP(e){Fy=e}function jP(e){return Fy.loadJS(e)}function BP(){return Fy.gapiScript}function zP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(e,t){const n=Qg(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ga(l,t??{}))return a;Li(a,"already-initialized")}return n.initialize({options:t})}function qP(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ds);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function HP(e,t,n){const s=id(e);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=lw(t),{host:c,port:d}=GP(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(ga(p,s.config.emulator)&&ga(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Qo(c)?(rA(`${l}//${c}${m}`),aA("Auth",!0)):KP()}function lw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function GP(e){const t=lw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:f1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:f1(c)}}}function f1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function KP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,n){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(e,t){return EP(e,"POST","/v1/accounts:signInWithIdp",jy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="http://localhost";class Aa extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Aa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Po(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Po(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Po(t,n)}buildRequest(){const t={requestUri:YP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends qy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends uc{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Aa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends uc{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends uc{constructor(){super("twitter.com")}static credential(t,n){return Aa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ni._fromIdTokenResponse(t,s,a),c=d1(s);return new qo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=d1(s);return new qo({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function d1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends As{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new If(t,n,s,a)}}function cw(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(e,l,t,s):l})}async function $P(e,t,n=!1){const s=await Gu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qo._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(e,t,n=!1){const{auth:s}=e;if(ti(s.app))return Promise.reject(da(s));const a="reauthenticate";try{const l=await Gu(e,cw(s,a,t,e),n);At(l.idToken,s,"internal-error");const c=By(l.idToken);At(c,s,"internal-error");const{sub:d}=c;return At(e.uid===d,s,"user-mismatch"),qo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(e,t,n=!1){if(ti(e.app))return Promise.reject(da(e));const s="signIn",a=await cw(e,s,t),l=await qo._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function WP(e,t,n,s){return fn(e).onIdTokenChanged(t,n,s)}function ZP(e,t,n){return fn(e).beforeAuthStateChanged(t,n)}function JP(e,t,n,s){return fn(e).onAuthStateChanged(t,n,s)}function tO(e){return fn(e).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1e3,nO=10;class fw extends hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);VP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,nO):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fw.type="LOCAL";const iO=fw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dw.type="SESSION";const mw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new sd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await sO(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Hy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function aO(e){Ni().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function oO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lO(){return navigator?.serviceWorker?.controller||null}function uO(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebaseLocalStorageDb",cO=1,Nf="firebaseLocalStorage",yw="fbase_key";class cc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rd(e,t){return e.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function hO(){const e=indexedDB.deleteDatabase(gw);return new cc(e).toPromise()}function yg(){const e=indexedDB.open(gw,cO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Nf,{keyPath:yw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Nf)?t(s):(s.close(),await hO(),t(await yg()))})})}async function m1(e,t,n){const s=rd(e,!0).put({[yw]:t,value:n});return new cc(s).toPromise()}async function fO(e,t){const n=rd(e,!1).get(t),s=await new cc(n).toPromise();return s===void 0?null:s.value}function p1(e,t){const n=rd(e,!0).delete(t);return new cc(n).toPromise()}const dO=800,mO=3;class vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>mO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(uO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yg();return await m1(t,Df,"1"),await p1(t,Df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>m1(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>fO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>p1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=rd(a,!1).getAll();return new cc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vw.type="LOCAL";const pO=vw;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(e,t){return t?ds(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends uw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Po(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Po(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Po(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gO(e){return XP(e.auth,new Gy(e),e.bypassAuthState)}function yO(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),QP(n,new Gy(e),e.bypassAuthState)}async function vO(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),$P(n,new Gy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gO;case"linkViaPopup":case"linkViaRedirect":return vO;case"reauthViaPopup":case"reauthViaRedirect":return yO;default:Li(this.auth,"internal-error")}}resolve(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new lc(2e3,1e4);async function TO(e,t,n){if(ti(e.app))return Promise.reject(si(e,"operation-not-supported-in-this-environment"));const s=id(e);mP(e,t,qy);const a=_w(s,n);return new la(s,"signInViaPopup",t,a).executeNotNull()}class la extends Tw{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const t=Hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_O.get())};t()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="pendingRedirect",af=new Map;class bO extends Tw{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const s=await AO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AO(e,t){const n=RO(t),s=wO(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function SO(e,t){af.set(e._key(),t)}function wO(e){return ds(e._redirectPersistence)}function RO(e){return rf(EO,e.config.apiKey,e.name)}async function xO(e,t,n=!1){if(ti(e.app))return Promise.reject(da(e));const s=id(e),a=_w(s,t),c=await new bO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=600*1e3;class IO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Ew(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CO&&this.cachedEventUids.clear(),this.cachedEventUids.has(g1(t))}saveEventToCache(t){this.cachedEventUids.add(g1(t)),this.lastProcessedEventTime=Date.now()}}function g1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Ew({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function DO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ew(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(e,t={}){return il(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MO=/^https?/;async function PO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await NO(e);for(const n of t)try{if(OO(n))return}catch{}Li(e,"unauthorized-domain")}function OO(e){const t=pg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!MO.test(n))return!1;if(VO.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new lc(3e4,6e4);function y1(){const e=Ni().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function LO(e){return new Promise((t,n)=>{function s(){y1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y1(),n(si(e,"network-request-failed"))},timeout:kO.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const a=zP("iframefcb");return Ni()[a]=()=>{gapi.load?s():n(si(e,"network-request-failed"))},jP(`${BP()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw of=null,t})}let of=null;function UO(e){return of=of||LO(e),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new lc(5e3,15e3),BO="__/auth/iframe",zO="emulator/auth/iframe",FO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HO(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Uy(t,zO):`https://${e.config.authDomain}/${BO}`,s={apiKey:t.apiKey,appName:e.name,v:Xo},a=qO.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${nc(s).slice(1)}`}async function GO(e){const t=await UO(e),n=Ni().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:HO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=si(e,"network-request-failed"),d=Ni().setTimeout(()=>{l(c)},jO.get());function m(){Ni().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YO=500,$O=600,QO="_blank",XO="http://localhost";class v1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WO(e,t,n,s=YO,a=$O){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...KO,width:s.toString(),height:a.toString(),top:l,left:c},p=an().toLowerCase();n&&(d=ew(p)?QO:n),JS(p)&&(t=t||XO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[x,V])=>`${b}${x}=${V},`,"");if(NP(p)&&d!=="_self")return ZO(t||"",d),new v1(null);const _=window.open(t||"",d,y);At(_,e,"popup-blocked");try{_.focus()}catch{}return new v1(_)}function ZO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="__/auth/handler",t4="emulator/auth/handler",e4=encodeURIComponent("fac");async function _1(e,t,n,s,a,l){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Xo,eventId:a};if(t instanceof qy){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",jI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof uc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${e4}=${encodeURIComponent(m)}`:"";return`${n4(e)}?${nc(d).slice(1)}${p}`}function n4({config:e}){return e.emulator?Uy(e,t4):`https://${e.authDomain}/${JO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="webStorageSupport";class i4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mw,this._completeRedirectFn=xO,this._overrideRedirectResult=SO}async _openPopup(t,n,s,a){Ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await _1(t,n,s,pg(),a);return WO(t,l,Hy())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await _1(t,n,s,pg(),a);return aO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ts(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await GO(t),s=new IO(t);return n.register("authEvent",a=>(At(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cp,{type:Cp},a=>{const l=a?.[0]?.[Cp];l!==void 0&&n(!!l),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return aw()||tw()||zy()}}const s4=i4;var T1="@firebase/auth",E1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o4(e){ko(new ya("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ow(e)},p=new LP(s,a,l,m);return qP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ko(new ya("auth-internal",t=>{const n=id(t.getProvider("auth").getImmediate());return(s=>new r4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(T1,E1,a4(e)),or(T1,E1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=300,u4=sA("authIdTokenMaxAge")||l4;let b1=null;const c4=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>u4)return;const a=n?.token;b1!==a&&(b1=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function h4(e=cA()){const t=Qg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=FP(e,{popupRedirectResolver:s4,persistence:[pO,iO,mw]}),s=sA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=c4(l.toString());ZP(n,c,()=>c(n.currentUser)),WP(n,d=>c(d))}}const a=nA("auth");return a&&HP(n,`http://${a}`),n}function f4(){return document.getElementsByTagName("head")?.[0]??document}UP({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=si("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",f4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o4("Browser");const d4={apiKey:"AIzaSyBvROuv4CkJyfUby87owjFAmYvpyf8UU_c",authDomain:"test-3054c.firebaseapp.com",projectId:"test-3054c",storageBucket:"test-3054c.firebasestorage.app",messagingSenderId:"536496457232",appId:"1:536496457232:web:ad63fed147ce0f53f92c95",measurementId:"G-ZHT05S70E5"},bw=uA(d4),xn=$M(bw),vg=h4(bw),Aw=O.createContext(),m4=({children:e})=>{const[t,n]=O.useState(null),[s,a]=O.useState(!1);O.useEffect(()=>{const c=JP(vg,d=>{n(d),s||a(!0)});return()=>c()},[s]);const l={user:t,initialAuthChecked:s};return w.jsx(Aw.Provider,{value:l,children:e})},Ca=()=>O.useContext(Aw),Sw=()=>{const{user:e}=Ca(),[t,n]=O.useState(0),[s,a]=O.useState(!0);return O.useEffect(()=>{if(e){const l=Ea(xn,"users",e.uid),c=nl(l,d=>{d.exists()?n(d.data().points||0):n(0),a(!1)},d=>{console.error("Error fetching user points:",d),a(!1)});return()=>c()}else n(0),a(!1)},[e]),{points:t,loading:s}},p4=()=>{const{points:e,loading:t}=Sw();return t?w.jsx("div",{className:"text-gray-800",children:"..."}):w.jsxs("div",{className:"flex items-center bg-yellow-400 text-white font-bold py-1 px-3 rounded-full shadow-md",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 mr-1",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385c.12.501-.414.923-.877.683l-4.72-2.881a.563.563 0 00-.586 0l-4.72 2.881c-.463.24-.997-.182-.877-.683l1.285-5.385a.562.562 0 00-.182-.557L3.92 9.34a.562.562 0 01.32-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),w.jsx("span",{className:"text-base",children:e}),w.jsx("span",{className:"mr-2 text-sm",children:""})]})},ww=O.createContext(),Rw=()=>O.useContext(ww),xw=({children:e})=>{const[t,n]=O.useState(""),[s,a]=O.useState(null),[l,c]=O.useState(null),d={title:t,setTitle:n,rightContent:s,setRightContent:a,leftContent:l,setLeftContent:c};return w.jsx(ww.Provider,{value:d,children:e})},Cw=({showBackButton:e,backButtonLink:t})=>{const n=oi(),s=$o(),{title:a,leftContent:l,rightContent:c}=Rw()||{},d=n.pathname==="/",m=()=>{s(t||-1)},p=e?w.jsx("button",{onClick:m,className:"p-2 rounded-full hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}):w.jsx(p4,{}),y=d?w.jsxs(aa,{to:"/leaderboard",className:"flex flex-col items-center text-gray-500 hover:text-blue-600 md:hidden",children:[w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),w.jsx("span",{className:"text-xs",children:""})]}):null;return w.jsxs("div",{className:"fixed top-0 left-0 w-full bg-white shadow-md z-10 p-4 h-16 flex justify-between items-center md:mr-20",dir:"rtl",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[l||p,a&&w.jsx("h1",{className:"text-base font-bold whitespace-nowrap",children:a})]}),w.jsx("div",{children:c||y})]})},g4=()=>{const[e,t]=O.useState([]),[n,s]=O.useState(!0);O.useEffect(()=>{const c=Ta(xn,"exams"),d=nl(c,m=>{const p=m.docs.map(y=>({id:y.id,...y.data()}));t(p),s(!1)},m=>{console.error("Error fetching exams:",m),s(!1)});return()=>d()},[]);const a=()=>w.jsx("div",{className:"skeleton-card",children:w.jsxs("div",{className:"space-y-3",children:[w.jsx("div",{className:"skeleton-line w-3/4 mx-auto"}),w.jsx("div",{className:"skeleton-line w-1/2 mx-auto"})]})}),l=({exam:c})=>{const d=c.questions.reduce((m,p)=>m+(p.points||1),0);return w.jsx(Kg,{to:`/exam/${c.id}`,className:"bg-white p-6 md:p-8 rounded-xl shadow-lg cursor-pointer flex flex-col justify-between no-underline",children:w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:c.name||` ${c.id}`}),w.jsxs("p",{className:"text-center text-gray-500 mt-4 text-base md:text-lg",children:[c.questions.length," "]}),w.jsxs("p",{className:"text-center text-blue-600 font-bold mt-2 text-base md:text-lg",children:[" : ",d]})]})})};return w.jsx("div",{className:"container mx-auto p-4 flex-grow",children:w.jsx("div",{id:"exams-list",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n?w.jsxs(w.Fragment,{children:[w.jsx(a,{}),w.jsx(a,{}),w.jsx(a,{})]}):e.length===0?w.jsx("p",{className:"col-span-full text-center text-gray-500",children:"    ."}):e.map(c=>w.jsx(l,{exam:c},c.id))})})},y4=()=>{const[e,t]=O.useState([]),[n,s]=O.useState(!0);return O.useEffect(()=>{const a=Ta(xn,"subjects"),l=nl(a,c=>{const d=c.docs.map(m=>m.data());t(d),s(!1)},c=>{console.error("Error fetching subjects:",c),s(!1)});return()=>l()},[]),{subjects:e,loading:n}},v4=()=>{const{subjects:e,loading:t}=y4();return t?w.jsx("div",{className:"container mx-auto p-4 flex-grow",children:w.jsx("div",{className:"spinner"})}):w.jsx("div",{className:"container mx-auto p-4 flex-grow",children:w.jsx("div",{id:"subjects-container",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length===0?w.jsx("p",{className:"col-span-full text-center text-gray-600",children:"   ."}):e.map((n,s)=>w.jsxs("a",{href:n.link||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center justify-center space-y-4 cursor-pointer no-underline",children:[w.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:n.name}),w.jsxs("div",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 space-x-reverse",children:[w.jsx("i",{className:"fas fa-download"}),w.jsx("span",{children:""})]})]},s))})})},_4=({isOpen:e,onClose:t,product:n,onSubmit:s})=>{const[a,l]=O.useState("whatsapp"),[c,d]=O.useState("");if(!e)return null;const m=p=>{if(p.preventDefault(),!c){alert("   ");return}s({contactMethod:a,phoneNumber:c})};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md mx-4",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-4 text-right",children:[" ",n.name]}),w.jsxs("p",{className:"mb-6 text-right",children:[" : ",n.price," "]}),w.jsxs("form",{onSubmit:m,children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-right mb-2 font-bold",children:" "}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsxs("label",{className:"flex items-center gap-2",children:[w.jsx("span",{children:"Telegram"}),w.jsx("input",{type:"radio",name:"contactMethod",value:"telegram",checked:a==="telegram",onChange:p=>l(p.target.value),className:"form-radio"})]}),w.jsxs("label",{className:"flex items-center gap-2",children:[w.jsx("span",{children:"WhatsApp"}),w.jsx("input",{type:"radio",name:"contactMethod",value:"whatsapp",checked:a==="whatsapp",onChange:p=>l(p.target.value),className:"form-radio"})]})]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{htmlFor:"phoneNumber",className:"block text-right mb-2 font-bold",children:" "}),w.jsx("input",{type:"tel",id:"phoneNumber",value:c,onChange:p=>d(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg text-right",placeholder:": 966512345678+",required:!0})]}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{type:"button",onClick:t,className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg",children:""}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:" "})]})]})]})})},T4=()=>{const{user:e}=Ca(),{points:t,loading:n}=Sw(),[s,a]=O.useState([]),[l,c]=O.useState(!0),[d,m]=O.useState(!1),[p,y]=O.useState(null);O.useEffect(()=>{const B=Ta(xn,"products"),N=nl(B,j=>{const q=j.docs.map(Y=>({id:Y.id,...Y.data()}));a(q),c(!1)},j=>{console.error("Error fetching products:",j),c(!1)});return()=>N()},[]);const _=B=>{t<B.price?alert("   "):(y(B),m(!0))},b=()=>{m(!1),y(null)},x=async B=>{if(!(!e||!p))try{await lP(Ta(xn,"orders"),{userId:e.uid,userEmail:e.email,productId:p.id,productName:p.name,productPrice:p.price,contactMethod:B.contactMethod,phoneNumber:B.phoneNumber,status:"pending",createdAt:uP()}),alert("   !")}catch(N){console.error("Error creating order:",N),alert("    .")}finally{b()}};return n||l?w.jsx("div",{className:"container mx-auto p-4 flex-grow flex justify-center items-center",children:w.jsx("div",{className:"spinner"})}):w.jsxs("div",{className:"container mx-auto p-4 flex-grow",children:[w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-10",children:s.map(B=>w.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 cursor-pointer transform hover:scale-105 transition-transform",onClick:()=>_(B),children:[w.jsx("h3",{className:"text-xl font-bold mb-2",children:B.name}),w.jsxs("p",{className:"text-gray-700 text-lg",children:[B.price," "]})]},B.id))}),p&&w.jsx(_4,{isOpen:d,onClose:b,product:p,onSubmit:x})]})},E4=()=>{const{user:e}=Ca(),t=$o(),n=()=>{const l=new hs;TO(vg,l).then(c=>{const d=c.user,m=Ea(xn,"users",d.uid);mg(m,{name:d.displayName,uid:d.uid},{merge:!0})}).catch(c=>{console.error("Google Sign-In Error:",c.message)})},s=()=>{setTimeout(()=>{tO(vg).catch(l=>{console.error("Sign-Out Error:",l)})},100)},a=()=>{setTimeout(()=>{t("/purchase-orders")},100)};return w.jsxs("div",{className:"flex-grow bg-white",children:[w.jsx("div",{style:{backgroundColor:"rgb(46, 144, 244)",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},className:"pt-16 pb-12 sm:pt-20 sm:pb-14 md:pt-24 md:pb-16",children:w.jsxs("div",{className:"px-4",children:[w.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-8 text-right",children:""}),e?w.jsx("div",{className:"flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full bg-gray-200 flex items-center justify-center ml-4",children:w.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 text-right",children:e.displayName}),w.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-1 break-all text-right",children:[e.uid," :ID"]})]})]})}):w.jsx("div",{className:"text-center",children:w.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg inline-block",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),w.jsx("p",{className:"text-gray-600 mb-6",children:"      ."}),w.jsxs("button",{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition-transform transform hover:scale-105",children:[w.jsx("i",{className:"fab fa-google mr-3"}),"    "]})]})})]})}),e&&w.jsxs("div",{className:"p-4",children:[w.jsxs("button",{onClick:a,className:"w-full font-bold py-4 px-2 rounded-lg flex justify-between items-center border-b border-gray-200 transition-colors duration-75 ease-in-out active:bg-gray-200",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-500",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),w.jsx("span",{className:"mr-4",children:" "})]}),w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-400",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})]}),w.jsxs("button",{onClick:s,className:"w-full font-bold py-4 px-2 rounded-lg flex justify-between items-center border-b border-gray-200 transition-colors duration-75 ease-in-out active:bg-gray-200",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-500",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})}),w.jsx("span",{className:"mr-4",children:" "})]}),w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-gray-400",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})]})]})]})},b4=()=>{const{examId:e}=TC(),t=$o(),[n,s]=O.useState(null),[a,l]=O.useState(!0),[c,d]=O.useState([]),[m,p]=O.useState(0),[y,_]=O.useState(!1);O.useEffect(()=>{(async()=>{const j=Ea(xn,"exams",e),q=await Py(j);if(q.exists()){const Y={id:q.id,...q.data()};s(Y),d(new Array(Y.questions.length).fill(null)),p((Y.duration||30)*60)}else console.error("No such document!");l(!1)})()},[e]);const b=()=>{t(`/results/${e}`,{state:{userAnswers:c,exam:n}})};O.useEffect(()=>{if(m===0&&n&&b(),!m)return;const N=setInterval(()=>{p(m-1)},1e3);return()=>clearInterval(N)},[m]);const x=(N,j)=>{const q=[...c];q[N]=j,d(q)},V=()=>{c.every(j=>j!==null)?b():_(!0)};if(a)return w.jsx("div",{className:"spinner"});if(!n)return w.jsx("div",{children:"Exam not found"});const B=N=>{const j=Math.floor(N/60),q=N%60;return`${j}:${q<10?"0":""}${q}`};return w.jsxs("div",{className:"py-4 flex-grow",children:[y&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl text-center w-11/12 md:w-auto",children:[w.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),w.jsx("p",{className:"mb-6",children:"     .       "}),w.jsxs("div",{className:"flex justify-center space-x-4 space-x-reverse",children:[w.jsx("button",{onClick:b,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg",children:"  "}),w.jsx("button",{onClick:()=>_(!1),className:"bg-gray-500 text-white font-bold py-2 px-6 rounded-lg",children:"  "})]})]})}),w.jsx("div",{id:"exam-timer",className:"fixed top-4 left-4 bg-red-500 text-white p-2 rounded-lg shadow-lg",children:B(m)}),w.jsx("h2",{id:"exam-title",className:"text-3xl md:text-4xl font-bold text-gray-800 text-center mb-6",children:n.name}),w.jsx("div",{id:"questions-container",className:"space-y-8",children:n.questions.map((N,j)=>w.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md relative w-full md:h-[80vh]",children:[w.jsx("div",{className:"question-number-box",children:w.jsx("span",{children:j+1})}),w.jsx("div",{className:"question-points-box",children:w.jsxs("span",{children:[N.points||1," "]})}),w.jsx("p",{className:"text-lg md:text-3xl text-gray-800 mb-4 break-words pt-16",children:N.text}),w.jsx("div",{className:"space-y-3 md:space-y-8",children:N.options.map((q,Y)=>{const lt=typeof q=="string"?q:q.text,it=`option-${j}-${Y}`;return w.jsxs("div",{className:"custom-radio p-2 rounded-lg",children:[w.jsx("input",{type:"radio",id:it,name:`question-${j}`,value:lt,onChange:()=>x(j,lt),className:"form-radio"}),w.jsx("label",{htmlFor:it,className:"text-gray-700 text-base md:text-2xl",children:lt})]},Y)})})]},j))}),w.jsx("div",{className:"flex justify-center mt-8",children:w.jsx("button",{onClick:V,className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform",children:""})})]})},A4=()=>{const e=oi(),t=$o(),{user:n}=Ca(),{userAnswers:s,exam:a}=e.state||{},{correctAnswersCount:l,earnedPoints:c,totalQuestions:d,percentage:m}=O.useMemo(()=>{if(!a)return{correctAnswersCount:0,earnedPoints:0,totalQuestions:0,percentage:0};let p=0,y=0;const _=a.questions.length;a.questions.forEach((x,V)=>{const B=s[V],N=x.correctAnswer;x.options.findIndex(q=>(typeof q=="string"?q:q.text)===B)===N&&(p++,y+=x.points||1)});const b=_>0?Math.round(p/_*100):0;return{correctAnswersCount:p,earnedPoints:y,totalQuestions:_,percentage:b}},[a,s]);return O.useEffect(()=>{if(n&&a){const p=Ea(xn,"exam_results",a.id,"submissions",n.uid),y={email:n.email,userId:n.uid,percentage:m,correctAnswers:l,totalQuestions:d,earnedPoints:c,userAnswers:s,submittedAt:new Date};mg(p,y,{merge:!0}).then(()=>console.log("Exam results saved successfully!")).catch(b=>console.error("Error saving exam results: ",b));const _=async()=>{const b=Ea(xn,"users",n.uid);try{const B=((await Py(b)).data()?.points||0)+c;await mg(b,{points:B},{merge:!0}),console.log("User points updated successfully!")}catch(x){console.error("Error updating user points: ",x)}};c>0&&_()}},[n,a,m,l,d,c,s]),a?w.jsxs("div",{className:"py-4 flex-grow",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 text-center mb-6",children:" "}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"p-6 bg-blue-100 text-blue-800 rounded-lg shadow-md text-center mb-8",children:[w.jsxs("p",{className:"text-2xl md:text-3xl font-bold",children:["   ",l,"  ",d,"  "]}),w.jsxs("p",{className:"text-xl md:text-2xl mt-2",children:["   ",w.jsx("span",{className:"font-bold text-green-600",children:c})," "]}),w.jsxs("p",{className:"text-4xl md:text-5xl font-bold mt-2",children:[m,"%"]})]}),a.questions.map((p,y)=>{const _=s[y],b=p.correctAnswer,x=p.options.findIndex(N=>(typeof N=="string"?N:N.text)===_),V=x===b,B=p.points||1;return w.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md relative w-full",children:[w.jsx("div",{className:"question-number-box",children:w.jsx("span",{children:y+1})}),w.jsx("div",{className:"result-points-box",children:w.jsxs("span",{className:V?"text-black":"text-gray-500 line-through",children:[B," "]})}),w.jsx("p",{className:"text-lg md:text-xl text-gray-800 mb-4 break-words pt-16",children:p.text}),w.jsx("div",{className:"space-y-3",children:p.options.map((N,j)=>{const q=typeof N=="string"?N:N.text;let Y="flex justify-between items-center p-2 rounded-lg",lt="text-gray-700 text-base md:text-lg",it="";return j===b&&(Y+=" bg-green-100",lt="text-green-800 text-base md:text-lg font-bold",it='<i class="fas fa-check-circle text-green-600 ml-2"></i>'),x===j&&x!==b&&(Y+=" bg-red-100",lt="text-red-800 text-base md:text-lg font-bold",it='<i class="fas fa-times-circle text-red-600 ml-2"></i>'),w.jsxs("div",{className:Y,children:[w.jsxs("div",{className:"custom-radio",children:[w.jsx("input",{type:"radio",id:`result-option-${y}-${j}`,name:`result-question-${y}`,value:q,className:"form-radio",checked:x===j,disabled:!0}),w.jsx("label",{htmlFor:`result-option-${y}-${j}`,className:lt,children:q})]}),w.jsx("span",{dangerouslySetInnerHTML:{__html:it}})]},j)})})]},y)})]}),w.jsx("div",{className:"flex justify-center mt-8",children:w.jsx("button",{onClick:()=>t("/"),className:"bg-gray-400 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform",children:"  "})})]}):w.jsx("div",{children:"No results to display."})},Iw=O.createContext({});function S4(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ky=typeof window<"u",w4=Ky?O.useLayoutEffect:O.useEffect,Yy=O.createContext(null);function $y(e,t){e.indexOf(t)===-1&&e.push(t)}function Qy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Es=(e,t,n)=>n>t?t:n<e?e:n;let Xy=()=>{};const bs={},Dw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nw(e){return typeof e=="object"&&e!==null}const Vw=e=>/^0[^.\s]+$/u.test(e);function Wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gn=e=>e,R4=(e,t)=>n=>t(e(n)),hc=(...e)=>e.reduce(R4),Ku=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Zy{constructor(){this.subscriptions=[]}add(t){return $y(this.subscriptions,t),()=>Qy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vi=e=>e*1e3,Mi=e=>e/1e3;function Mw(e,t){return t?e*(1e3/t):0}const Pw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,x4=1e-7,C4=12;function I4(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=Pw(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>x4&&++d<C4);return c}function fc(e,t,n,s){if(e===t&&n===s)return Gn;const a=l=>I4(l,0,1,e,n);return l=>l===0||l===1?l:Pw(a(l),t,s)}const Ow=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kw=e=>t=>1-e(1-t),Lw=fc(.33,1.53,.69,.99),Jy=kw(Lw),Uw=Ow(Jy),jw=e=>(e*=2)<1?.5*Jy(e):.5*(2-Math.pow(2,-10*(e-1))),tv=e=>1-Math.sin(Math.acos(e)),Bw=kw(tv),zw=Ow(tv),D4=fc(.42,0,1,1),N4=fc(0,0,.58,1),Fw=fc(.42,0,.58,1),V4=e=>Array.isArray(e)&&typeof e[0]!="number",qw=e=>Array.isArray(e)&&typeof e[0]=="number",M4={linear:Gn,easeIn:D4,easeInOut:Fw,easeOut:N4,circIn:tv,circInOut:zw,circOut:Bw,backIn:Jy,backInOut:Uw,backOut:Lw,anticipate:jw},P4=e=>typeof e=="string",A1=e=>{if(qw(e)){Xy(e.length===4);const[t,n,s,a]=e;return fc(t,n,s,a)}else if(P4(e))return M4[e];return e},Kh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O4(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,_=!1,b=!1)=>{const V=b&&a?n:s;return _&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const k4=40;function Hw(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Kh.reduce((Y,lt)=>(Y[lt]=O4(l),Y),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:x,postRender:V}=c,B=()=>{const Y=bs.useManualTiming?a.timestamp:performance.now();n=!1,bs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,k4),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),x.process(a),V.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(B))},N=()=>{n=!0,s=!0,a.isProcessing||e(B)};return{schedule:Kh.reduce((Y,lt)=>{const it=c[lt];return Y[lt]=(mt,P=!1,R=!1)=>(n||N(),it.schedule(mt,P,R)),Y},{}),cancel:Y=>{for(let lt=0;lt<Kh.length;lt++)c[Kh[lt]].cancel(Y)},state:a,steps:c}}const{schedule:ae,cancel:gr,state:$e,steps:Ip}=Hw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let lf;function L4(){lf=void 0}const yn={now:()=>(lf===void 0&&yn.set($e.isProcessing||bs.useManualTiming?$e.timestamp:performance.now()),lf),set:e=>{lf=e,queueMicrotask(L4)}},Gw=e=>t=>typeof t=="string"&&t.startsWith(e),ev=Gw("--"),U4=Gw("var(--"),nv=e=>U4(e)?j4.test(e.split("/*")[0].trim()):!1,j4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yu={...sl,transform:e=>Es(0,1,e)},Yh={...sl,default:1},Du=e=>Math.round(e*1e5)/1e5,iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B4(e){return e==null}const z4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sv=(e,t)=>n=>!!(typeof n=="string"&&z4.test(n)&&n.startsWith(e)||t&&!B4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Kw=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(iv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},F4=e=>Es(0,255,e),Dp={...sl,transform:e=>Math.round(F4(e))},ua={test:sv("rgb","red"),parse:Kw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Dp.transform(e)+", "+Dp.transform(t)+", "+Dp.transform(n)+", "+Du(Yu.transform(s))+")"};function q4(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const _g={test:sv("#"),parse:q4,transform:ua.transform},dc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tr=dc("deg"),Pi=dc("%"),bt=dc("px"),H4=dc("vh"),G4=dc("vw"),S1={...Pi,parse:e=>Pi.parse(e)/100,transform:e=>Pi.transform(e*100)},Ro={test:sv("hsl","hue"),parse:Kw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Pi.transform(Du(t))+", "+Pi.transform(Du(n))+", "+Du(Yu.transform(s))+")"},xe={test:e=>ua.test(e)||_g.test(e)||Ro.test(e),parse:e=>ua.test(e)?ua.parse(e):Ro.test(e)?Ro.parse(e):_g.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ua.transform(e):Ro.transform(e),getAnimatableNone:e=>{const t=xe.parse(e);return t.alpha=0,xe.transform(t)}},K4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y4(e){return isNaN(e)&&typeof e=="string"&&(e.match(iv)?.length||0)+(e.match(K4)?.length||0)>0}const Yw="number",$w="color",$4="var",Q4="var(",w1="${}",X4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $u(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(X4,m=>(xe.test(m)?(s.color.push(l),a.push($w),n.push(xe.parse(m))):m.startsWith(Q4)?(s.var.push(l),a.push($4),n.push(m)):(s.number.push(l),a.push(Yw),n.push(parseFloat(m))),++l,w1)).split(w1);return{values:n,split:d,indexes:s,types:a}}function Qw(e){return $u(e).values}function Xw(e){const{split:t,types:n}=$u(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===Yw?l+=Du(a[c]):d===$w?l+=xe.transform(a[c]):l+=a[c]}return l}}const W4=e=>typeof e=="number"?0:xe.test(e)?xe.getAnimatableNone(e):e;function Z4(e){const t=Qw(e);return Xw(e)(t.map(W4))}const yr={test:Y4,parse:Qw,createTransformer:Xw,getAnimatableNone:Z4};function Np(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function J4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Np(m,d,e+1/3),l=Np(m,d,e),c=Np(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Vf(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,Vp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},t3=[_g,ua,Ro],e3=e=>t3.find(t=>t.test(e));function R1(e){const t=e3(e);if(!t)return!1;let n=t.parse(e);return t===Ro&&(n=J4(n)),n}const x1=(e,t)=>{const n=R1(e),s=R1(t);if(!n||!s)return Vf(e,t);const a={...n};return l=>(a.red=Vp(n.red,s.red,l),a.green=Vp(n.green,s.green,l),a.blue=Vp(n.blue,s.blue,l),a.alpha=le(n.alpha,s.alpha,l),ua.transform(a))},Tg=new Set(["none","hidden"]);function n3(e,t){return Tg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function i3(e,t){return n=>le(e,t,n)}function rv(e){return typeof e=="number"?i3:typeof e=="string"?nv(e)?Vf:xe.test(e)?x1:a3:Array.isArray(e)?Ww:typeof e=="object"?xe.test(e)?x1:s3:Vf}function Ww(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>rv(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function s3(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=rv(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function r3(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const a3=(e,t)=>{const n=yr.createTransformer(t),s=$u(e),a=$u(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Tg.has(e)&&!a.values.length||Tg.has(t)&&!s.values.length?n3(e,t):hc(Ww(r3(s,a),a.values),n):Vf(e,t)};function Zw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):rv(e)(e,t)}const o3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>gr(t),now:()=>$e.isProcessing?$e.timestamp:yn.now()}},Jw=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Mf=2e4;function av(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Mf;)t+=n,s=e.next(t);return t>=Mf?1/0:t}function l3(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(av(s),Mf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Mi(a)}}const u3=5;function tR(e,t,n){const s=Math.max(t-u3,0);return Mw(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mp=.001;function c3({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=Es(me.minDamping,me.maxDamping,c),e=Es(me.minDuration,me.maxDuration,Mi(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,x=Eg(p,c),V=Math.exp(-_);return Mp-b/x*V},l=p=>{const _=p*c*e,b=_*n+n,x=Math.pow(c,2)*Math.pow(p,2)*e,V=Math.exp(-_),B=Eg(Math.pow(p,2),c);return(-a(p)+Mp>0?-1:1)*((b-x)*V)/B}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Mp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=f3(a,l,d);if(e=Vi(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const h3=12;function f3(e,t,n){let s=n;for(let a=1;a<h3;a++)s=s-e(s)/t(s);return s}function Eg(e,t){return e*Math.sqrt(1-t*t)}const d3=["duration","bounce"],m3=["stiffness","damping","mass"];function C1(e,t){return t.some(n=>e[n]!==void 0)}function p3(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!C1(e,m3)&&C1(e,d3))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Es(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=c3(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Pf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:x}=p3({...n,velocity:-Mi(n.velocity||0)}),V=b||0,B=p/(2*Math.sqrt(m*y)),N=c-l,j=Mi(Math.sqrt(m/y)),q=Math.abs(N)<5;s||(s=q?me.restSpeed.granular:me.restSpeed.default),a||(a=q?me.restDelta.granular:me.restDelta.default);let Y;if(B<1){const it=Eg(j,B);Y=mt=>{const P=Math.exp(-B*j*mt);return c-P*((V+B*j*N)/it*Math.sin(it*mt)+N*Math.cos(it*mt))}}else if(B===1)Y=it=>c-Math.exp(-j*it)*(N+(V+j*N)*it);else{const it=j*Math.sqrt(B*B-1);Y=mt=>{const P=Math.exp(-B*j*mt),R=Math.min(it*mt,300);return c-P*((V+B*j*N)*Math.sinh(R)+it*N*Math.cosh(R))/it}}const lt={calculatedDuration:x&&_||null,next:it=>{const mt=Y(it);if(x)d.done=it>=_;else{let P=it===0?V:0;B<1&&(P=it===0?Vi(V):tR(Y,it,mt));const R=Math.abs(P)<=s,C=Math.abs(c-mt)<=a;d.done=R&&C}return d.value=d.done?c:mt,d},toString:()=>{const it=Math.min(av(lt),Mf),mt=Jw(P=>lt.next(it*P).value,it,30);return it+"ms "+mt},toTransition:()=>{}};return lt}Pf.applyToOptions=e=>{const t=l3(e,100,Pf);return e.ease=t.ease,e.duration=Vi(t.duration),e.type="keyframes",e};function bg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},x=R=>d!==void 0&&R<d||m!==void 0&&R>m,V=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let B=n*t;const N=_+B,j=c===void 0?N:c(N);j!==N&&(B=j-_);const q=R=>-B*Math.exp(-R/s),Y=R=>j+q(R),lt=R=>{const C=q(R),k=Y(R);b.done=Math.abs(C)<=p,b.value=b.done?j:k};let it,mt;const P=R=>{x(b.value)&&(it=R,mt=Pf({keyframes:[b.value,V(b.value)],velocity:tR(Y,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:R=>{let C=!1;return!mt&&it===void 0&&(C=!0,lt(R),P(R)),it!==void 0&&R>=it?mt.next(R-it):(!C&&lt(R),b)}}}function g3(e,t,n){const s=[],a=n||bs.mix||Zw,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Gn:t;d=hc(m,d)}s.push(d)}return s}function y3(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Xy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=g3(t,s,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=Ku(e[_],e[_+1],y);return d[_](b)};return n?y=>p(Es(e[0],e[l-1],y)):p}function v3(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Ku(0,t,s);e.push(le(n,1,a))}}function _3(e){const t=[0];return v3(t,e.length-1),t}function T3(e,t){return e.map(n=>n*t)}function E3(e,t){return e.map(()=>t||Fw).splice(0,e.length-1)}function Nu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=V4(s)?s.map(A1):A1(s),l={done:!1,value:t[0]},c=T3(n&&n.length===t.length?n:_3(t),e),d=y3(c,t,{ease:Array.isArray(a)?a:E3(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const b3=e=>e!==null;function ov(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(b3),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const A3={decay:bg,inertia:bg,tween:Nu,keyframes:Nu,spring:Pf};function eR(e){typeof e.type=="string"&&(e.type=A3[e.type])}class lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const S3=e=>e/100;class uv extends lv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;eR(t);const{type:n=Nu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Nu;m!==Nu&&typeof d[0]!="number"&&(this.mixKeyframes=hc(S3,Zw(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=av(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:x,type:V,onUpdate:B,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,lt=s;if(_){const R=Math.min(this.currentTime,a)/d;let C=Math.floor(R),k=R%1;!k&&R>=1&&(k=1),k===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(b==="reverse"?(k=1-k,x&&(k-=x/d)):b==="mirror"&&(lt=c)),Y=Es(0,1,k)*d}const it=q?{done:!1,value:y[0]}:lt.next(Y);l&&(it.value=l(it.value));let{done:mt}=it;!q&&m!==null&&(mt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&mt);return P&&V!==bg&&(it.value=ov(y,this.options,N,this.speed)),B&&B(it.value),P&&this.finish(),it}then(t,n){return this.finished.then(t,n)}get duration(){return Mi(this.calculatedDuration)}get time(){return Mi(this.currentTime)}set time(t){t=Vi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=o3,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function w3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ca=e=>e*180/Math.PI,Ag=e=>{const t=ca(Math.atan2(e[1],e[0]));return Sg(t)},R3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ag,rotateZ:Ag,skewX:e=>ca(Math.atan(e[1])),skewY:e=>ca(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Sg=e=>(e=e%360,e<0&&(e+=360),e),I1=Ag,D1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),N1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),x3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D1,scaleY:N1,scale:e=>(D1(e)+N1(e))/2,rotateX:e=>Sg(ca(Math.atan2(e[6],e[5]))),rotateY:e=>Sg(ca(Math.atan2(-e[2],e[0]))),rotateZ:I1,rotate:I1,skewX:e=>ca(Math.atan(e[4])),skewY:e=>ca(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wg(e){return e.includes("scale")?1:0}function Rg(e,t){if(!e||e==="none")return wg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=x3,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=R3,a=d}if(!a)return wg(t);const l=s[t],c=a[1].split(",").map(I3);return typeof l=="function"?l(c):c[l]}const C3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Rg(n,t)};function I3(e){return parseFloat(e.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(rl),V1=e=>e===sl||e===bt,D3=new Set(["x","y","z"]),N3=rl.filter(e=>!D3.has(e));function V3(e){const t=[];return N3.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Rg(t,"x"),y:(e,{transform:t})=>Rg(t,"y")};ma.translateX=ma.x;ma.translateY=ma.y;const pa=new Set;let xg=!1,Cg=!1,Ig=!1;function nR(){if(Cg){const e=Array.from(pa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=V3(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Cg=!1,xg=!1,pa.forEach(e=>e.complete(Ig)),pa.clear()}function iR(){pa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cg=!0)})}function M3(){Ig=!0,iR(),nR(),Ig=!1}class cv{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(pa.add(this),xg||(xg=!0,ae.read(iR),ae.resolveKeyframes(nR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}w3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pa.delete(this)}cancel(){this.state==="scheduled"&&(pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P3=e=>e.startsWith("--");function O3(e,t,n){P3(t)?e.style.setProperty(t,n):e.style[t]=n}const k3=Wy(()=>window.ScrollTimeline!==void 0),L3={};function U3(e,t){const n=Wy(e);return()=>L3[t]??n()}const sR=U3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Au=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,M1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Au([0,.65,.55,1]),circOut:Au([.55,0,1,.45]),backIn:Au([.31,.01,.66,-.59]),backOut:Au([.33,1.53,.69,.99])};function rR(e,t){if(e)return typeof e=="function"?sR()?Jw(e,t):"ease-out":qw(e)?Au(e):Array.isArray(e)?e.map(n=>rR(n,t)||M1.easeOut):M1[e]}function j3(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=rR(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function aR(e){return typeof e=="function"&&"applyToOptions"in e}function B3({type:e,...t}){return aR(e)&&sR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class z3 extends lv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Xy(typeof t.type!="string");const p=B3(t);this.animation=j3(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=ov(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):O3(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Mi(Number(t))}get time(){return Mi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&k3()?(this.animation.timeline=t,Gn):n(this)}}const oR={anticipate:jw,backInOut:Uw,circInOut:zw};function F3(e){return e in oR}function q3(e){typeof e.ease=="string"&&F3(e.ease)&&(e.ease=oR[e.ease])}const P1=10;class H3 extends z3{constructor(t){q3(t),eR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new uv({...c,autoplay:!1}),m=Vi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-P1).value,d.sample(m).value,P1),d.stop()}}const O1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yr.test(e)||e==="0")&&!e.startsWith("url("));function G3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function K3(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=O1(a,t),d=O1(l,t);return!c||!d?!1:G3(e)||(n==="spring"||aR(n))&&s}function Dg(e){e.duration=0,e.type}const Y3=new Set(["opacity","clipPath","filter","transform"]),$3=Wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q3(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return $3()&&n&&Y3.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const X3=40;class W3 extends lv{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const b={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},x=y?.KeyframeResolver||cv;this.keyframeResolver=new x(d,(V,B,N)=>this.onKeyframesResolved(V,B,b,!N),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=yn.now(),K3(t,l,c,d)||((bs.instantAnimations||!m)&&y?.(ov(t,s,n)),t[0]=t[t.length-1],Dg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>X3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!p&&Q3(b)?new H3({...b,element:b.motionValue.owner.current}):new uv(b);x.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),M3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Z3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J3(e){const t=Z3.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function lR(e,t,n=1){const[s,a]=J3(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Dw(c)?parseFloat(c):c}return nv(a)?lR(a,t,n+1):a}function hv(e,t){return e?.[t]??e?.default??e}const uR=new Set(["width","height","top","left","right","bottom",...rl]),t6={test:e=>e==="auto",parse:e=>e},cR=e=>t=>t.test(e),hR=[sl,bt,Pi,tr,G4,H4,t6],k1=e=>hR.find(cR(e));function e6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Vw(e):!0}const n6=new Set(["brightness","contrast","saturate","opacity"]);function i6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(iv)||[];if(!s)return e;const a=n.replace(s,"");let l=n6.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const s6=/\b([a-z-]*)\(.*?\)/gu,Ng={...yr,getAnimatableNone:e=>{const t=e.match(s6);return t?t.map(i6).join(" "):e}},L1={...sl,transform:Math.round},r6={rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:Yh,scaleX:Yh,scaleY:Yh,scaleZ:Yh,skew:tr,skewX:tr,skewY:tr,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Yu,originX:S1,originY:S1,originZ:bt},fv={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...r6,zIndex:L1,fillOpacity:Yu,strokeOpacity:Yu,numOctaves:L1},a6={...fv,color:xe,backgroundColor:xe,outlineColor:xe,fill:xe,stroke:xe,borderColor:xe,borderTopColor:xe,borderRightColor:xe,borderBottomColor:xe,borderLeftColor:xe,filter:Ng,WebkitFilter:Ng},fR=e=>a6[e];function dR(e,t){let n=fR(e);return n!==Ng&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const o6=new Set(["auto","none","0"]);function l6(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!o6.has(l)&&$u(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=dR(n,a)}class u6 extends cv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),nv(p))){const y=lR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!uR.has(s)||t.length!==2)return;const[a,l]=t,c=k1(a),d=k1(l);if(c!==d)if(V1(c)&&V1(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ma[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||e6(t[a]))&&s.push(a);s.length&&l6(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function c6(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const mR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function h6(e){return Nw(e)&&"offsetHeight"in e}const U1=30,f6=e=>!isNaN(parseFloat(e));class d6{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=f6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zy);const s=this.events[t].add(n);return t==="change"?()=>{s(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>U1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,U1);return Mw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new d6(e,t)}const{schedule:dv}=Hw(queueMicrotask,!1),Jn={x:!1,y:!1};function pR(){return Jn.x||Jn.y}function m6(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function gR(e,t){const n=c6(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function j1(e){return!(e.pointerType==="touch"||pR())}function p6(e,t,n={}){const[s,a,l]=gR(e,n),c=d=>{if(!j1(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=_=>{j1(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const yR=(e,t)=>t?e===t?!0:yR(e,t.parentElement):!1,mv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,g6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y6(e){return g6.has(e.tagName)||e.tabIndex!==-1}const uf=new WeakSet;function B1(e){return t=>{t.key==="Enter"&&e(t)}}function Pp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const v6=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=B1(()=>{if(uf.has(n))return;Pp(n,"down");const a=B1(()=>{Pp(n,"up")}),l=()=>Pp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function z1(e){return mv(e)&&!pR()}function _6(e,t,n={}){const[s,a,l]=gR(e,n),c=d=>{const m=d.currentTarget;if(!z1(d))return;uf.add(m);const p=t(m,d),y=(x,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),uf.has(m)&&uf.delete(m),z1(x)&&typeof p=="function"&&p(x,{success:V})},_=x=>{y(x,m===window||m===document||n.useGlobalTarget||yR(m,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),h6(d)&&(d.addEventListener("focus",p=>v6(p,a)),!y6(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function vR(e){return Nw(e)&&"ownerSVGElement"in e}function T6(e){return vR(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),E6=[...hR,xe,yr],b6=e=>E6.find(cR(e)),_R=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function A6(e=!0){const t=O.useContext(Yy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const TR=O.createContext({strict:!1}),F1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const e in F1)Go[e]={isEnabled:t=>F1[e].some(n=>!!t[n])};function S6(e){for(const t in e)Go[t]={...Go[t],...e[t]}}const w6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Of(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||w6.has(e)}let ER=e=>!Of(e);function R6(e){typeof e=="function"&&(ER=t=>t.startsWith("on")?!Of(t):e(t))}try{R6(require("@emotion/is-prop-valid").default)}catch{}function x6(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(ER(a)||n===!0&&Of(a)||!t&&!Of(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const ad=O.createContext({});function od(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qu(e){return typeof e=="string"||Array.isArray(e)}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gv=["initial",...pv];function ld(e){return od(e.animate)||gv.some(t=>Qu(e[t]))}function bR(e){return!!(ld(e)||e.variants)}function C6(e,t){if(ld(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Qu(n)?n:void 0,animate:Qu(s)?s:void 0}}return e.inherit!==!1?t:{}}function I6(e){const{initial:t,animate:n}=C6(e,O.useContext(ad));return O.useMemo(()=>({initial:t,animate:n}),[q1(t),q1(n)])}function q1(e){return Array.isArray(e)?e.join(" "):e}const Xu={};function D6(e){for(const t in e)Xu[t]=e[t],ev(t)&&(Xu[t].isCSSVariable=!0)}function AR(e,{layout:t,layoutId:n}){return al.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xu[e]||e==="opacity")}const N6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V6=rl.length;function M6(e,t,n){let s="",a=!0;for(let l=0;l<V6;l++){const c=rl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=mR(d,fv[c]);if(!m){a=!1;const y=N6[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function yv(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(al.has(m)){c=!0;continue}else if(ev(m)){a[m]=p;continue}else{const y=mR(p,fv[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=M6(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const vv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SR(e,t,n){for(const s in t)!rn(t[s])&&!AR(s,n)&&(e[s]=t[s])}function P6({transformTemplate:e},t){return O.useMemo(()=>{const n=vv();return yv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function O6(e,t){const n=e.style||{},s={};return SR(s,n,e),Object.assign(s,P6(e,t)),s}function k6(e,t){const n={},s=O6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const L6={offset:"stroke-dashoffset",array:"stroke-dasharray"},U6={offset:"strokeDashoffset",array:"strokeDasharray"};function j6(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?L6:U6;e[l.offset]=bt.transform(-s);const c=bt.transform(t),d=bt.transform(n);e[l.array]=`${c} ${d}`}function wR(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(yv(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&j6(_,a,l,c,!1)}const RR=()=>({...vv(),attrs:{}}),xR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function B6(e,t,n,s){const a=O.useMemo(()=>{const l=RR();return wR(l,t,xR(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};SR(l,e.style,e),a.style={...l,...a.style}}return a}const z6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _v(e){return typeof e!="string"||e.includes("-")?!1:!!(z6.indexOf(e)>-1||/[A-Z]/u.test(e))}function F6(e,t,n,{latestValues:s},a,l=!1){const d=(_v(e)?B6:k6)(t,s,a,e),m=x6(t,typeof e=="string",l),p=e!==O.Fragment?{...m,...d,ref:n}:{},{children:y}=t,_=O.useMemo(()=>rn(y)?y.get():y,[y]);return O.createElement(e,{...p,children:_})}function H1(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Tv(e,t,n,s){if(typeof t=="function"){const[a,l]=H1(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=H1(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function cf(e){return rn(e)?e.get():e}function q6({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:H6(n,s,a,e),renderState:t()}}function H6(e,t,n,s){const a={},l=s(e,{});for(const b in l)a[b]=cf(l[b]);let{initial:c,animate:d}=e;const m=ld(e),p=bR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!od(_)){const b=Array.isArray(_)?_:[_];for(let x=0;x<b.length;x++){const V=Tv(e,b[x]);if(V){const{transitionEnd:B,transition:N,...j}=V;for(const q in j){let Y=j[q];if(Array.isArray(Y)){const lt=y?Y.length-1:0;Y=Y[lt]}Y!==null&&(a[q]=Y)}for(const q in B)a[q]=B[q]}}}return a}const CR=e=>(t,n)=>{const s=O.useContext(ad),a=O.useContext(Yy),l=()=>q6(e,t,s,a);return n?l():S4(l)};function Ev(e,t,n){const{style:s}=e,a={};for(const l in s)(rn(s[l])||t.style&&rn(t.style[l])||AR(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const G6=CR({scrapeMotionValuesFromProps:Ev,createRenderState:vv});function IR(e,t,n){const s=Ev(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const K6=CR({scrapeMotionValuesFromProps:IR,createRenderState:RR}),Y6=Symbol.for("motionComponentSymbol");function xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $6(e,t,n){return O.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):xo(n)&&(n.current=s))},[t])}const bv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q6="framerAppearId",DR="data-"+bv(Q6),NR=O.createContext({});function X6(e,t,n,s,a){const{visualElement:l}=O.useContext(ad),c=O.useContext(TR),d=O.useContext(Yy),m=O.useContext(_R).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(NR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&W6(p.current,n,a,_);const b=O.useRef(!1);O.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const x=n[DR],V=O.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return w4(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),V.current=!1),y.enteringChildren=void 0)}),y}function W6(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:VR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&xo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function VR(e){if(e)return e.options.allowProjection!==!1?e.projection:VR(e.parent)}function Op(e,{forwardMotionProps:t=!1}={},n,s){n&&S6(n);const a=_v(e)?K6:G6;function l(d,m){let p;const y={...O.useContext(_R),...d,layoutId:Z6(d)},{isStatic:_}=y,b=I6(d),x=a(d,_);if(!_&&Ky){J6();const V=tk(y);p=V.MeasureLayout,b.visualElement=X6(e,x,y,s,V.ProjectionNode)}return w.jsxs(ad.Provider,{value:b,children:[p&&b.visualElement?w.jsx(p,{visualElement:b.visualElement,...y}):null,F6(e,d,$6(x,b.visualElement,m),x,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(l);return c[Y6]=e,c}function Z6({layoutId:e}){const t=O.useContext(Iw).id;return t&&e!==void 0?t+"-"+e:e}function J6(e,t){O.useContext(TR).strict}function tk(e){const{drag:t,layout:n}=Go;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ek(e,t){if(typeof Proxy>"u")return Op;const n=new Map,s=(l,c)=>Op(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Op(c,void 0,e,t)),n.get(c))})}function MR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function nk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ik(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function kp(e){return e===void 0||e===1}function Vg({scale:e,scaleX:t,scaleY:n}){return!kp(e)||!kp(t)||!kp(n)}function ra(e){return Vg(e)||PR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PR(e){return G1(e.x)||G1(e.y)}function G1(e){return e&&e!=="0%"}function kf(e,t,n){const s=e-n,a=t*s;return n+a}function K1(e,t,n,s,a){return a!==void 0&&(e=kf(e,a,s)),kf(e,n,s)+t}function Mg(e,t=0,n=1,s,a){e.min=K1(e.min,t,n,s,a),e.max=K1(e.max,t,n,s,a)}function OR(e,{x:t,y:n}){Mg(e.x,t.translate,t.scale,t.originPoint),Mg(e.y,n.translate,n.scale,n.originPoint)}const Y1=.999999999999,$1=1.0000000000001;function sk(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Io(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,OR(e,c)),s&&ra(l.latestValues)&&Io(e,l.latestValues))}t.x<$1&&t.x>Y1&&(t.x=1),t.y<$1&&t.y>Y1&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function Q1(e,t,n,s,a=.5){const l=le(e.min,e.max,a);Mg(e,t,n,l,s)}function Io(e,t){Q1(e.x,t.x,t.scaleX,t.scale,t.originX),Q1(e.y,t.y,t.scaleY,t.scale,t.originY)}function kR(e,t){return MR(ik(e.getBoundingClientRect(),t))}function rk(e,t,n){const s=kR(e,n),{scroll:a}=t;return a&&(Co(s.x,a.offset.x),Co(s.y,a.offset.y)),s}const X1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:X1(),y:X1()}),W1=()=>({min:0,max:0}),ve=()=>({x:W1(),y:W1()}),Pg={current:null},LR={current:!1};function ak(){if(LR.current=!0,!!Ky)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pg.current=e.matches;e.addEventListener("change",t),t()}else Pg.current=!1}const ok=new WeakMap;function lk(e,t,n){for(const s in t){const a=t[s],l=n[s];if(rn(a))e.addValue(s,a);else if(rn(l))e.addValue(s,Ho(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Ho(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uk{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=yn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ld(n),this.isVariantNode=bR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const x=_[b];m[b]!==void 0&&rn(x)&&x.set(m[b])}}mount(t){this.current=t,ok.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),LR.current||ak(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=al.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Go){const n=Go[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Z1.length;s++){const a=Z1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ho(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Dw(s)||Vw(s))?s=parseFloat(s):!b6(s)&&yr.test(n)&&(s=dR(t,n)),this.setBaseTarget(t,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Tv(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){dv.render(this.render)}}class UR extends uk{constructor(){super(...arguments),this.KeyframeResolver=u6}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jR(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function ck(e){return window.getComputedStyle(e)}class hk extends UR{constructor(){super(...arguments),this.type="html",this.renderInstance=jR}readValueFromInstance(t,n){if(al.has(n))return this.projection?.isProjecting?wg(n):C3(t,n);{const s=ck(t),a=(ev(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kR(t,n)}build(t,n,s){yv(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Ev(t,n,s)}}const BR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fk(e,t,n,s){jR(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(BR.has(a)?a:bv(a),t.attrs[a])}class dk extends UR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(al.has(n)){const s=fR(n);return s&&s.default||0}return n=BR.has(n)?n:bv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return IR(t,n,s)}build(t,n,s){wR(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){fk(t,n,s,a)}mount(t){this.isSVGTag=xR(t.tagName),super.mount(t)}}const mk=(e,t)=>_v(e)?new dk(t):new hk(t,{allowProjection:e!==O.Fragment});function Oo(e,t,n){const s=e.getProps();return Tv(s,t,n!==void 0?n:s.custom,e)}const Og=e=>Array.isArray(e);function pk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function gk(e){return Og(e)?e[e.length-1]||0:e}function yk(e,t){const n=Oo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=gk(l[c]);pk(e,c,d)}}function vk(e){return!!(rn(e)&&e.add)}function kg(e,t){const n=e.getValue("willChange");if(vk(n))return n.add(t);if(!n&&bs.WillChange){const s=new bs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function zR(e){return e.props[DR]}const _k=e=>e!==null;function Tk(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(_k),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const Ek={type:"spring",stiffness:500,damping:25,restSpeed:10},bk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ak={type:"keyframes",duration:.8},Sk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wk=(e,{keyframes:t})=>t.length>2?Ak:al.has(e)?e.startsWith("scale")?bk(t[1]):Ek:Sk;function Rk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Av=(e,t,n,s={},a,l)=>c=>{const d=hv(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Vi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};Rk(d)||Object.assign(y,wk(e,y)),y.duration&&(y.duration=Vi(y.duration)),y.repeatDelay&&(y.repeatDelay=Vi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Dg(y),y.delay===0&&(_=!0)),(bs.instantAnimations||bs.skipAnimations)&&(_=!0,Dg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=Tk(y.keyframes,d);if(b!==void 0){ae.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new uv(y):new W3(y)};function xk({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function FR(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||p&&xk(p,y))continue;const x={delay:n,...hv(l||{},y)},V=_.get();if(V!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===V&&!x.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const j=zR(e);if(j){const q=window.MotionHandoffAnimation(j,y,ae);q!==null&&(x.startTime=q,B=!0)}}kg(e,y),_.start(Av(y,_,b,e.shouldReduceMotion&&uR.has(y)?{type:!1}:x,e,B));const N=_.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{ae.update(()=>{c&&yk(e,c)})}),m}function qR(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Lg(e,t,n={}){const s=Oo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(FR(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return Ck(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function Ck(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Lg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+qR(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function Ik(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Lg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Lg(e,t,n);else{const a=typeof t=="function"?Oo(e,t,n.custom):t;s=Promise.all(FR(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function HR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Dk=gv.length;function GR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?GR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Dk;n++){const s=gv[n],a=e.props[s];(Qu(a)||a===!1)&&(t[s]=a)}return t}const Nk=[...pv].reverse(),Vk=pv.length;function Mk(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Ik(e,n,s)))}function Pk(e){let t=Mk(e),n=J1(),s=!0;const a=m=>(p,y)=>{const _=Oo(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:x,...V}=_;p={...p,...V,...x}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=GR(e.parent)||{},_=[],b=new Set;let x={},V=1/0;for(let N=0;N<Vk;N++){const j=Nk[N],q=n[j],Y=p[j]!==void 0?p[j]:y[j],lt=Qu(Y),it=j===m?q.isActive:null;it===!1&&(V=N);let mt=Y===y[j]&&Y!==p[j]&&lt;if(mt&&s&&e.manuallyAnimateOnMount&&(mt=!1),q.protectedKeys={...x},!q.isActive&&it===null||!Y&&!q.prevProp||od(Y)||typeof Y=="boolean")continue;const P=Ok(q.prevProp,Y);let R=P||j===m&&q.isActive&&!mt&&lt||N>V&&lt,C=!1;const k=Array.isArray(Y)?Y:[Y];let U=k.reduce(a(j),{});it===!1&&(U={});const{prevResolvedValues:F={}}=q,D={...F,...U},Ee=rt=>{R=!0,b.has(rt)&&(C=!0,b.delete(rt)),q.needsAnimating[rt]=!0;const ht=e.getValue(rt);ht&&(ht.liveStyle=!1)};for(const rt in D){const ht=U[rt],Ct=F[rt];if(x.hasOwnProperty(rt))continue;let M=!1;Og(ht)&&Og(Ct)?M=!HR(ht,Ct):M=ht!==Ct,M?ht!=null?Ee(rt):b.add(rt):ht!==void 0&&b.has(rt)?Ee(rt):q.protectedKeys[rt]=!0}q.prevProp=Y,q.prevResolvedValues=U,q.isActive&&(x={...x,...U}),s&&e.blockInitialAnimation&&(R=!1);const ne=mt&&P;R&&(!ne||C)&&_.push(...k.map(rt=>{const ht={type:j};if(typeof rt=="string"&&s&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,M=Oo(Ct,rt);if(Ct.enteringChildren&&M){const{delayChildren:st}=M.transition||{};ht.delay=qR(Ct.enteringChildren,e,st)}}return{animation:rt,options:ht}}))}if(b.size){const N={};if(typeof p.initial!="boolean"){const j=Oo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(N.transition=j.transition)}b.forEach(j=>{const q=e.getBaseTarget(j),Y=e.getValue(j);Y&&(Y.liveStyle=!0),N[j]=q??null}),_.push({animation:N})}let B=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(B=!1),s=!1,B?t(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=J1(),s=!0}}}function Ok(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HR(t,e):!1}function ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J1(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class _r{constructor(t){this.isMounted=!1,this.node=t}update(){}}class kk extends _r{constructor(t){super(t),t.animationState||(t.animationState=Pk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();od(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Lk=0;class Uk extends _r{constructor(){super(...arguments),this.id=Lk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const jk={animation:{Feature:kk},exit:{Feature:Uk}};function Wu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function mc(e){return{point:{x:e.pageX,y:e.pageY}}}const Bk=e=>t=>mv(t)&&e(t,mc(t));function Vu(e,t,n,s){return Wu(e,t,Bk(n),s)}const KR=1e-4,zk=1-KR,Fk=1+KR,YR=.01,qk=0-YR,Hk=0+YR;function hn(e){return e.max-e.min}function Gk(e,t,n){return Math.abs(e-t)<=n}function tb(e,t,n,s=.5){e.origin=s,e.originPoint=le(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=zk&&e.scale<=Fk||isNaN(e.scale))&&(e.scale=1),(e.translate>=qk&&e.translate<=Hk||isNaN(e.translate))&&(e.translate=0)}function Mu(e,t,n,s){tb(e.x,t.x,n.x,s?s.originX:void 0),tb(e.y,t.y,n.y,s?s.originY:void 0)}function eb(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function Kk(e,t,n){eb(e.x,t.x,n.x),eb(e.y,t.y,n.y)}function nb(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Pu(e,t,n){nb(e.x,t.x,n.x),nb(e.y,t.y,n.y)}function Fn(e){return[e("x"),e("y")]}const $R=({current:e})=>e?e.ownerDocument.defaultView:null,ib=(e,t)=>Math.abs(e-t);function Yk(e,t){const n=ib(e.x,t.x),s=ib(e.y,t.y);return Math.sqrt(n**2+s**2)}class QR{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Up(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,V=Yk(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!V)return;const{point:B}=b,{timestamp:N}=$e;this.history.push({...B,timestamp:N});const{onStart:j,onMove:q}=this.handlers;x||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Lp(x,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:V,onSessionEnd:B,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Up(b.type==="pointercancel"?this.lastMoveEventInfo:Lp(x,this.transformPagePoint),this.history);this.startEvent&&V&&V(b,j),B&&B(b,j)},!mv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=mc(t),m=Lp(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=$e;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,Up(m,this.history)),this.removeListeners=hc(Vu(this.contextWindow,"pointermove",this.handlePointerMove),Vu(this.contextWindow,"pointerup",this.handlePointerUp),Vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function Lp(e,t){return t?{point:t(e.point)}:e}function sb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Up({point:e},t){return{point:e,delta:sb(e,XR(t)),offset:sb(e,$k(t)),velocity:Qk(t,.1)}}function $k(e){return e[0]}function XR(e){return e[e.length-1]}function Qk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=XR(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Vi(t)));)n--;if(!s)return{x:0,y:0};const l=Mi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Xk(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?le(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?le(n,e,s.max):Math.min(e,n)),e}function rb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Wk(e,{top:t,left:n,bottom:s,right:a}){return{x:rb(e.x,n,a),y:rb(e.y,t,s)}}function ab(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Zk(e,t){return{x:ab(e.x,t.x),y:ab(e.y,t.y)}}function Jk(e,t){let n=.5;const s=hn(e),a=hn(t);return a>s?n=Ku(t.min,t.max-s,e.min):s>a&&(n=Ku(e.min,e.max-a,t.min)),Es(0,1,n)}function tL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ug=.35;function eL(e=Ug){return e===!1?e=0:e===!0&&(e=Ug),{x:ob(e,"left","right"),y:ob(e,"top","bottom")}}function ob(e,t,n){return{min:lb(e,t),max:lb(e,n)}}function lb(e,t){return typeof e=="number"?e:e[t]||0}const nL=new WeakMap;class iL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mc(_).point)},c=(_,b)=>{const{drag:x,dragPropagation:V,onDragStart:B}=this.getProps();if(x&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m6(x),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(j=>{let q=this.getAxisMotionValue(j).get()||0;if(Pi.test(q)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const lt=Y.layout.layoutBox[j];lt&&(q=hn(lt)*(parseFloat(q)/100))}}this.originPoint[j]=q}),B&&ae.postRender(()=>B(_,b)),kg(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:V,onDirectionLock:B,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:j}=b;if(V&&this.currentDirection===null){this.currentDirection=sL(j),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),N&&N(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Fn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new QR(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:$R(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ae.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!$h(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=Xk(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Wk(s.layoutBox,t):this.constraints=!1,this.elastic=eL(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=tL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=rk(s,a.root,this.visualElement.getTransformPagePoint());let c=Zk(a.layout.layoutBox,l);if(n){const d=n(nk(c));this.hasMutatedConstraints=!!d,d&&(c=MR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Fn(y=>{if(!$h(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,V={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,V)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return kg(this.visualElement,t),s.start(Av(t,s,0,n,this.visualElement,!1))}stopAnimation(){Fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Fn(n=>{const{drag:s}=this.getProps();if(!$h(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=Jk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Fn(c=>{if(!$h(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(le(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;nL.set(this.visualElement,this);const t=this.visualElement.current,n=Vu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();xo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(s);const c=Wu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ug,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function $h(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rL extends _r{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new iL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ub=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class aL extends _r{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new QR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$R(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ub(t),onStart:ub(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=cb(e,t.target.x),s=cb(e,t.target.y);return`${n}% ${s}%`}},oL={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=yr.parse(e);if(a.length>5)return s;const l=yr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let jp=!1;class lL extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;D6(uL),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),jp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,jp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;jp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WR(e){const[t,n]=A6(),s=O.useContext(Iw);return w.jsx(lL,{...e,layoutGroup:s,switchLayoutGroup:O.useContext(NR),isPresent:t,safeToRemove:n})}const uL={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:oL};function cL(e,t,n){const s=rn(e)?e:Ho(e);return s.start(Av("",s,t,n)),s.animation}const hL=(e,t)=>e.depth-t.depth;class fL{constructor(){this.children=[],this.isDirty=!1}add(t){$y(this.children,t),this.isDirty=!0}remove(t){Qy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hL),this.isDirty=!1,this.children.forEach(t)}}function dL(e,t){const n=yn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(gr(s),e(l-t))};return ae.setup(s,!0),()=>gr(s)}const ZR=["TopLeft","TopRight","BottomLeft","BottomRight"],mL=ZR.length,hb=e=>typeof e=="string"?parseFloat(e):e,fb=e=>typeof e=="number"||bt.test(e);function pL(e,t,n,s,a,l){a?(e.opacity=le(0,n.opacity??1,gL(s)),e.opacityExit=le(t.opacity??1,0,yL(s))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,s));for(let c=0;c<mL;c++){const d=`border${ZR[c]}Radius`;let m=db(t,d),p=db(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||fb(m)===fb(p)?(e[d]=Math.max(le(hb(m),hb(p),s),0),(Pi.test(p)||Pi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,s))}function db(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gL=JR(0,.5,Bw),yL=JR(.5,.95,Gn);function JR(e,t,n){return s=>s<e?0:s>t?1:n(Ku(e,t,s))}function mb(e,t){e.min=t.min,e.max=t.max}function zn(e,t){mb(e.x,t.x),mb(e.y,t.y)}function pb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function gb(e,t,n,s,a){return e-=t,e=kf(e,1/n,s),a!==void 0&&(e=kf(e,1/a,s)),e}function vL(e,t=0,n=1,s=.5,a,l=e,c=e){if(Pi.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(l.min,l.max,s);e===l&&(d-=t),e.min=gb(e.min,t,n,d,a),e.max=gb(e.max,t,n,d,a)}function yb(e,t,[n,s,a],l,c){vL(e,t[n],t[s],t[a],t.scale,l,c)}const _L=["x","scaleX","originX"],TL=["y","scaleY","originY"];function vb(e,t,n,s){yb(e.x,t,_L,n?n.x:void 0,s?s.x:void 0),yb(e.y,t,TL,n?n.y:void 0,s?s.y:void 0)}function _b(e){return e.translate===0&&e.scale===1}function tx(e){return _b(e.x)&&_b(e.y)}function Tb(e,t){return e.min===t.min&&e.max===t.max}function EL(e,t){return Tb(e.x,t.x)&&Tb(e.y,t.y)}function Eb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ex(e,t){return Eb(e.x,t.x)&&Eb(e.y,t.y)}function bb(e){return hn(e.x)/hn(e.y)}function Ab(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bL{constructor(){this.members=[]}add(t){$y(this.members,t),t.scheduleRender()}remove(t){if(Qy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AL(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:x,skewY:V}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),x&&(s+=`skewX(${x}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Bp=["","X","Y","Z"],SL=1e3;let wL=0;function zp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function nx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=zR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&nx(s)}function ix({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=wL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CL),this.nodes.forEach(VL),this.nodes.forEach(ML),this.nodes.forEach(IL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new fL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=vR(c)&&!T6(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{_=window.innerWidth}),e(c,()=>{const x=window.innerWidth;x!==_&&(_=x,this.root.updateBlockedByResize=!0,y&&y(),y=dL(b,250),hf.hasAnimatedSinceResize&&(hf.hasAnimatedSinceResize=!1,this.nodes.forEach(Rb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||UL,{onLayoutAnimationStart:B,onLayoutAnimationComplete:N}=p.getProps(),j=!this.targetLayout||!ex(this.targetLayout,x),q=!_&&b;if(this.options.layoutRoot||this.resumeFrom||q||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...hv(V,"layout"),onPlay:B,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,q)}else _||Rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NL),this.nodes.forEach(RL),this.nodes.forEach(xL)):this.nodes.forEach(wb),this.clearAllSnapshots();const d=yn.now();$e.delta=Es(0,1e3/60,d-$e.timestamp),$e.timestamp=d,$e.isProcessing=!0,Ip.update.process($e),Ip.preRender.process($e),Ip.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DL),this.sharedNodes.forEach(OL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!tx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||ra(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),jL(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(BL))){const{scroll:p}=this.root;p&&(Co(d.x,p.offset.x),Co(d.y,p.offset.y))}return d}removeElementScroll(c){const d=ve();if(zn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&zn(d,c),Co(d.x,y.offset.x),Co(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=ve();zn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Io(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ra(y.latestValues)&&Io(m,y.latestValues)}return ra(this.latestValues)&&Io(m,this.latestValues),m}removeTransform(c){const d=ve();zn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ra(p.latestValues))continue;Vg(p.latestValues)&&p.updateSnapshot();const y=ve(),_=p.measurePageBox();zn(y,_),vb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ra(this.latestValues)&&vb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Pu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),OR(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Pu(this.relativeTargetOrigin,this.target,b.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||PR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;zn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;sk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pb(this.prevProjectionDelta.x,this.projectionDelta.x),pb(this.prevProjectionDelta.y,this.projectionDelta.y)),Mu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!Ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ve(),x=m?m.source:void 0,V=this.layout?this.layout.source:void 0,B=x!==V,N=this.getStack(),j=!N||N.members.length<=1,q=!!(B&&!j&&this.options.crossfade===!0&&!this.path.some(LL));this.animationProgress=0;let Y;this.mixTargetDelta=lt=>{const it=lt/1e3;xb(_.x,c.x,it),xb(_.y,c.y,it),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kL(this.relativeTarget,this.relativeTargetOrigin,b,it),Y&&EL(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ve()),zn(Y,this.relativeTarget)),B&&(this.animationValues=y,pL(y,p,this.latestValues,it,q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=cL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&sx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const _=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}zn(d,m),Io(d,y),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bL),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&zp("z",c,p,this.animationValues);for(let y=0;y<Bp.length;y++)zp(`rotate${Bp[y]}`,c,p,this.animationValues),zp(`skew${Bp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cf(d?.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=AL(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in Xu){if(y[V]===void 0)continue;const{correct:B,applyTo:N,isCSSVariable:j}=Xu[V],q=_==="none"?y[V]:B(y[V],p);if(N){const Y=N.length;for(let lt=0;lt<Y;lt++)c[N[lt]]=q}else j?this.options.visualElement.renderState.vars[V]=q:c[V]=q}this.options.layoutId&&(c.pointerEvents=p===this?cf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Sb),this.root.sharedNodes.clear()}}}function RL(e){e.updateLayout()}function xL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Fn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=hn(_);_.min=n[y].min,_.max=_.min+b}):sx(a,t.layoutBox,n)&&Fn(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=hn(n[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const c=Do();Mu(c,n,t.layoutBox);const d=Do();l?Mu(d,e.applyTransform(s,!0),t.measuredBox):Mu(d,n,t.layoutBox);const m=!tx(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const x=ve();Pu(x,t.layoutBox,_.layoutBox);const V=ve();Pu(V,n,b.layoutBox),ex(x,V)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=V,e.relativeTargetOrigin=x,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function CL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DL(e){e.clearSnapshot()}function Sb(e){e.clearMeasurements()}function wb(e){e.isLayoutDirty=!1}function NL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VL(e){e.resolveTargetDelta()}function ML(e){e.calcProjection()}function PL(e){e.resetSkewAndRotation()}function OL(e){e.removeLeadSnapshot()}function xb(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cb(e,t,n,s){e.min=le(t.min,n.min,s),e.max=le(t.max,n.max,s)}function kL(e,t,n,s){Cb(e.x,t.x,n.x,s),Cb(e.y,t.y,n.y,s)}function LL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const UL={duration:.45,ease:[.4,0,.1,1]},Ib=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Db=Ib("applewebkit/")&&!Ib("chrome/")?Math.round:Gn;function Nb(e){e.min=Db(e.min),e.max=Db(e.max)}function jL(e){Nb(e.x),Nb(e.y)}function sx(e,t,n){return e==="position"||e==="preserve-aspect"&&!Gk(bb(t),bb(n),.2)}function BL(e){return e!==e.root&&e.scroll?.wasRoot}const zL=ix({attachResizeListener:(e,t)=>Wu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fp={current:void 0},rx=ix({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fp.current){const e=new zL({});e.mount(window),e.setOptions({layoutScroll:!0}),Fp.current=e}return Fp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),FL={pan:{Feature:aL},drag:{Feature:rL,ProjectionNode:rx,MeasureLayout:WR}};function Vb(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ae.postRender(()=>l(t,mc(t)))}class qL extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=p6(t,(n,s)=>(Vb(this.node,s,"Start"),a=>Vb(this.node,a,"End"))))}unmount(){}}class HL extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hc(Wu(this.node.current,"focus",()=>this.onFocus()),Wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mb(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ae.postRender(()=>l(t,mc(t)))}class GL extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=_6(t,(n,s)=>(Mb(this.node,s,"Start"),(a,{success:l})=>Mb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jg=new WeakMap,qp=new WeakMap,KL=e=>{const t=jg.get(e.target);t&&t(e)},YL=e=>{e.forEach(KL)};function $L({root:e,...t}){const n=e||document;qp.has(n)||qp.set(n,{});const s=qp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(YL,{root:e,...t})),s[a]}function QL(e,t,n){const s=$L(t);return jg.set(e,n),s.observe(e),()=>{jg.delete(e),s.unobserve(e)}}const XL={some:0,all:1};class WL extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:XL[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return QL(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ZL(t,n))&&this.startObserver()}unmount(){}}function ZL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JL={inView:{Feature:WL},tap:{Feature:GL},focus:{Feature:HL},hover:{Feature:qL}},t5={layout:{ProjectionNode:rx,MeasureLayout:WR}},e5={...jk,...JL,...FL,...t5},Pb=ek(e5,mk),ax=e=>{const[t,n]=O.useState([]),[s,a]=O.useState(!0);return O.useEffect(()=>{if(!e){n([]),a(!1);return}a(!0);const l=Ta(xn,"exam_results",e,"submissions"),c=Ny(l,zS("percentage","desc")),d=nl(c,async m=>{const p=m.docs.map(_=>({id:_.id,..._.data()})),y=await Promise.all(p.map(async _=>{const b=Ea(xn,"users",_.userId),x=await Py(b),V=x.exists()?x.data().name:"  ";return{..._,name:V}}));n(y),a(!1)},m=>{console.error("Error fetching leaderboard:",m),a(!1)});return()=>d()},[e]),{leaderboard:t,loading:s}},n5=()=>{const{leaderboard:e,loading:t,percentage:n}=ax(),{user:s,loading:a}=Ca();return t||a?w.jsx("div",{className:"bg-white p-8 rounded-t-2xl",children:w.jsxs("div",{className:"container mx-auto",children:[w.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:" "}),w.jsx("div",{className:"spinner"})]})}):w.jsxs("div",{className:"bg-white p-8 rounded-t-2xl pb-24",children:[w.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:" "}),s&&w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("p",{className:"text-lg text-gray-700",children:" "}),w.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[n,"%"]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:w.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${n}%`}})})]}),w.jsx(Pb.div,{id:"leaderboard-list",className:"space-y-4",children:e.map((l,c)=>w.jsxs(Pb.div,{className:`flex items-center justify-between p-3 rounded-lg transition-all ${s&&s.uid===l.uid?"bg-blue-100 ring-2 ring-blue-500":"bg-gray-50"}`,children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"leaderboard-rank-box",children:c+1}),w.jsx("span",{className:"font-semibold text-gray-800 mr-3",children:l.name||"  "})]}),w.jsxs("span",{className:"font-bold text-blue-600",children:[l.points||0," "]})]},l.uid))})]})},i5=()=>{const[e,t]=O.useState([]),[n,s]=O.useState(!0);return O.useEffect(()=>{const a=Ta(xn,"exams"),l=Ny(a,zS("createdAt","desc")),c=nl(l,d=>{const m=d.docs.map(p=>({id:p.id,...p.data()}));t(m),s(!1)},d=>{console.error("Error fetching exams:",d),s(!1)});return()=>c()},[]),{exams:e,loading:n}},s5=()=>{const{exams:e,loading:t}=i5(),[n,s]=O.useState(null);O.useEffect(()=>{e.length>0&&s(e[0].id)},[e]);const{leaderboard:a,loading:l}=ax(n),c=a.slice(0,3),d=p=>{s(p.target.value)},m=t||l;return w.jsxs("div",{className:"flex-grow bg-white",children:[w.jsx("div",{style:{backgroundImage:"url('/basic/blu545.jpeg')",backgroundSize:"cover",backgroundPosition:"center"},className:"pt-24 pb-16",children:w.jsxs("div",{className:"px-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-right",children:" "}),w.jsx("select",{onChange:d,value:n||"",className:"bg-white border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500",children:e.map(p=>w.jsx("option",{value:p.id,children:p.name},p.id))})]}),w.jsxs("div",{className:"flex justify-around items-end",children:[c.length>1&&w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center mx-auto border-4 border-silver",children:w.jsx("h2",{className:"text-xl font-bold",children:"2"})}),w.jsx("h3",{className:"text-lg font-semibold mt-2",children:c[1].name}),w.jsxs("p",{className:"text-gray-600",children:[c[1].percentage,"%"]})]}),c.length>0&&w.jsxs("div",{className:"text-center mx-4",children:[w.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center mx-auto border-4 border-gold",children:w.jsx("h2",{className:"text-2xl font-bold",children:"1"})}),w.jsx("h3",{className:"text-xl font-bold mt-2",children:c[0].name}),w.jsxs("p",{className:"text-gray-700",children:[c[0].percentage,"%"]})]}),c.length>2&&w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center mx-auto border-4 border-bronze",children:w.jsx("h2",{className:"text-xl font-bold",children:"3"})}),w.jsx("h3",{className:"text-lg font-semibold mt-2",children:c[2].name}),w.jsxs("p",{className:"text-gray-600",children:[c[2].percentage,"%"]})]})]})]})}),w.jsx("div",{className:"relative -mt-8",children:m?w.jsx("div",{className:"spinner"}):w.jsx(n5,{leaderboard:a})})]})},r5=e=>{const[t,n]=O.useState([]),[s,a]=O.useState(!0),[l,c]=O.useState(null);return O.useEffect(()=>{(async()=>{if(!e){a(!1);return}try{const m=Ta(xn,"orders"),p=Ny(m,sP("userId","==",e)),_=(await oP(p)).docs.map(b=>({id:b.id,...b.data()}));n(_)}catch(m){c(m)}finally{a(!1)}})()},[e]),{orders:t,loading:s,error:l}},a5=({onFilterChange:e})=>{const[t,n]=O.useState(!1),s=O.useRef(null);O.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[s]);const a=l=>{e(l),n(!1)};return w.jsxs("div",{className:"relative",ref:s,children:[w.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-full hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01"})})}),t&&w.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-xl z-20",children:[w.jsx("button",{onClick:()=>a("pending"),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:" "}),w.jsx("button",{onClick:()=>a("delivered"),className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:" "})]})]})},o5=()=>{const{user:e}=Ca(),t=$o(),{orders:n,loading:s,error:a}=r5(e?.uid),[l,c]=O.useState("pending"),{setTitle:d,setLeftContent:m,setRightContent:p}=Rw();O.useEffect(()=>{const _=()=>w.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})});return d(" "),m(w.jsx(_,{})),p(w.jsx(a5,{onFilterChange:c})),()=>{d(""),m(null),p(null)}},[d,m,p,t]);const y=O.useMemo(()=>n.filter(_=>_.status===l),[n,l]);return s?w.jsx("div",{className:"p-4 text-center",children:"Loading..."}):a?w.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",a.message]}):w.jsx("div",{dir:"rtl",children:y.length===0?w.jsx("p",{className:"text-right text-gray-500 mt-4",children:"     ."}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(_=>w.jsxs("div",{className:"bg-white border rounded-lg shadow-md p-4 flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("h2",{className:"text-lg font-bold",children:_.productName}),w.jsx("span",{className:`px-2 py-1 text-sm rounded-full ${_.status==="pending"?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"}`,children:_.status})]}),w.jsxs("p",{className:"text-gray-600",children:[_.productPrice," "]}),w.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[" : ",w.jsx("span",{className:"font-mono",children:_.id})]})]}),w.jsxs("div",{className:"border-t mt-4 pt-4",children:[w.jsxs("p",{className:"text-sm",children:[w.jsx("strong",{children:" :"})," ",_.contactMethod," - ",_.phoneNumber]}),w.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" : ",_.createdAt?.toDate().toLocaleDateString("ar-EG")||" "]})]})]},_.id))})})};function l5(){const{pathname:e}=oi();return O.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const u5=()=>{const e=oi(),t=["/","/store","/profile","/evaluations","/leaderboard"].includes(e.pathname),n="md:mr-20",s=e.pathname==="/profile"||e.pathname==="/leaderboard",a=`${n} ${s?"mb-0":"p-4 mt-16 mb-16 md:mb-0"}`;return w.jsx(xw,{children:w.jsxs("div",{className:`min-h-screen ${s?"bg-white":"bg-gray-100"}`,children:[t&&w.jsx(Cw,{}),w.jsx(dI,{isCollapsed:!1}),w.jsx("main",{className:a,children:w.jsx(Yb,{})})]})})},c5=({backButtonLink:e})=>w.jsx(xw,{children:w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx(Cw,{showBackButton:!0,backButtonLink:e}),w.jsx("main",{className:"p-4 mt-16",children:w.jsx(Yb,{})})]})}),h5=()=>{const{initialAuthChecked:e}=Ca();return e?w.jsxs(sI,{basename:"/basic",children:[w.jsx(l5,{}),w.jsxs(OC,{children:[w.jsxs(Zn,{path:"/",element:w.jsx(u5,{}),children:[w.jsx(Zn,{index:!0,element:w.jsx(g4,{})}),w.jsx(Zn,{path:"evaluations",element:w.jsx(v4,{})}),w.jsx(Zn,{path:"store",element:w.jsx(T4,{})}),w.jsx(Zn,{path:"profile",element:w.jsx(E4,{})}),w.jsx(Zn,{path:"leaderboard",element:w.jsx(s5,{})})]}),w.jsx(Zn,{element:w.jsx(c5,{backButtonLink:"/profile"}),children:w.jsx(Zn,{path:"/purchase-orders",element:w.jsx(o5,{})})}),w.jsx(Zn,{path:"exam/:examId",element:w.jsx(b4,{})}),w.jsx(Zn,{path:"results/:examId",element:w.jsx(A4,{})})]})]}):w.jsx("div",{className:"flex justify-center items-center min-h-screen",children:w.jsx("div",{className:"spinner"})})};function f5(){return w.jsx(m4,{children:w.jsx(h5,{})})}F2.createRoot(document.getElementById("root")).render(w.jsx(P2.StrictMode,{children:w.jsx(f5,{})}));
